require("../@babel/runtime/helpers/Arrayincludes");

var _typeof2 = require("../@babel/runtime/helpers/typeof");

exports.fmAnalyser = function(t) {
    var e = {};
    function n(r) {
        var i;
        return (e[r] || (i = e[r] = {
            i: r,
            l: !1,
            exports: {}
        }, t[r].call(i.exports, i, i.exports, n), i.l = !0, i)).exports;
    }
    return n.m = t, n.c = e, n.d = function(t, e, r) {
        n.o(t, e) || Object.defineProperty(t, e, {
            enumerable: !0,
            get: r
        });
    }, n.r = function(t) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {
            value: "Module"
        }), Object.defineProperty(t, "u", {
            value: !0
        });
    }, n.t = function(t, e) {
        if (1 & e && (t = n(t)), 8 & e) return t;
        if (4 & e && "object" == _typeof2(t) && t && t.u) return t;
        var r = Object.create(null);
        if (n.r(r), Object.defineProperty(r, "default", {
            enumerable: !0,
            value: t
        }), 2 & e && "string" != typeof t) for (var i in t) n.d(r, i, function(e) {
            return t[e];
        }.bind(null, i));
        return r;
    }, n.n = function(t) {
        var e = t && t.u ? function() {
            return t.default;
        } : function() {
            return t;
        };
        return n.d(e, "a", e), e;
    }, n.o = function(t, e) {
        return Object.prototype.hasOwnProperty.call(t, e);
    }, n.p = "", n(n.s = 44);
}([ function(t, e, n) {
    n.d(e, "a", function() {
        return r;
    });
    e = n(2);
    var r = {
        document: "undefined" != typeof document ? document : {},
        window: "undefined" != typeof window ? window : {},
        environment: e.a.BROWSER,
        XMLHttpRequest: "undefined" != typeof XMLHttpRequest ? XMLHttpRequest : {}
    };
}, function(t, e, n) {
    var r, i, o = t.exports = n(3), s = n(18), a = (o.codegen = n(41), o.fetch = n(42), 
    o.path = n(43), o.fs = o.inquire("fs"), o.toArray = function(t) {
        if (t) {
            for (var e = Object.keys(t), n = new Array(e.length), r = 0; r < e.length; ) n[r] = t[e[r++]];
            return n;
        }
        return [];
    }, o.toObject = function(t) {
        for (var e = {}, n = 0; n < t.length; ) {
            var r = t[n++], i = t[n++];
            void 0 !== i && (e[r] = i);
        }
        return e;
    }, /\\/g), u = /"/g, l = (o.isReserved = function(t) {
        return /^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(t);
    }, o.safeProp = function(t) {
        return !/^[$\w_]+$/.test(t) || o.isReserved(t) ? '["' + t.replace(a, "\\\\").replace(u, '\\"') + '"]' : "." + t;
    }, o.ucFirst = function(t) {
        return t.charAt(0).toUpperCase() + t.substring(1);
    }, /_([a-z])/g), h = (o.camelCase = function(t) {
        return t.substring(0, 1) + t.substring(1).replace(l, function(t, e) {
            return e.toUpperCase();
        });
    }, o.compareFieldsById = function(t, e) {
        return t.id - e.id;
    }, o.decorateType = function(t, e) {
        return t.$type ? (e && t.$type.name !== e && (o.decorateRoot.remove(t.$type), t.$type.name = e, 
        o.decorateRoot.add(t.$type)), t.$type) : (e = new (r = r || n(20))(e || t.name), 
        o.decorateRoot.add(e), e.ctor = t, Object.defineProperty(t, "$type", {
            value: e,
            enumerable: !1
        }), Object.defineProperty(t.prototype, "$type", {
            value: e,
            enumerable: !1
        }), e);
    }, 0);
    o.decorateEnum = function(t) {
        var e;
        return t.$type || (e = new (i = i || n(4))("Enum" + h++, t), o.decorateRoot.add(e), 
        Object.defineProperty(t, "$type", {
            value: e,
            enumerable: !1
        }), e);
    }, o.setProperty = function(t, e, n) {
        if ("object" != _typeof2(t)) throw TypeError("dst must be an object");
        if (e) return function t(e, n, r) {
            var i = n.shift();
            return "__proto__" !== i && (0 < n.length ? e[i] = t(e[i] || {}, n, r) : ((n = e[i]) && (r = [].concat(n).concat(r)), 
            e[i] = r)), e;
        }(t, e = e.split("."), n);
        throw TypeError("path must be specified");
    }, Object.defineProperty(o, "decorateRoot", {
        get: function() {
            return s.decorated || (s.decorated = new (n(28))());
        }
    });
}, function(t, e, n) {
    var r = {
        BROWSER: 0,
        WX: 1
    };
    Object.freeze(r), e.a = r;
}, function(t, e, n) {
    (function(t) {
        var r = e;
        function i(t, e, n) {
            for (var r = Object.keys(e), i = 0; i < r.length; ++i) void 0 !== t[r[i]] && n || (t[r[i]] = e[r[i]]);
            return t;
        }
        function o(t) {
            function e(t, n) {
                if (!(this instanceof e)) return new e(t, n);
                Object.defineProperty(this, "message", {
                    get: function() {
                        return t;
                    }
                }), Error.captureStackTrace ? Error.captureStackTrace(this, e) : Object.defineProperty(this, "stack", {
                    value: new Error().stack || ""
                }), n && i(this, n);
            }
            return (e.prototype = Object.create(Error.prototype)).constructor = e, Object.defineProperty(e.prototype, "name", {
                get: function() {
                    return t;
                }
            }), e.prototype.toString = function() {
                return this.name + ": " + this.message;
            }, e;
        }
        r.asPromise = n(15), r.base64 = n(32), r.EventEmitter = n(33), r.float = n(34), 
        r.inquire = n(16), r.utf8 = n(35), r.pool = n(36), r.LongBits = n(37), r.isNode = Boolean(void 0 !== t && t && t.process && t.process.versions && t.process.versions.node), 
        r.global = r.isNode && t || "undefined" != typeof window && window || "undefined" != typeof self && self || this, 
        r.emptyArray = Object.freeze ? Object.freeze([]) : [], r.emptyObject = Object.freeze ? Object.freeze({}) : {}, 
        r.isInteger = Number.isInteger || function(t) {
            return "number" == typeof t && isFinite(t) && Math.floor(t) === t;
        }, r.isString = function(t) {
            return "string" == typeof t || t instanceof String;
        }, r.isObject = function(t) {
            return t && "object" == _typeof2(t);
        }, r.isset = r.isSet = function(t, e) {
            var n = t[e];
            return !(null == n || !t.hasOwnProperty(e)) && ("object" != _typeof2(n) || 0 < (Array.isArray(n) ? n : Object.keys(n)).length);
        }, r.Buffer = function() {
            try {
                var t = r.inquire("buffer").Buffer;
                return t.prototype.utf8Write ? t : null;
            } catch (t) {
                return null;
            }
        }(), r.v = null, r._ = null, r.newBuffer = function(t) {
            return "number" == typeof t ? r.Buffer ? r._(t) : new r.Array(t) : r.Buffer ? r.v(t) : "undefined" == typeof Uint8Array ? t : new Uint8Array(t);
        }, r.Array = "undefined" != typeof Uint8Array ? Uint8Array : Array, r.Long = r.global.dcodeIO && r.global.dcodeIO.Long || r.global.Long || r.inquire("long"), 
        r.key2Re = /^true|false|0|1$/, r.key32Re = /^-?(?:0|[1-9][0-9]*)$/, r.key64Re = /^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/, 
        r.longToHash = function(t) {
            return t ? r.LongBits.from(t).toHash() : r.LongBits.zeroHash;
        }, r.longFromHash = function(t, e) {
            return t = r.LongBits.fromHash(t), r.Long ? r.Long.fromBits(t.lo, t.hi, e) : t.toNumber(Boolean(e));
        }, r.merge = i, r.lcFirst = function(t) {
            return t.charAt(0).toLowerCase() + t.substring(1);
        }, r.newError = o, r.ProtocolError = o("ProtocolError"), r.oneOfGetter = function(t) {
            for (var e = {}, n = 0; n < t.length; ++n) e[t[n]] = 1;
            return function() {
                for (var t = Object.keys(this), n = t.length - 1; -1 < n; --n) if (1 === e[t[n]] && void 0 !== this[t[n]] && null !== this[t[n]]) return t[n];
            };
        }, r.oneOfSetter = function(t) {
            return function(e) {
                for (var n = 0; n < t.length; ++n) t[n] !== e && delete this[t[n]];
            };
        }, r.toJSONOptions = {
            longs: String,
            enums: String,
            bytes: String,
            json: !0
        }, r.j = function() {
            var t = r.Buffer;
            t ? (r.v = t.from !== Uint8Array.from && t.from || function(e, n) {
                return new t(e, n);
            }, r._ = t.allocUnsafe || function(e) {
                return new t(e);
            }) : r.v = r._ = null;
        };
    }).call(this, n(14));
}, function(t, e, n) {
    t.exports = s;
    var r = n(6), i = (((s.prototype = Object.create(r.prototype)).constructor = s).className = "Enum", 
    n(8)), o = n(1);
    function s(t, e, n, i, o) {
        if (r.call(this, t, n), e && "object" != _typeof2(e)) throw TypeError("values must be an object");
        if (this.valuesById = {}, this.values = Object.create(this.valuesById), this.comment = i, 
        this.comments = o || {}, this.reserved = void 0, e) for (var s = Object.keys(e), a = 0; a < s.length; ++a) "number" == typeof e[s[a]] && (this.valuesById[this.values[s[a]] = e[s[a]]] = s[a]);
    }
    s.fromJSON = function(t, e) {
        return (t = new s(t, e.values, e.options, e.comment, e.comments)).reserved = e.reserved, 
        t;
    }, s.prototype.toJSON = function(t) {
        return t = !!t && Boolean(t.keepComments), o.toObject([ "options", this.options, "values", this.values, "reserved", this.reserved && this.reserved.length ? this.reserved : void 0, "comment", t ? this.comment : void 0, "comments", t ? this.comments : void 0 ]);
    }, s.prototype.add = function(t, e, n) {
        if (!o.isString(t)) throw TypeError("name must be a string");
        if (!o.isInteger(e)) throw TypeError("id must be an integer");
        if (void 0 !== this.values[t]) throw Error("duplicate name '" + t + "' in " + this);
        if (this.isReservedId(e)) throw Error("id " + e + " is reserved in " + this);
        if (this.isReservedName(t)) throw Error("name '" + t + "' is reserved in " + this);
        if (void 0 !== this.valuesById[e]) {
            if (!this.options || !this.options.allow_alias) throw Error("duplicate id " + e + " in " + this);
            this.values[t] = e;
        } else this.valuesById[this.values[t] = e] = t;
        return this.comments[t] = n || null, this;
    }, s.prototype.remove = function(t) {
        if (!o.isString(t)) throw TypeError("name must be a string");
        var e = this.values[t];
        if (null == e) throw Error("name '" + t + "' does not exist in " + this);
        return delete this.valuesById[e], delete this.values[t], delete this.comments[t], 
        this;
    }, s.prototype.isReservedId = function(t) {
        return i.isReservedId(this.reserved, t);
    }, s.prototype.isReservedName = function(t) {
        return i.isReservedName(this.reserved, t);
    };
}, function(t, e, n) {
    (function(t) {
        var r = n(2), i = n(0);
        function o(t) {
            return (o = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
                return _typeof2(t);
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
            })(t);
        }
        function s(t, e) {
            for (var n = 0; n < e.length; n++) {
                var r = e[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
                Object.defineProperty(t, function(t) {
                    return t = function(t, e) {
                        if ("object" !== o(t) || null === t) return t;
                        var n = t[Symbol.toPrimitive];
                        if (void 0 === n) return String(t);
                        if ("object" !== o(n = n.call(t, e))) return n;
                        throw new TypeError("@@toPrimitive must return a primitive value.");
                    }(t, "string"), "symbol" === o(t) ? t : String(t);
                }(r.key), r);
            }
        }
        var a = null, u = function() {
            function e() {
                if (!(this instanceof e)) throw new TypeError("Cannot call a class as a function");
            }
            var n, o, u;
            function l() {
                return u.apply(this, arguments);
            }
            return n = e, null, (o = [ {
                key: "global",
                value: (u = function() {
                    if ("undefined" != typeof self && null !== self && 0 !== Object.keys(self).length) return self;
                    if ("undefined" != typeof window && null !== window && 0 !== Object.keys(window).length) return window;
                    if (null != t && 0 !== Object.keys(t).length) return t;
                    var e;
                    if ("undefined" != typeof my) return a || (e = my.getAppIdSync(), a = {
                        location: {
                            host: e.appId + ".hybrid.alipay-eco.com"
                        }
                    }), a;
                    if (i.a.environment == r.a.WX) return {};
                    throw new Error("unable to locate global object");
                }, l.toString = function() {
                    return u.toString();
                }, l)
            } ]) && s(n, o), Object.defineProperty(n, "prototype", {
                writable: !1
            }), e;
        }();
        e.a = u;
    }).call(this, n(14));
}, function(t, e, n) {
    (t.exports = o).className = "ReflectionObject";
    var r, i = n(1);
    function o(t, e) {
        if (!i.isString(t)) throw TypeError("name must be a string");
        if (e && !i.isObject(e)) throw TypeError("options must be an object");
        this.options = e, this.parsedOptions = null, this.name = t, this.parent = null, 
        this.resolved = !1, this.comment = null, this.filename = null;
    }
    Object.defineProperties(o.prototype, {
        root: {
            get: function() {
                for (var t = this; null !== t.parent; ) t = t.parent;
                return t;
            }
        },
        fullName: {
            get: function() {
                for (var t = [ this.name ], e = this.parent; e; ) t.unshift(e.name), e = e.parent;
                return t.join(".");
            }
        }
    }), o.prototype.toJSON = function() {
        throw Error();
    }, o.prototype.onAdd = function(t) {
        this.parent && this.parent !== t && this.parent.remove(this), this.parent = t, this.resolved = !1, 
        (t = t.root) instanceof r && t.S(this);
    }, o.prototype.onRemove = function(t) {
        (t = t.root) instanceof r && t.O(this), this.parent = null, this.resolved = !1;
    }, o.prototype.resolve = function() {
        return this.resolved || this.root instanceof r && (this.resolved = !0), this;
    }, o.prototype.getOption = function(t) {
        if (this.options) return this.options[t];
    }, o.prototype.setOption = function(t, e, n) {
        return n && this.options && void 0 !== this.options[t] || ((this.options || (this.options = {}))[t] = e), 
        this;
    }, o.prototype.setParsedOption = function(t, e, n) {
        this.parsedOptions || (this.parsedOptions = []);
        var r, o, s = this.parsedOptions;
        return n ? (r = s.find(function(e) {
            return Object.prototype.hasOwnProperty.call(e, t);
        })) ? (o = r[t], i.setProperty(o, n, e)) : ((r = {})[t] = i.setProperty({}, n, e), 
        s.push(r)) : ((o = {})[t] = e, s.push(o)), this;
    }, o.prototype.setOptions = function(t, e) {
        if (t) for (var n = Object.keys(t), r = 0; r < n.length; ++r) this.setOption(n[r], t[n[r]], e);
        return this;
    }, o.prototype.toString = function() {
        var t = this.constructor.className, e = this.fullName;
        return e.length ? t + " " + e : t;
    }, o.j = function(t) {
        r = t;
    };
}, function(t, e, n) {
    t.exports = l;
    var r, i = n(6), o = (((l.prototype = Object.create(i.prototype)).constructor = l).className = "Field", 
    n(4)), s = n(9), a = n(1), u = /^required|optional|repeated$/;
    function l(t, e, n, r, o, l, h) {
        if (a.isObject(r) ? (h = o, l = r, r = o = void 0) : a.isObject(o) && (h = l, l = o, 
        o = void 0), i.call(this, t, l), !a.isInteger(e) || e < 0) throw TypeError("id must be a non-negative integer");
        if (!a.isString(n)) throw TypeError("type must be a string");
        if (void 0 !== r && !u.test(r = r.toString().toLowerCase())) throw TypeError("rule must be a string rule");
        if (void 0 !== o && !a.isString(o)) throw TypeError("extend must be a string");
        this.rule = (r = "proto3_optional" === r ? "optional" : r) && "optional" !== r ? r : void 0, 
        this.type = n, this.id = e, this.extend = o || void 0, this.required = "required" === r, 
        this.optional = !this.required, this.repeated = "repeated" === r, this.map = !1, 
        this.message = null, this.partOf = null, this.typeDefault = null, this.defaultValue = null, 
        this.long = !!a.Long && void 0 !== s.long[n], this.bytes = "bytes" === n, this.resolvedType = null, 
        this.extensionField = null, this.declaringField = null, this.T = null, this.comment = h;
    }
    l.fromJSON = function(t, e) {
        return new l(t, e.id, e.type, e.rule, e.extend, e.options, e.comment);
    }, Object.defineProperty(l.prototype, "packed", {
        get: function() {
            return null === this.T && (this.T = !1 !== this.getOption("packed")), this.T;
        }
    }), l.prototype.setOption = function(t, e, n) {
        return "packed" === t && (this.T = null), i.prototype.setOption.call(this, t, e, n);
    }, l.prototype.toJSON = function(t) {
        return t = !!t && Boolean(t.keepComments), a.toObject([ "rule", "optional" !== this.rule && this.rule || void 0, "type", this.type, "id", this.id, "extend", this.extend, "options", this.options, "comment", t ? this.comment : void 0 ]);
    }, l.prototype.resolve = function() {
        var t;
        return this.resolved ? this : (void 0 === (this.typeDefault = s.defaults[this.type]) && (this.resolvedType = (this.declaringField || this).parent.lookupTypeOrEnum(this.type), 
        this.resolvedType instanceof r ? this.typeDefault = null : this.typeDefault = this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]), 
        this.options && null != this.options.default && (this.typeDefault = this.options.default, 
        this.resolvedType instanceof o) && "string" == typeof this.typeDefault && (this.typeDefault = this.resolvedType.values[this.typeDefault]), 
        this.options && (!0 !== this.options.packed && (void 0 === this.options.packed || !this.resolvedType || this.resolvedType instanceof o) || delete this.options.packed, 
        Object.keys(this.options).length || (this.options = void 0)), this.long ? (this.typeDefault = a.Long.fromNumber(this.typeDefault, "u" === this.type.charAt(0)), 
        Object.freeze && Object.freeze(this.typeDefault)) : this.bytes && "string" == typeof this.typeDefault && (a.base64.test(this.typeDefault) ? a.base64.decode(this.typeDefault, t = a.newBuffer(a.base64.length(this.typeDefault)), 0) : a.utf8.write(this.typeDefault, t = a.newBuffer(a.utf8.length(this.typeDefault)), 0), 
        this.typeDefault = t), this.map ? this.defaultValue = a.emptyObject : this.repeated ? this.defaultValue = a.emptyArray : this.defaultValue = this.typeDefault, 
        this.parent instanceof r && (this.parent.ctor.prototype[this.name] = this.defaultValue), 
        i.prototype.resolve.call(this));
    }, l.d = function(t, e, n, r) {
        return "function" == typeof e ? e = a.decorateType(e).name : e && "object" == _typeof2(e) && (e = a.decorateEnum(e).name), 
        function(i, o) {
            a.decorateType(i.constructor).add(new l(o, t, e, n, {
                default: r
            }));
        };
    }, l.j = function(t) {
        r = t;
    };
}, function(t, e, n) {
    t.exports = f;
    var r, i, o, s = n(6), a = (((f.prototype = Object.create(s.prototype)).constructor = f).className = "Namespace", 
    n(7)), u = n(10), l = n(1);
    function h(t, e) {
        if (t && t.length) {
            for (var n = {}, r = 0; r < t.length; ++r) n[t[r].name] = t[r].toJSON(e);
            return n;
        }
    }
    function f(t, e) {
        s.call(this, t, e), this.nested = void 0, this.R = null;
    }
    function c(t) {
        return t.R = null, t;
    }
    f.fromJSON = function(t, e) {
        return new f(t, e.options).addJSON(e.nested);
    }, f.arrayToJSON = h, f.isReservedId = function(t, e) {
        if (t) for (var n = 0; n < t.length; ++n) if ("string" != typeof t[n] && t[n][0] <= e && t[n][1] > e) return !0;
        return !1;
    }, f.isReservedName = function(t, e) {
        if (t) for (var n = 0; n < t.length; ++n) if (t[n] === e) return !0;
        return !1;
    }, Object.defineProperty(f.prototype, "nestedArray", {
        get: function() {
            return this.R || (this.R = l.toArray(this.nested));
        }
    }), f.prototype.toJSON = function(t) {
        return l.toObject([ "options", this.options, "nested", h(this.nestedArray, t) ]);
    }, f.prototype.addJSON = function(t) {
        if (t) for (var e, n = Object.keys(t), s = 0; s < n.length; ++s) e = t[n[s]], this.add((void 0 !== e.fields ? r : void 0 !== e.values ? o : void 0 !== e.methods ? i : void 0 !== e.id ? a : f).fromJSON(n[s], e));
        return this;
    }, f.prototype.get = function(t) {
        return this.nested && this.nested[t] || null;
    }, f.prototype.getEnum = function(t) {
        if (this.nested && this.nested[t] instanceof o) return this.nested[t].values;
        throw Error("no such enum: " + t);
    }, f.prototype.add = function(t) {
        if (!(t instanceof a && void 0 !== t.extend || t instanceof r || t instanceof o || t instanceof i || t instanceof f || t instanceof u)) throw TypeError("object must be a valid nested object");
        if (this.nested) {
            var e = this.get(t.name);
            if (e) {
                if (!(e instanceof f && t instanceof f) || e instanceof r || e instanceof i) throw Error("duplicate name '" + t.name + "' in " + this);
                for (var n = e.nestedArray, s = 0; s < n.length; ++s) t.add(n[s]);
                this.remove(e), this.nested || (this.nested = {}), t.setOptions(e.options, !0);
            }
        } else this.nested = {};
        return (this.nested[t.name] = t).onAdd(this), c(this);
    }, f.prototype.remove = function(t) {
        if (!(t instanceof s)) throw TypeError("object must be a ReflectionObject");
        if (t.parent !== this) throw Error(t + " is not a member of " + this);
        return delete this.nested[t.name], Object.keys(this.nested).length || (this.nested = void 0), 
        t.onRemove(this), c(this);
    }, f.prototype.define = function(t, e) {
        if (l.isString(t)) t = t.split("."); else if (!Array.isArray(t)) throw TypeError("illegal path");
        if (t && t.length && "" === t[0]) throw Error("path must be relative");
        for (var n = this; 0 < t.length; ) {
            var r = t.shift();
            if (n.nested && n.nested[r]) {
                if (!((n = n.nested[r]) instanceof f)) throw Error("path conflicts with non-namespace objects");
            } else n.add(n = new f(r));
        }
        return e && n.addJSON(e), n;
    }, f.prototype.resolveAll = function() {
        for (var t = this.nestedArray, e = 0; e < t.length; ) t[e] instanceof f ? t[e++].resolveAll() : t[e++].resolve();
        return this.resolve();
    }, f.prototype.lookup = function(t, e, n) {
        if ("boolean" == typeof e ? (n = e, e = void 0) : e && !Array.isArray(e) && (e = [ e ]), 
        l.isString(t) && t.length) {
            if ("." === t) return this.root;
            t = t.split(".");
        } else if (!t.length) return this;
        if ("" === t[0]) return this.root.lookup(t.slice(1), e);
        var r = this.get(t[0]);
        if (r) {
            if (1 === t.length) {
                if (!e || -1 < e.indexOf(r.constructor)) return r;
            } else if (r instanceof f && (r = r.lookup(t.slice(1), e, !0))) return r;
        } else for (var i = 0; i < this.nestedArray.length; ++i) if (this.R[i] instanceof f && (r = this.R[i].lookup(t, e, !0))) return r;
        return null === this.parent || n ? null : this.parent.lookup(t, e);
    }, f.prototype.lookupType = function(t) {
        var e = this.lookup(t, [ r ]);
        if (e) return e;
        throw Error("no such type: " + t);
    }, f.prototype.lookupEnum = function(t) {
        var e = this.lookup(t, [ o ]);
        if (e) return e;
        throw Error("no such Enum '" + t + "' in " + this);
    }, f.prototype.lookupTypeOrEnum = function(t) {
        var e = this.lookup(t, [ r, o ]);
        if (e) return e;
        throw Error("no such Type or Enum '" + t + "' in " + this);
    }, f.prototype.lookupService = function(t) {
        var e = this.lookup(t, [ i ]);
        if (e) return e;
        throw Error("no such Service '" + t + "' in " + this);
    }, f.j = function(t, e, n) {
        r = t, i = e, o = n;
    };
}, function(t, e, n) {
    n = n(1);
    var r = [ "double", "float", "int32", "uint32", "sint32", "fixed32", "sfixed32", "int64", "uint64", "sint64", "fixed64", "sfixed64", "bool", "string", "bytes" ];
    function i(t, e) {
        var n = 0, i = {};
        for (e |= 0; n < t.length; ) i[r[n + e]] = t[n++];
        return i;
    }
    e.basic = i([ 1, 5, 0, 0, 0, 5, 5, 0, 0, 0, 1, 1, 0, 2, 2 ]), e.defaults = i([ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, !1, "", n.emptyArray, null ]), 
    e.long = i([ 0, 0, 0, 1, 1 ], 7), e.mapKey = i([ 0, 0, 0, 5, 5, 0, 0, 0, 1, 1, 0, 2 ], 2), 
    e.packed = i([ 1, 5, 0, 0, 0, 5, 5, 0, 0, 0, 1, 1, 0 ]);
}, function(t, e, n) {
    t.exports = s;
    var r = n(6), i = (((s.prototype = Object.create(r.prototype)).constructor = s).className = "OneOf", 
    n(7)), o = n(1);
    function s(t, e, n, i) {
        if (Array.isArray(e) || (n = e, e = void 0), r.call(this, t, n), void 0 !== e && !Array.isArray(e)) throw TypeError("fieldNames must be an Array");
        this.oneof = e || [], this.fieldsArray = [], this.comment = i;
    }
    function a(t) {
        if (t.parent) for (var e = 0; e < t.fieldsArray.length; ++e) t.fieldsArray[e].parent || t.parent.add(t.fieldsArray[e]);
    }
    s.fromJSON = function(t, e) {
        return new s(t, e.oneof, e.options, e.comment);
    }, s.prototype.toJSON = function(t) {
        return t = !!t && Boolean(t.keepComments), o.toObject([ "options", this.options, "oneof", this.oneof, "comment", t ? this.comment : void 0 ]);
    }, s.prototype.add = function(t) {
        if (t instanceof i) return t.parent && t.parent !== this.parent && t.parent.remove(t), 
        this.oneof.push(t.name), this.fieldsArray.push(t), a(t.partOf = this), this;
        throw TypeError("field must be a Field");
    }, s.prototype.remove = function(t) {
        if (!(t instanceof i)) throw TypeError("field must be a Field");
        var e = this.fieldsArray.indexOf(t);
        if (e < 0) throw Error(t + " is not a member of " + this);
        return this.fieldsArray.splice(e, 1), -1 < (e = this.oneof.indexOf(t.name)) && this.oneof.splice(e, 1), 
        t.partOf = null, this;
    }, s.prototype.onAdd = function(t) {
        r.prototype.onAdd.call(this, t);
        for (var e = 0; e < this.oneof.length; ++e) {
            var n = t.get(this.oneof[e]);
            n && !n.partOf && (n.partOf = this).fieldsArray.push(n);
        }
        a(this);
    }, s.prototype.onRemove = function(t) {
        for (var e, n = 0; n < this.fieldsArray.length; ++n) (e = this.fieldsArray[n]).parent && e.parent.remove(e);
        r.prototype.onRemove.call(this, t);
    }, s.d = function() {
        for (var t = new Array(arguments.length), e = 0; e < arguments.length; ) t[e] = arguments[e++];
        return function(e, n) {
            o.decorateType(e.constructor).add(new s(n, t)), Object.defineProperty(e, n, {
                get: o.oneOfGetter(t),
                set: o.oneOfSetter(t)
            });
        };
    };
}, function(t, e, n) {
    t.exports = f;
    var r, i = n(3), o = i.LongBits, s = i.base64, a = i.utf8;
    function u(t, e, n) {
        this.fn = t, this.len = e, this.next = void 0, this.val = n;
    }
    function l() {}
    function h(t) {
        this.head = t.head, this.tail = t.tail, this.len = t.len, this.next = t.states;
    }
    function f() {
        this.len = 0, this.head = new u(l, 0, 0), this.tail = this.head, this.states = null;
    }
    function c() {
        return i.Buffer ? function() {
            return (f.create = function() {
                return new r();
            })();
        } : function() {
            return new f();
        };
    }
    function p(t, e, n) {
        e[n] = 255 & t;
    }
    function y(t, e) {
        this.len = t, this.next = void 0, this.val = e;
    }
    function d(t, e, n) {
        for (;t.hi; ) e[n++] = 127 & t.lo | 128, t.lo = (t.lo >>> 7 | t.hi << 25) >>> 0, 
        t.hi >>>= 7;
        for (;127 < t.lo; ) e[n++] = 127 & t.lo | 128, t.lo = t.lo >>> 7;
        e[n++] = t.lo;
    }
    function v(t, e, n) {
        e[n] = 255 & t, e[n + 1] = t >>> 8 & 255, e[n + 2] = t >>> 16 & 255, e[n + 3] = t >>> 24;
    }
    f.create = c(), f.alloc = function(t) {
        return new i.Array(t);
    }, i.Array !== Array && (f.alloc = i.pool(f.alloc, i.Array.prototype.subarray)), 
    f.prototype.N = function(t, e, n) {
        return this.tail = this.tail.next = new u(t, e, n), this.len += e, this;
    }, (y.prototype = Object.create(u.prototype)).fn = function(t, e, n) {
        for (;127 < t; ) e[n++] = 127 & t | 128, t >>>= 7;
        e[n] = t;
    }, f.prototype.uint32 = function(t) {
        return this.len += (this.tail = this.tail.next = new y((t >>>= 0) < 128 ? 1 : t < 16384 ? 2 : t < 2097152 ? 3 : t < 268435456 ? 4 : 5, t)).len, 
        this;
    }, f.prototype.int32 = function(t) {
        return t < 0 ? this.N(d, 10, o.fromNumber(t)) : this.uint32(t);
    }, f.prototype.sint32 = function(t) {
        return this.uint32((t << 1 ^ t >> 31) >>> 0);
    }, f.prototype.int64 = f.prototype.uint64 = function(t) {
        return t = o.from(t), this.N(d, t.length(), t);
    }, f.prototype.sint64 = function(t) {
        return t = o.from(t).zzEncode(), this.N(d, t.length(), t);
    }, f.prototype.bool = function(t) {
        return this.N(p, 1, t ? 1 : 0);
    }, f.prototype.sfixed32 = f.prototype.fixed32 = function(t) {
        return this.N(v, 4, t >>> 0);
    }, f.prototype.sfixed64 = f.prototype.fixed64 = function(t) {
        return t = o.from(t), this.N(v, 4, t.lo).N(v, 4, t.hi);
    }, f.prototype.float = function(t) {
        return this.N(i.float.writeFloatLE, 4, t);
    }, f.prototype.double = function(t) {
        return this.N(i.float.writeDoubleLE, 8, t);
    };
    var b = i.Array.prototype.set ? function(t, e, n) {
        e.set(t, n);
    } : function(t, e, n) {
        for (var r = 0; r < t.length; ++r) e[n + r] = t[r];
    };
    f.prototype.bytes = function(t) {
        var e, n = t.length >>> 0;
        return n ? (i.isString(t) && (e = f.alloc(n = s.length(t)), s.decode(t, e, 0), t = e), 
        this.uint32(n).N(b, n, t)) : this.N(p, 1, 0);
    }, f.prototype.string = function(t) {
        var e = a.length(t);
        return e ? this.uint32(e).N(a.write, e, t) : this.N(p, 1, 0);
    }, f.prototype.fork = function() {
        return this.states = new h(this), this.head = this.tail = new u(l, 0, 0), this.len = 0, 
        this;
    }, f.prototype.reset = function() {
        return this.states ? (this.head = this.states.head, this.tail = this.states.tail, 
        this.len = this.states.len, this.states = this.states.next) : (this.head = this.tail = new u(l, 0, 0), 
        this.len = 0), this;
    }, f.prototype.ldelim = function() {
        var t = this.head, e = this.tail, n = this.len;
        return this.reset().uint32(n), n && (this.tail.next = t.next, this.tail = e, this.len += n), 
        this;
    }, f.prototype.finish = function() {
        for (var t = this.head.next, e = this.constructor.alloc(this.len), n = 0; t; ) t.fn(t.val, e, n), 
        n += t.len, t = t.next;
        return e;
    }, f.j = function(t) {
        r = t, f.create = c(), r.j();
    };
}, function(t, e, n) {
    t.exports = u;
    var r, i = n(3), o = i.LongBits, s = i.utf8;
    function a(t, e) {
        return RangeError("index out of range: " + t.pos + " + " + (e || 1) + " > " + t.len);
    }
    function u(t) {
        this.buf = t, this.pos = 0, this.len = t.length;
    }
    function l() {
        return i.Buffer ? function(t) {
            return (u.create = function(t) {
                return i.Buffer.isBuffer(t) ? new r(t) : f(t);
            })(t);
        } : f;
    }
    var h, f = "undefined" != typeof Uint8Array ? function(t) {
        if (t instanceof Uint8Array || Array.isArray(t)) return new u(t);
        throw Error("illegal buffer");
    } : function(t) {
        if (Array.isArray(t)) return new u(t);
        throw Error("illegal buffer");
    };
    function c() {
        var t = new o(0, 0), e = 0;
        if (!(4 < this.len - this.pos)) {
            for (;e < 3; ++e) {
                if (this.pos >= this.len) throw a(this);
                if (t.lo = (t.lo | (127 & this.buf[this.pos]) << 7 * e) >>> 0, this.buf[this.pos++] < 128) return t;
            }
            return t.lo = (t.lo | (127 & this.buf[this.pos++]) << 7 * e) >>> 0, t;
        }
        for (;e < 4; ++e) if (t.lo = (t.lo | (127 & this.buf[this.pos]) << 7 * e) >>> 0, 
        this.buf[this.pos++] < 128) return t;
        if (t.lo = (t.lo | (127 & this.buf[this.pos]) << 28) >>> 0, t.hi = (t.hi | (127 & this.buf[this.pos]) >> 4) >>> 0, 
        this.buf[this.pos++] < 128) return t;
        if (e = 0, 4 < this.len - this.pos) {
            for (;e < 5; ++e) if (t.hi = (t.hi | (127 & this.buf[this.pos]) << 7 * e + 3) >>> 0, 
            this.buf[this.pos++] < 128) return t;
        } else for (;e < 5; ++e) {
            if (this.pos >= this.len) throw a(this);
            if (t.hi = (t.hi | (127 & this.buf[this.pos]) << 7 * e + 3) >>> 0, this.buf[this.pos++] < 128) return t;
        }
        throw Error("invalid varint encoding");
    }
    function p(t, e) {
        return (t[e - 4] | t[e - 3] << 8 | t[e - 2] << 16 | t[e - 1] << 24) >>> 0;
    }
    function y() {
        if (this.pos + 8 > this.len) throw a(this, 8);
        return new o(p(this.buf, this.pos += 4), p(this.buf, this.pos += 4));
    }
    u.create = l(), u.prototype.k = i.Array.prototype.subarray || i.Array.prototype.slice, 
    u.prototype.uint32 = (h = 4294967295, function() {
        if (h = (127 & this.buf[this.pos]) >>> 0, this.buf[this.pos++] < 128 || (h = (h | (127 & this.buf[this.pos]) << 7) >>> 0, 
        this.buf[this.pos++] < 128) || (h = (h | (127 & this.buf[this.pos]) << 14) >>> 0, 
        this.buf[this.pos++] < 128) || (h = (h | (127 & this.buf[this.pos]) << 21) >>> 0, 
        this.buf[this.pos++] < 128) || (h = (h | (15 & this.buf[this.pos]) << 28) >>> 0, 
        this.buf[this.pos++] < 128) || !((this.pos += 5) > this.len)) return h;
        throw this.pos = this.len, a(this, 10);
    }), u.prototype.int32 = function() {
        return 0 | this.uint32();
    }, u.prototype.sint32 = function() {
        var t = this.uint32();
        return t >>> 1 ^ -(1 & t) | 0;
    }, u.prototype.bool = function() {
        return 0 !== this.uint32();
    }, u.prototype.fixed32 = function() {
        if (this.pos + 4 > this.len) throw a(this, 4);
        return p(this.buf, this.pos += 4);
    }, u.prototype.sfixed32 = function() {
        if (this.pos + 4 > this.len) throw a(this, 4);
        return 0 | p(this.buf, this.pos += 4);
    }, u.prototype.float = function() {
        if (this.pos + 4 > this.len) throw a(this, 4);
        var t = i.float.readFloatLE(this.buf, this.pos);
        return this.pos += 4, t;
    }, u.prototype.double = function() {
        if (this.pos + 8 > this.len) throw a(this, 4);
        var t = i.float.readDoubleLE(this.buf, this.pos);
        return this.pos += 8, t;
    }, u.prototype.bytes = function() {
        var t = this.uint32(), e = this.pos, n = this.pos + t;
        if (n > this.len) throw a(this, t);
        return this.pos += t, Array.isArray(this.buf) ? this.buf.slice(e, n) : e === n ? new this.buf.constructor(0) : this.k.call(this.buf, e, n);
    }, u.prototype.string = function() {
        var t = this.bytes();
        return s.read(t, 0, t.length);
    }, u.prototype.skip = function(t) {
        if ("number" == typeof t) {
            if (this.pos + t > this.len) throw a(this, t);
            this.pos += t;
        } else do {
            if (this.pos >= this.len) throw a(this);
        } while (128 & this.buf[this.pos++]);
        return this;
    }, u.prototype.skipType = function(t) {
        switch (t) {
          case 0:
            this.skip();
            break;

          case 1:
            this.skip(8);
            break;

          case 2:
            this.skip(this.uint32());
            break;

          case 3:
            for (;4 != (t = 7 & this.uint32()); ) this.skipType(t);
            break;

          case 5:
            this.skip(4);
            break;

          default:
            throw Error("invalid wire type " + t + " at offset " + this.pos);
        }
        return this;
    }, u.j = function(t) {
        r = t, u.create = l(), r.j();
        var e = i.Long ? "toLong" : "toNumber";
        i.merge(u.prototype, {
            int64: function() {
                return c.call(this)[e](!1);
            },
            uint64: function() {
                return c.call(this)[e](!0);
            },
            sint64: function() {
                return c.call(this).zzDecode()[e](!1);
            },
            fixed64: function() {
                return y.call(this)[e](!0);
            },
            sfixed64: function() {
                return y.call(this)[e](!1);
            }
        });
    };
}, function(t, e, n) {
    t.exports = i;
    var r = n(3);
    function i(t) {
        if (t) for (var e = Object.keys(t), n = 0; n < e.length; ++n) this[e[n]] = t[e[n]];
    }
    i.create = function(t) {
        return this.$type.create(t);
    }, i.encode = function(t, e) {
        return this.$type.encode(t, e);
    }, i.encodeDelimited = function(t, e) {
        return this.$type.encodeDelimited(t, e);
    }, i.decode = function(t) {
        return this.$type.decode(t);
    }, i.decodeDelimited = function(t) {
        return this.$type.decodeDelimited(t);
    }, i.verify = function(t) {
        return this.$type.verify(t);
    }, i.fromObject = function(t) {
        return this.$type.fromObject(t);
    }, i.toObject = function(t, e) {
        return this.$type.toObject(t, e);
    }, i.prototype.toJSON = function() {
        return this.$type.toObject(this, r.toJSONOptions);
    };
}, function(t, e) {
    var n = function() {
        return this;
    }();
    try {
        n = n || new Function("return this")();
    } catch (t) {
        "object" == ("undefined" == typeof window ? "undefined" : _typeof2(window)) && (n = window);
    }
    t.exports = n;
}, function(t, e, n) {
    t.exports = function(t, e) {
        for (var n = new Array(arguments.length - 1), r = 0, i = 2, o = !0; i < arguments.length; ) n[r++] = arguments[i++];
        return new Promise(function(i, s) {
            n[r] = function(t) {
                if (o) if (o = !1, t) s(t); else {
                    for (var e = new Array(arguments.length - 1), n = 0; n < e.length; ) e[n++] = arguments[n];
                    i.apply(null, e);
                }
            };
            try {
                t.apply(e || null, n);
            } catch (t) {
                o && (o = !1, s(t));
            }
        });
    };
}, function(module, exports, __webpack_require__) {
    function inquire(moduleName) {
        try {
            var mod = eval("quire".replace(/^/, "re"))(moduleName);
            if (mod && (mod.length || Object.keys(mod).length)) return mod;
        } catch (t) {}
        return null;
    }
    module.exports = inquire;
}, function(t, e, n) {
    e.Service = n(40);
}, function(t, e, n) {
    t.exports = {};
}, function(t, e, n) {
    t.exports = function(t) {
        for (var e, n = o.codegen([ "m", "w" ], t.name + "$encode")("if(!w)")("w=Writer.create()"), a = t.fieldsArray.slice().sort(o.compareFieldsById), u = 0; u < a.length; ++u) {
            var l = a[u].resolve(), h = t.M.indexOf(l), f = l.resolvedType instanceof r ? "int32" : l.type, c = i.basic[f];
            e = "m" + o.safeProp(l.name), l.map ? (n("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){", e, l.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){", e)("w.uint32(%i).fork().uint32(%i).%s(ks[i])", (l.id << 3 | 2) >>> 0, 8 | i.mapKey[l.keyType], l.keyType), 
            void 0 === c ? n("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()", h, e) : n(".uint32(%i).%s(%s[ks[i]]).ldelim()", 16 | c, f, e), 
            n("}")("}")) : l.repeated ? (n("if(%s!=null&&%s.length){", e, e), l.packed && void 0 !== i.packed[f] ? n("w.uint32(%i).fork()", (l.id << 3 | 2) >>> 0)("for(var i=0;i<%s.length;++i)", e)("w.%s(%s[i])", f, e)("w.ldelim()") : (n("for(var i=0;i<%s.length;++i)", e), 
            void 0 === c ? s(n, l, h, e + "[i]") : n("w.uint32(%i).%s(%s[i])", (l.id << 3 | c) >>> 0, f, e)), 
            n("}")) : (l.optional && n("if(%s!=null&&Object.hasOwnProperty.call(m,%j))", e, l.name), 
            void 0 === c ? s(n, l, h, e) : n("w.uint32(%i).%s(%s)", (l.id << 3 | c) >>> 0, f, e));
        }
        return n("return w");
    };
    var r = n(4), i = n(9), o = n(1);
    function s(t, e, n, r) {
        e.resolvedType.group ? t("types[%i].encode(%s,w.uint32(%i)).uint32(%i)", n, r, (e.id << 3 | 3) >>> 0, (e.id << 3 | 4) >>> 0) : t("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()", n, r, (e.id << 3 | 2) >>> 0);
    }
}, function(t, e, n) {
    t.exports = g;
    var r = n(8), i = (((g.prototype = Object.create(r.prototype)).constructor = g).className = "Type", 
    n(4)), o = n(10), s = n(7), a = n(21), u = n(22), l = n(13), h = n(12), f = n(11), c = n(1), p = n(19), y = n(24), d = n(25), v = n(26), b = n(27);
    function g(t, e) {
        r.call(this, t, e), this.fields = {}, this.oneofs = void 0, this.extensions = void 0, 
        this.reserved = void 0, this.group = void 0, this.I = null, this.M = null, this.A = null, 
        this.P = null;
    }
    function m(t) {
        return t.I = t.M = t.A = null, delete t.encode, delete t.decode, delete t.verify, 
        t;
    }
    Object.defineProperties(g.prototype, {
        fieldsById: {
            get: function() {
                if (!this.I) {
                    this.I = {};
                    for (var t = Object.keys(this.fields), e = 0; e < t.length; ++e) {
                        var n = this.fields[t[e]], r = n.id;
                        if (this.I[r]) throw Error("duplicate id " + r + " in " + this);
                        this.I[r] = n;
                    }
                }
                return this.I;
            }
        },
        fieldsArray: {
            get: function() {
                return this.M || (this.M = c.toArray(this.fields));
            }
        },
        oneofsArray: {
            get: function() {
                return this.A || (this.A = c.toArray(this.oneofs));
            }
        },
        ctor: {
            get: function() {
                return this.P || (this.ctor = g.generateConstructor(this)());
            },
            set: function(t) {
                for (var e = t.prototype, n = (e instanceof l || ((t.prototype = new l()).constructor = t, 
                c.merge(t.prototype, e)), t.$type = t.prototype.$type = this, c.merge(t, l, !0), 
                this.P = t, 0); n < this.fieldsArray.length; ++n) this.M[n].resolve();
                var r = {};
                for (n = 0; n < this.oneofsArray.length; ++n) r[this.A[n].resolve().name] = {
                    get: c.oneOfGetter(this.A[n].oneof),
                    set: c.oneOfSetter(this.A[n].oneof)
                };
                n && Object.defineProperties(t.prototype, r);
            }
        }
    }), g.generateConstructor = function(t) {
        for (var e, n = c.codegen([ "p" ], t.name), r = 0; r < t.fieldsArray.length; ++r) (e = t.M[r]).map ? n("this%s={}", c.safeProp(e.name)) : e.repeated && n("this%s=[]", c.safeProp(e.name));
        return n("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]");
    }, g.fromJSON = function(t, e) {
        for (var n = new g(t, e.options), l = (n.extensions = e.extensions, n.reserved = e.reserved, 
        Object.keys(e.fields)), h = 0; h < l.length; ++h) n.add((void 0 !== e.fields[l[h]].keyType ? a : s).fromJSON(l[h], e.fields[l[h]]));
        if (e.oneofs) for (l = Object.keys(e.oneofs), h = 0; h < l.length; ++h) n.add(o.fromJSON(l[h], e.oneofs[l[h]]));
        if (e.nested) for (l = Object.keys(e.nested), h = 0; h < l.length; ++h) {
            var f = e.nested[l[h]];
            n.add((void 0 !== f.id ? s : void 0 !== f.fields ? g : void 0 !== f.values ? i : void 0 !== f.methods ? u : r).fromJSON(l[h], f));
        }
        return e.extensions && e.extensions.length && (n.extensions = e.extensions), e.reserved && e.reserved.length && (n.reserved = e.reserved), 
        e.group && (n.group = !0), e.comment && (n.comment = e.comment), n;
    }, g.prototype.toJSON = function(t) {
        var e = r.prototype.toJSON.call(this, t), n = !!t && Boolean(t.keepComments);
        return c.toObject([ "options", e && e.options || void 0, "oneofs", r.arrayToJSON(this.oneofsArray, t), "fields", r.arrayToJSON(this.fieldsArray.filter(function(t) {
            return !t.declaringField;
        }), t) || {}, "extensions", this.extensions && this.extensions.length ? this.extensions : void 0, "reserved", this.reserved && this.reserved.length ? this.reserved : void 0, "group", this.group || void 0, "nested", e && e.nested || void 0, "comment", n ? this.comment : void 0 ]);
    }, g.prototype.resolveAll = function() {
        for (var t = this.fieldsArray, e = 0; e < t.length; ) t[e++].resolve();
        var n = this.oneofsArray;
        for (e = 0; e < n.length; ) n[e++].resolve();
        return r.prototype.resolveAll.call(this);
    }, g.prototype.get = function(t) {
        return this.fields[t] || this.oneofs && this.oneofs[t] || this.nested && this.nested[t] || null;
    }, g.prototype.add = function(t) {
        if (this.get(t.name)) throw Error("duplicate name '" + t.name + "' in " + this);
        if (t instanceof s && void 0 === t.extend) {
            if ((this.I || this.fieldsById)[t.id]) throw Error("duplicate id " + t.id + " in " + this);
            if (this.isReservedId(t.id)) throw Error("id " + t.id + " is reserved in " + this);
            if (this.isReservedName(t.name)) throw Error("name '" + t.name + "' is reserved in " + this);
            return t.parent && t.parent.remove(t), (this.fields[t.name] = t).message = this, 
            t.onAdd(this), m(this);
        }
        return t instanceof o ? (this.oneofs || (this.oneofs = {}), (this.oneofs[t.name] = t).onAdd(this), 
        m(this)) : r.prototype.add.call(this, t);
    }, g.prototype.remove = function(t) {
        if (t instanceof s && void 0 === t.extend) {
            if (this.fields && this.fields[t.name] === t) return delete this.fields[t.name], 
            t.parent = null, t.onRemove(this), m(this);
            throw Error(t + " is not a member of " + this);
        }
        if (t instanceof o) {
            if (this.oneofs && this.oneofs[t.name] === t) return delete this.oneofs[t.name], 
            t.parent = null, t.onRemove(this), m(this);
            throw Error(t + " is not a member of " + this);
        }
        return r.prototype.remove.call(this, t);
    }, g.prototype.isReservedId = function(t) {
        return r.isReservedId(this.reserved, t);
    }, g.prototype.isReservedName = function(t) {
        return r.isReservedName(this.reserved, t);
    }, g.prototype.create = function(t) {
        return new this.ctor(t);
    }, g.prototype.setup = function() {
        for (var t = this.fullName, e = [], n = 0; n < this.fieldsArray.length; ++n) e.push(this.M[n].resolve().resolvedType);
        var r;
        return this.encode = p(this)({
            Writer: f,
            types: e,
            util: c
        }), this.decode = y(this)({
            Reader: h,
            types: e,
            util: c
        }), this.verify = d(this)({
            types: e,
            util: c
        }), this.fromObject = v.fromObject(this)({
            types: e,
            util: c
        }), this.toObject = v.toObject(this)({
            types: e,
            util: c
        }), (t = b[t]) && ((r = Object.create(this)).fromObject = this.fromObject, this.fromObject = t.fromObject.bind(r), 
        r.toObject = this.toObject, this.toObject = t.toObject.bind(r)), this;
    }, g.prototype.encode = function(t, e) {
        return this.setup().encode(t, e);
    }, g.prototype.encodeDelimited = function(t, e) {
        return this.encode(t, e && e.len ? e.fork() : e).ldelim();
    }, g.prototype.decode = function(t, e) {
        return this.setup().decode(t, e);
    }, g.prototype.decodeDelimited = function(t) {
        return t instanceof h || (t = h.create(t)), this.decode(t, t.uint32());
    }, g.prototype.verify = function(t) {
        return this.setup().verify(t);
    }, g.prototype.fromObject = function(t) {
        return this.setup().fromObject(t);
    }, g.prototype.toObject = function(t, e) {
        return this.setup().toObject(t, e);
    }, g.d = function(t) {
        return function(e) {
            c.decorateType(e, t);
        };
    };
}, function(t, e, n) {
    t.exports = s;
    var r = n(7), i = (((s.prototype = Object.create(r.prototype)).constructor = s).className = "MapField", 
    n(9)), o = n(1);
    function s(t, e, n, i, s, a) {
        if (r.call(this, t, e, i, void 0, void 0, s, a), !o.isString(n)) throw TypeError("keyType must be a string");
        this.keyType = n, this.resolvedKeyType = null, this.map = !0;
    }
    s.fromJSON = function(t, e) {
        return new s(t, e.id, e.keyType, e.type, e.options, e.comment);
    }, s.prototype.toJSON = function(t) {
        return t = !!t && Boolean(t.keepComments), o.toObject([ "keyType", this.keyType, "type", this.type, "id", this.id, "extend", this.extend, "options", this.options, "comment", t ? this.comment : void 0 ]);
    }, s.prototype.resolve = function() {
        if (this.resolved) return this;
        if (void 0 === i.mapKey[this.keyType]) throw Error("invalid key type: " + this.keyType);
        return r.prototype.resolve.call(this);
    }, s.d = function(t, e, n) {
        return "function" == typeof n ? n = o.decorateType(n).name : n && "object" == _typeof2(n) && (n = o.decorateEnum(n).name), 
        function(r, i) {
            o.decorateType(r.constructor).add(new s(i, t, e, n));
        };
    };
}, function(t, e, n) {
    t.exports = a;
    var r = n(8), i = (((a.prototype = Object.create(r.prototype)).constructor = a).className = "Service", 
    n(23)), o = n(1), s = n(17);
    function a(t, e) {
        r.call(this, t, e), this.methods = {}, this.L = null;
    }
    function u(t) {
        return t.L = null, t;
    }
    a.fromJSON = function(t, e) {
        var n = new a(t, e.options);
        if (e.methods) for (var r = Object.keys(e.methods), o = 0; o < r.length; ++o) n.add(i.fromJSON(r[o], e.methods[r[o]]));
        return e.nested && n.addJSON(e.nested), n.comment = e.comment, n;
    }, a.prototype.toJSON = function(t) {
        var e = r.prototype.toJSON.call(this, t), n = !!t && Boolean(t.keepComments);
        return o.toObject([ "options", e && e.options || void 0, "methods", r.arrayToJSON(this.methodsArray, t) || {}, "nested", e && e.nested || void 0, "comment", n ? this.comment : void 0 ]);
    }, Object.defineProperty(a.prototype, "methodsArray", {
        get: function() {
            return this.L || (this.L = o.toArray(this.methods));
        }
    }), a.prototype.get = function(t) {
        return this.methods[t] || r.prototype.get.call(this, t);
    }, a.prototype.resolveAll = function() {
        for (var t = this.methodsArray, e = 0; e < t.length; ++e) t[e].resolve();
        return r.prototype.resolve.call(this);
    }, a.prototype.add = function(t) {
        if (this.get(t.name)) throw Error("duplicate name '" + t.name + "' in " + this);
        return t instanceof i ? u((this.methods[t.name] = t).parent = this) : r.prototype.add.call(this, t);
    }, a.prototype.remove = function(t) {
        if (t instanceof i) {
            if (this.methods[t.name] !== t) throw Error(t + " is not a member of " + this);
            return delete this.methods[t.name], t.parent = null, u(this);
        }
        return r.prototype.remove.call(this, t);
    }, a.prototype.create = function(t, e, n) {
        for (var r, i = new s.Service(t, e, n), a = 0; a < this.methodsArray.length; ++a) {
            var u = o.lcFirst((r = this.L[a]).resolve().name).replace(/[^$\w_]/g, "");
            i[u] = o.codegen([ "r", "c" ], o.isReserved(u) ? u + "_" : u)("return this.rpcCall(m,q,s,r,c)")({
                m: r,
                q: r.resolvedRequestType.ctor,
                s: r.resolvedResponseType.ctor
            });
        }
        return i;
    };
}, function(t, e, n) {
    t.exports = o;
    var r = n(6), i = (((o.prototype = Object.create(r.prototype)).constructor = o).className = "Method", 
    n(1));
    function o(t, e, n, o, s, a, u, l, h) {
        if (i.isObject(s) ? (u = s, s = a = void 0) : i.isObject(a) && (u = a, a = void 0), 
        void 0 !== e && !i.isString(e)) throw TypeError("type must be a string");
        if (!i.isString(n)) throw TypeError("requestType must be a string");
        if (!i.isString(o)) throw TypeError("responseType must be a string");
        r.call(this, t, u), this.type = e || "rpc", this.requestType = n, this.requestStream = !!s || void 0, 
        this.responseType = o, this.responseStream = !!a || void 0, this.resolvedRequestType = null, 
        this.resolvedResponseType = null, this.comment = l, this.parsedOptions = h;
    }
    o.fromJSON = function(t, e) {
        return new o(t, e.type, e.requestType, e.responseType, e.requestStream, e.responseStream, e.options, e.comment, e.parsedOptions);
    }, o.prototype.toJSON = function(t) {
        return t = !!t && Boolean(t.keepComments), i.toObject([ "type", "rpc" !== this.type && this.type || void 0, "requestType", this.requestType, "requestStream", this.requestStream, "responseType", this.responseType, "responseStream", this.responseStream, "options", this.options, "comment", t ? this.comment : void 0, "parsedOptions", this.parsedOptions ]);
    }, o.prototype.resolve = function() {
        return this.resolved ? this : (this.resolvedRequestType = this.parent.lookupType(this.requestType), 
        this.resolvedResponseType = this.parent.lookupType(this.responseType), r.prototype.resolve.call(this));
    };
}, function(t, e, n) {
    t.exports = function(t) {
        var e = o.codegen([ "r", "l" ], t.name + "$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor" + (t.fieldsArray.filter(function(t) {
            return t.map;
        }).length ? ",k,value" : ""))("while(r.pos<c){")("var t=r.uint32()");
        t.group && e("if((t&7)===4)")("break"), e("switch(t>>>3){");
        for (var n = 0; n < t.fieldsArray.length; ++n) {
            var s = t.M[n].resolve(), a = s.resolvedType instanceof r ? "int32" : s.type, u = "m" + o.safeProp(s.name);
            e("case %i:", s.id), s.map ? (e("if(%s===util.emptyObject)", u)("%s={}", u)("var c2 = r.uint32()+r.pos"), 
            void 0 !== i.defaults[s.keyType] ? e("k=%j", i.defaults[s.keyType]) : e("k=null"), 
            void 0 !== i.defaults[a] ? e("value=%j", i.defaults[a]) : e("value=null"), e("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break", s.keyType)("case 2:"), 
            void 0 === i.basic[a] ? e("value=types[%i].decode(r,r.uint32())", n) : e("value=r.%s()", a), 
            e("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"), void 0 !== i.long[s.keyType] ? e('%s[typeof k==="object"?util.longToHash(k):k]=value', u) : e("%s[k]=value", u)) : s.repeated ? (e("if(!(%s&&%s.length))", u, u)("%s=[]", u), 
            void 0 !== i.packed[a] && e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())", u, a)("}else"), 
            void 0 === i.basic[a] ? e(s.resolvedType.group ? "%s.push(types[%i].decode(r))" : "%s.push(types[%i].decode(r,r.uint32()))", u, n) : e("%s.push(r.%s())", u, a)) : void 0 === i.basic[a] ? e(s.resolvedType.group ? "%s=types[%i].decode(r)" : "%s=types[%i].decode(r,r.uint32())", u, n) : e("%s=r.%s()", u, a), 
            e("break");
        }
        for (e("default:")("r.skipType(t&7)")("break")("}")("}"), n = 0; n < t.M.length; ++n) {
            var l = t.M[n];
            l.required && e("if(!m.hasOwnProperty(%j))", l.name)("throw util.ProtocolError(%j,{instance:m})", "missing required '" + l.name + "'");
        }
        return e("return m");
    };
    var r = n(4), i = n(9), o = n(1);
}, function(t, e, n) {
    t.exports = function(t) {
        var e = i.codegen([ "m" ], t.name + "$verify")('if(typeof m!=="object"||m===null)')("return%j", "object expected"), n = {};
        t.oneofsArray.length && e("var p={}");
        for (var r = 0; r < t.fieldsArray.length; ++r) {
            var a, u = t.M[r].resolve(), l = "m" + i.safeProp(u.name);
            u.optional && e("if(%s!=null&&m.hasOwnProperty(%j)){", l, u.name), u.map ? (e("if(!util.isObject(%s))", l)("return%j", o(u, "object"))("var k=Object.keys(%s)", l)("for(var i=0;i<k.length;++i){"), 
            function(t, e, n) {
                switch (e.keyType) {
                  case "int32":
                  case "uint32":
                  case "sint32":
                  case "fixed32":
                  case "sfixed32":
                    t("if(!util.key32Re.test(%s))", n)("return%j", o(e, "integer key"));
                    break;

                  case "int64":
                  case "uint64":
                  case "sint64":
                  case "fixed64":
                  case "sfixed64":
                    t("if(!util.key64Re.test(%s))", n)("return%j", o(e, "integer|Long key"));
                    break;

                  case "bool":
                    t("if(!util.key2Re.test(%s))", n)("return%j", o(e, "boolean key"));
                }
            }(e, u, "k[i]"), s(e, u, r, l + "[k[i]]")("}")) : u.repeated ? (e("if(!Array.isArray(%s))", l)("return%j", o(u, "array"))("for(var i=0;i<%s.length;++i){", l), 
            s(e, u, r, l + "[i]")("}")) : (u.partOf && (a = i.safeProp(u.partOf.name), 1 === n[u.partOf.name] && e("if(p%s===1)", a)("return%j", u.partOf.name + ": multiple values"), 
            n[u.partOf.name] = 1, e("p%s=1", a)), s(e, u, r, l)), u.optional && e("}");
        }
        return e("return null");
    };
    var r = n(4), i = n(1);
    function o(t, e) {
        return t.name + ": " + e + (t.repeated && "array" !== e ? "[]" : t.map && "object" !== e ? "{k:" + t.keyType + "}" : "") + " expected";
    }
    function s(t, e, n, i) {
        if (e.resolvedType) if (e.resolvedType instanceof r) {
            t("switch(%s){", i)("default:")("return%j", o(e, "enum value"));
            for (var s = Object.keys(e.resolvedType.values), a = 0; a < s.length; ++a) t("case %i:", e.resolvedType.values[s[a]]);
            t("break")("}");
        } else t("{")("var e=types[%i].verify(%s);", n, i)("if(e)")("return%j+e", e.name + ".")("}"); else switch (e.type) {
          case "int32":
          case "uint32":
          case "sint32":
          case "fixed32":
          case "sfixed32":
            t("if(!util.isInteger(%s))", i)("return%j", o(e, "integer"));
            break;

          case "int64":
          case "uint64":
          case "sint64":
          case "fixed64":
          case "sfixed64":
            t("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))", i, i, i, i)("return%j", o(e, "integer|Long"));
            break;

          case "float":
          case "double":
            t('if(typeof %s!=="number")', i)("return%j", o(e, "number"));
            break;

          case "bool":
            t('if(typeof %s!=="boolean")', i)("return%j", o(e, "boolean"));
            break;

          case "string":
            t("if(!util.isString(%s))", i)("return%j", o(e, "string"));
            break;

          case "bytes":
            t('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))', i, i, i)("return%j", o(e, "buffer"));
        }
        return t;
    }
}, function(t, e, n) {
    var r = n(4), i = n(1);
    function o(t, e, n, i) {
        if (e.resolvedType) if (e.resolvedType instanceof r) {
            t("switch(d%s){", i);
            for (var o = e.resolvedType.values, s = Object.keys(o), a = 0; a < s.length; ++a) e.repeated && o[s[a]] === e.typeDefault && t("default:"), 
            t("case%j:", s[a])("case %i:", o[s[a]])("m%s=%j", i, o[s[a]])("break");
            t("}");
        } else t('if(typeof d%s!=="object")', i)("throw TypeError(%j)", e.fullName + ": object expected")("m%s=types[%i].fromObject(d%s)", i, n, i); else {
            var u = !1;
            switch (e.type) {
              case "double":
              case "float":
                t("m%s=Number(d%s)", i, i);
                break;

              case "uint32":
              case "fixed32":
                t("m%s=d%s>>>0", i, i);
                break;

              case "int32":
              case "sint32":
              case "sfixed32":
                t("m%s=d%s|0", i, i);
                break;

              case "uint64":
                u = !0;

              case "int64":
              case "sint64":
              case "fixed64":
              case "sfixed64":
                t("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j", i, i, u)('else if(typeof d%s==="string")', i)("m%s=parseInt(d%s,10)", i, i)('else if(typeof d%s==="number")', i)("m%s=d%s", i, i)('else if(typeof d%s==="object")', i)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)", i, i, i, u ? "true" : "");
                break;

              case "bytes":
                t('if(typeof d%s==="string")', i)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)", i, i, i)("else if(d%s.length)", i)("m%s=d%s", i, i);
                break;

              case "string":
                t("m%s=String(d%s)", i, i);
                break;

              case "bool":
                t("m%s=Boolean(d%s)", i, i);
            }
        }
        return t;
    }
    function s(t, e, n, i) {
        if (e.resolvedType) e.resolvedType instanceof r ? t("d%s=o.enums===String?types[%i].values[m%s]:m%s", i, n, i, i) : t("d%s=types[%i].toObject(m%s,o)", i, n, i); else {
            var o = !1;
            switch (e.type) {
              case "double":
              case "float":
                t("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s", i, i, i, i);
                break;

              case "uint64":
                o = !0;

              case "int64":
              case "sint64":
              case "fixed64":
              case "sfixed64":
                t('if(typeof m%s==="number")', i)("d%s=o.longs===String?String(m%s):m%s", i, i, i)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s", i, i, i, i, o ? "true" : "", i);
                break;

              case "bytes":
                t("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s", i, i, i, i, i);
                break;

              default:
                t("d%s=m%s", i, i);
            }
        }
        return t;
    }
    e.fromObject = function(t) {
        var e = t.fieldsArray, n = i.codegen([ "d" ], t.name + "$fromObject")("if(d instanceof this.ctor)")("return d");
        if (!e.length) return n("return new this.ctor");
        n("var m=new this.ctor");
        for (var s = 0; s < e.length; ++s) {
            var a = e[s].resolve(), u = i.safeProp(a.name);
            a.map ? (n("if(d%s){", u)('if(typeof d%s!=="object")', u)("throw TypeError(%j)", a.fullName + ": object expected")("m%s={}", u)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){", u), 
            o(n, a, s, u + "[ks[i]]")("}")("}")) : a.repeated ? (n("if(d%s){", u)("if(!Array.isArray(d%s))", u)("throw TypeError(%j)", a.fullName + ": array expected")("m%s=[]", u)("for(var i=0;i<d%s.length;++i){", u), 
            o(n, a, s, u + "[i]")("}")("}")) : (a.resolvedType instanceof r || n("if(d%s!=null){", u), 
            o(n, a, s, u), a.resolvedType instanceof r || n("}"));
        }
        return n("return m");
    }, e.toObject = function(t) {
        var e = t.fieldsArray.slice().sort(i.compareFieldsById);
        if (!e.length) return i.codegen()("return {}");
        for (var n = i.codegen([ "m", "o" ], t.name + "$toObject")("if(!o)")("o={}")("var d={}"), o = [], a = [], u = [], l = 0; l < e.length; ++l) e[l].partOf || (e[l].resolve().repeated ? o : e[l].map ? a : u).push(e[l]);
        if (o.length) {
            for (n("if(o.arrays||o.defaults){"), l = 0; l < o.length; ++l) n("d%s=[]", i.safeProp(o[l].name));
            n("}");
        }
        if (a.length) {
            for (n("if(o.objects||o.defaults){"), l = 0; l < a.length; ++l) n("d%s={}", i.safeProp(a[l].name));
            n("}");
        }
        if (u.length) {
            for (n("if(o.defaults){"), l = 0; l < u.length; ++l) {
                var h, f = u[l], c = i.safeProp(f.name);
                f.resolvedType instanceof r ? n("d%s=o.enums===String?%j:%j", c, f.resolvedType.valuesById[f.typeDefault], f.typeDefault) : f.long ? n("if(util.Long){")("var n=new util.Long(%i,%i,%j)", f.typeDefault.low, f.typeDefault.high, f.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n", c)("}else")("d%s=o.longs===String?%j:%i", c, f.typeDefault.toString(), f.typeDefault.toNumber()) : f.bytes ? (h = "[" + Array.prototype.slice.call(f.typeDefault).join(",") + "]", 
                n("if(o.bytes===String)d%s=%j", c, String.fromCharCode.apply(String, f.typeDefault))("else{")("d%s=%s", c, h)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)", c, c)("}")) : n("d%s=%j", c, f.typeDefault);
            }
            n("}");
        }
        var p = !1;
        for (l = 0; l < e.length; ++l) {
            f = e[l];
            var y = t.M.indexOf(f);
            c = i.safeProp(f.name);
            f.map ? (p || (p = !0, n("var ks2")), n("if(m%s&&(ks2=Object.keys(m%s)).length){", c, c)("d%s={}", c)("for(var j=0;j<ks2.length;++j){"), 
            s(n, f, y, c + "[ks2[j]]")("}")) : f.repeated ? (n("if(m%s&&m%s.length){", c, c)("d%s=[]", c)("for(var j=0;j<m%s.length;++j){", c), 
            s(n, f, y, c + "[j]")("}")) : (n("if(m%s!=null&&m.hasOwnProperty(%j)){", c, f.name), 
            s(n, f, y, c), f.partOf && n("if(o.oneofs)")("d%s=%j", i.safeProp(f.partOf.name), f.name)), 
            n("}");
        }
        return n("return d");
    };
}, function(t, e, n) {
    var r = n(13);
    e[".google.protobuf.Any"] = {
        fromObject: function(t) {
            if (t && t["@type"]) {
                var e, n = t["@type"].substring(t["@type"].lastIndexOf("/") + 1);
                if (n = this.lookup(n)) return -1 === (e = "." === t["@type"].charAt(0) ? t["@type"].substr(1) : t["@type"]).indexOf("/") && (e = "/" + e), 
                this.create({
                    type_url: e,
                    value: n.encode(n.fromObject(t)).finish()
                });
            }
            return this.fromObject(t);
        },
        toObject: function(t, e) {
            var n, i, o = "", s = "";
            return !((t = e && e.json && t.type_url && t.value && (s = t.type_url.substring(t.type_url.lastIndexOf("/") + 1), 
            o = t.type_url.substring(0, t.type_url.lastIndexOf("/") + 1), n = this.lookup(s)) ? n.decode(t.value) : t) instanceof this.ctor) && t instanceof r ? (n = t.$type.toObject(t, e), 
            i = "." === t.$type.fullName[0] ? t.$type.fullName.substr(1) : t.$type.fullName, 
            n["@type"] = s = (o = "" === o ? "type.googleapis.com/" : o) + i, n) : this.toObject(t, e);
        }
    };
}, function(t, e, n) {
    t.exports = f;
    var r, i, o, s = n(8), a = (((f.prototype = Object.create(s.prototype)).constructor = f).className = "Root", 
    n(7)), u = n(4), l = n(10), h = n(1);
    function f(t) {
        s.call(this, "", t), this.deferred = [], this.files = [];
    }
    function c() {}
    f.fromJSON = function(t, e) {
        return e = e || new f(), t.options && e.setOptions(t.options), e.addJSON(t.nested);
    }, f.prototype.resolvePath = h.path.resolve, f.prototype.fetch = h.fetch, f.prototype.load = function t(e, n, r) {
        "function" == typeof n && (r = n, n = void 0);
        var s = this;
        if (!r) return h.asPromise(t, s, e, n);
        var a = r === c;
        function u(t, e) {
            if (r) {
                var n = r;
                if (r = null, a) throw t;
                n(t, e);
            }
        }
        function l(t) {
            var e = t.lastIndexOf("google/protobuf/");
            return -1 < e && (t = t.substring(e)) in o ? t : null;
        }
        function f(t, e) {
            try {
                if (h.isString(e) && "{" === e.charAt(0) && (e = JSON.parse(e)), h.isString(e)) {
                    i.filename = t;
                    var r, o = i(e, s, n), f = 0;
                    if (o.imports) for (;f < o.imports.length; ++f) (r = l(o.imports[f]) || s.resolvePath(t, o.imports[f])) && p(r);
                    if (o.weakImports) for (f = 0; f < o.weakImports.length; ++f) (r = l(o.weakImports[f]) || s.resolvePath(t, o.weakImports[f])) && p(r, !0);
                } else s.setOptions(e.options).addJSON(e.nested);
            } catch (t) {
                u(t);
            }
            a || y || u(null, s);
        }
        function p(t, e) {
            if (!(-1 < s.files.indexOf(t))) if (s.files.push(t), t in o) a ? f(t, o[t]) : (++y, 
            setTimeout(function() {
                --y, f(t, o[t]);
            })); else if (a) {
                var n;
                try {
                    n = h.fs.readFileSync(t).toString("utf8");
                } catch (n) {
                    return void (e || u(n));
                }
                f(t, n);
            } else ++y, s.fetch(t, function(n, i) {
                --y, r && (n ? e ? y || u(null, s) : u(n) : f(t, i));
            });
        }
        var y = 0;
        h.isString(e) && (e = [ e ]);
        for (var d, v = 0; v < e.length; ++v) (d = s.resolvePath("", e[v])) && p(d);
        if (a) return s;
        y || u(null, s);
    }, f.prototype.loadSync = function(t, e) {
        if (h.isNode) return this.load(t, e, c);
        throw Error("not supported");
    }, f.prototype.resolveAll = function() {
        if (this.deferred.length) throw Error("unresolvable extensions: " + this.deferred.map(function(t) {
            return "'extend " + t.extend + "' in " + t.parent.fullName;
        }).join(", "));
        return s.prototype.resolveAll.call(this);
    };
    var p = /^[A-Z]/;
    function y(t, e) {
        var n, r = e.parent.lookup(e.extend);
        if (r) return ((n = new a(e.fullName, e.id, e.type, e.rule, void 0, e.options)).declaringField = e).extensionField = n, 
        r.add(n), 1;
    }
    f.prototype.S = function(t) {
        if (t instanceof a) void 0 === t.extend || t.extensionField || y(0, t) || this.deferred.push(t); else if (t instanceof u) p.test(t.name) && (t.parent[t.name] = t.values); else if (!(t instanceof l)) {
            if (t instanceof r) for (var e = 0; e < this.deferred.length; ) y(0, this.deferred[e]) ? this.deferred.splice(e, 1) : ++e;
            for (var n = 0; n < t.nestedArray.length; ++n) this.S(t.R[n]);
            p.test(t.name) && (t.parent[t.name] = t);
        }
    }, f.prototype.O = function(t) {
        var e;
        if (t instanceof a) void 0 !== t.extend && (t.extensionField ? (t.extensionField.parent.remove(t.extensionField), 
        t.extensionField = null) : -1 < (e = this.deferred.indexOf(t)) && this.deferred.splice(e, 1)); else if (t instanceof u) p.test(t.name) && delete t.parent[t.name]; else if (t instanceof s) {
            for (var n = 0; n < t.nestedArray.length; ++n) this.O(t.R[n]);
            p.test(t.name) && delete t.parent[t.name];
        }
    }, f.j = function(t, e, n) {
        r = t, i = e, o = n;
    };
}, function(t, e, n) {
    t.exports = n(30);
}, function(t, e, n) {
    var r = t.exports = n(31);
    r.build = "light", r.load = function(t, e, n) {
        return (e = "function" == typeof e ? (n = e, new r.Root()) : e || new r.Root()).load(t, n);
    }, r.loadSync = function(t, e) {
        return (e = e || new r.Root()).loadSync(t);
    }, r.encoder = n(19), r.decoder = n(24), r.verifier = n(25), r.converter = n(26), 
    r.ReflectionObject = n(6), r.Namespace = n(8), r.Root = n(28), r.Enum = n(4), r.Type = n(20), 
    r.Field = n(7), r.OneOf = n(10), r.MapField = n(21), r.Service = n(22), r.Method = n(23), 
    r.Message = n(13), r.wrappers = n(27), r.types = n(9), r.util = n(1), r.ReflectionObject.j(r.Root), 
    r.Namespace.j(r.Type, r.Service, r.Enum), r.Root.j(r.Type), r.Field.j(r.Type);
}, function(t, e, n) {
    var r = e;
    function i() {
        r.util.j(), r.Writer.j(r.BufferWriter), r.Reader.j(r.BufferReader);
    }
    r.build = "minimal", r.Writer = n(11), r.BufferWriter = n(38), r.Reader = n(12), 
    r.BufferReader = n(39), r.util = n(3), r.rpc = n(17), r.roots = n(18), r.configure = i, 
    i();
}, function(t, e, n) {
    e.length = function(t) {
        var e = t.length;
        if (!e) return 0;
        for (var n = 0; 1 < --e % 4 && "=" === t.charAt(e); ) ++n;
        return Math.ceil(3 * t.length) / 4 - n;
    };
    for (var r = new Array(64), i = new Array(123), o = 0; o < 64; ) i[r[o] = o < 26 ? o + 65 : o < 52 ? o + 71 : o < 62 ? o - 4 : o - 59 | 43] = o++;
    e.encode = function(t, e, n) {
        for (var i, o = null, s = [], a = 0, u = 0; e < n; ) {
            var l = t[e++];
            switch (u) {
              case 0:
                s[a++] = r[l >> 2], i = (3 & l) << 4, u = 1;
                break;

              case 1:
                s[a++] = r[i | l >> 4], i = (15 & l) << 2, u = 2;
                break;

              case 2:
                s[a++] = r[i | l >> 6], s[a++] = r[63 & l], u = 0;
            }
            8191 < a && ((o = o || []).push(String.fromCharCode.apply(String, s)), a = 0);
        }
        return u && (s[a++] = r[i], s[a++] = 61, 1 === u) && (s[a++] = 61), o ? (a && o.push(String.fromCharCode.apply(String, s.slice(0, a))), 
        o.join("")) : String.fromCharCode.apply(String, s.slice(0, a));
    };
    var s = "invalid encoding";
    e.decode = function(t, e, n) {
        for (var r, o = n, a = 0, u = 0; u < t.length; ) {
            var l = t.charCodeAt(u++);
            if (61 === l && 1 < a) break;
            if (void 0 === (l = i[l])) throw Error(s);
            switch (a) {
              case 0:
                r = l, a = 1;
                break;

              case 1:
                e[n++] = r << 2 | (48 & l) >> 4, r = l, a = 2;
                break;

              case 2:
                e[n++] = (15 & r) << 4 | (60 & l) >> 2, r = l, a = 3;
                break;

              case 3:
                e[n++] = (3 & r) << 6 | l, a = 0;
            }
        }
        if (1 === a) throw Error(s);
        return n - o;
    }, e.test = function(t) {
        return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t);
    };
}, function(t, e, n) {
    function r() {
        this.D = {};
    }
    (t.exports = r).prototype.on = function(t, e, n) {
        return (this.D[t] || (this.D[t] = [])).push({
            fn: e,
            ctx: n || this
        }), this;
    }, r.prototype.off = function(t, e) {
        if (void 0 === t) this.D = {}; else if (void 0 === e) this.D[t] = []; else for (var n = this.D[t], r = 0; r < n.length; ) n[r].fn === e ? n.splice(r, 1) : ++r;
        return this;
    }, r.prototype.emit = function(t) {
        var e = this.D[t];
        if (e) {
            for (var n = [], r = 1; r < arguments.length; ) n.push(arguments[r++]);
            for (r = 0; r < e.length; ) e[r].fn.apply(e[r++].ctx, n);
        }
        return this;
    };
}, function(t, e, n) {
    function r(t) {
        function e(t, e, n, r) {
            var i = e < 0 ? 1 : 0;
            0 === (e = i ? -e : e) ? t(0 < 1 / e ? 0 : 2147483648, n, r) : isNaN(e) ? t(2143289344, n, r) : t(3.4028234663852886e38 < e ? (i << 31 | 2139095040) >>> 0 : e < 1.1754943508222875e-38 ? (i << 31 | Math.round(e / 1.401298464324817e-45)) >>> 0 : (i << 31 | (t = Math.floor(Math.log(e) / Math.LN2)) + 127 << 23 | 8388607 & Math.round(e * Math.pow(2, -t) * 8388608)) >>> 0, n, r);
        }
        function n(t, e, n) {
            return e = 2 * ((t = t(e, n)) >> 31) + 1, n = t >>> 23 & 255, t &= 8388607, 255 == n ? t ? NaN : 1 / 0 * e : 0 == n ? 1.401298464324817e-45 * e * t : e * Math.pow(2, n - 150) * (8388608 + t);
        }
        function r(t, e, n) {
            f[0] = t, e[n] = c[0], e[n + 1] = c[1], e[n + 2] = c[2], e[n + 3] = c[3];
        }
        function u(t, e, n) {
            f[0] = t, e[n] = c[3], e[n + 1] = c[2], e[n + 2] = c[1], e[n + 3] = c[0];
        }
        function l(t, e) {
            return c[0] = t[e], c[1] = t[e + 1], c[2] = t[e + 2], c[3] = t[e + 3], f[0];
        }
        function h(t, e) {
            return c[3] = t[e], c[2] = t[e + 1], c[1] = t[e + 2], c[0] = t[e + 3], f[0];
        }
        var f, c, p, y, d;
        function v(t, e, n, r, i, o) {
            var s, a, u = r < 0 ? 1 : 0;
            0 === (r = u ? -r : r) ? (t(0, i, o + e), t(0 < 1 / r ? 0 : 2147483648, i, o + n)) : isNaN(r) ? (t(0, i, o + e), 
            t(2146959360, i, o + n)) : 1.7976931348623157e308 < r ? (t(0, i, o + e), t((u << 31 | 2146435072) >>> 0, i, o + n)) : r < 2.2250738585072014e-308 ? (t((s = r / 5e-324) >>> 0, i, o + e), 
            t((u << 31 | s / 4294967296) >>> 0, i, o + n)) : (1024 === (a = Math.floor(Math.log(r) / Math.LN2)) && (a = 1023), 
            t(4503599627370496 * (s = r * Math.pow(2, -a)) >>> 0, i, o + e), t((u << 31 | a + 1023 << 20 | 1048576 * s & 1048575) >>> 0, i, o + n));
        }
        function b(t, e, n, r, i) {
            return e = t(r, i + e), r = 2 * ((t = t(r, i + n)) >> 31) + 1, n = 4294967296 * (1048575 & t) + e, 
            2047 == (i = t >>> 20 & 2047) ? n ? NaN : 1 / 0 * r : 0 == i ? 5e-324 * r * n : r * Math.pow(2, i - 1075) * (n + 4503599627370496);
        }
        function g(t, e, n) {
            p[0] = t, e[n] = y[0], e[n + 1] = y[1], e[n + 2] = y[2], e[n + 3] = y[3], e[n + 4] = y[4], 
            e[n + 5] = y[5], e[n + 6] = y[6], e[n + 7] = y[7];
        }
        function m(t, e, n) {
            p[0] = t, e[n] = y[7], e[n + 1] = y[6], e[n + 2] = y[5], e[n + 3] = y[4], e[n + 4] = y[3], 
            e[n + 5] = y[2], e[n + 6] = y[1], e[n + 7] = y[0];
        }
        function O(t, e) {
            return y[0] = t[e], y[1] = t[e + 1], y[2] = t[e + 2], y[3] = t[e + 3], y[4] = t[e + 4], 
            y[5] = t[e + 5], y[6] = t[e + 6], y[7] = t[e + 7], p[0];
        }
        function x(t, e) {
            return y[7] = t[e], y[6] = t[e + 1], y[5] = t[e + 2], y[4] = t[e + 3], y[3] = t[e + 4], 
            y[2] = t[e + 5], y[1] = t[e + 6], y[0] = t[e + 7], p[0];
        }
        return "undefined" != typeof Float32Array ? (f = new Float32Array([ -0 ]), d = 128 === (c = new Uint8Array(f.buffer))[3], 
        t.writeFloatLE = d ? r : u, t.writeFloatBE = d ? u : r, t.readFloatLE = d ? l : h, 
        t.readFloatBE = d ? h : l) : (t.writeFloatLE = e.bind(null, i), t.writeFloatBE = e.bind(null, o), 
        t.readFloatLE = n.bind(null, s), t.readFloatBE = n.bind(null, a)), "undefined" != typeof Float64Array ? (p = new Float64Array([ -0 ]), 
        d = 128 === (y = new Uint8Array(p.buffer))[7], t.writeDoubleLE = d ? g : m, t.writeDoubleBE = d ? m : g, 
        t.readDoubleLE = d ? O : x, t.readDoubleBE = d ? x : O) : (t.writeDoubleLE = v.bind(null, i, 0, 4), 
        t.writeDoubleBE = v.bind(null, o, 4, 0), t.readDoubleLE = b.bind(null, s, 0, 4), 
        t.readDoubleBE = b.bind(null, a, 4, 0)), t;
    }
    function i(t, e, n) {
        e[n] = 255 & t, e[n + 1] = t >>> 8 & 255, e[n + 2] = t >>> 16 & 255, e[n + 3] = t >>> 24;
    }
    function o(t, e, n) {
        e[n] = t >>> 24, e[n + 1] = t >>> 16 & 255, e[n + 2] = t >>> 8 & 255, e[n + 3] = 255 & t;
    }
    function s(t, e) {
        return (t[e] | t[e + 1] << 8 | t[e + 2] << 16 | t[e + 3] << 24) >>> 0;
    }
    function a(t, e) {
        return (t[e] << 24 | t[e + 1] << 16 | t[e + 2] << 8 | t[e + 3]) >>> 0;
    }
    t.exports = r(r);
}, function(t, e, n) {
    e.length = function(t) {
        for (var e, n = 0, r = 0; r < t.length; ++r) (e = t.charCodeAt(r)) < 128 ? n += 1 : e < 2048 ? n += 2 : 55296 == (64512 & e) && 56320 == (64512 & t.charCodeAt(r + 1)) ? (++r, 
        n += 4) : n += 3;
        return n;
    }, e.read = function(t, e, n) {
        if (n - e < 1) return "";
        for (var r, i = null, o = [], s = 0; e < n; ) (r = t[e++]) < 128 ? o[s++] = r : 191 < r && r < 224 ? o[s++] = (31 & r) << 6 | 63 & t[e++] : 239 < r && r < 365 ? (r = ((7 & r) << 18 | (63 & t[e++]) << 12 | (63 & t[e++]) << 6 | 63 & t[e++]) - 65536, 
        o[s++] = 55296 + (r >> 10), o[s++] = 56320 + (1023 & r)) : o[s++] = (15 & r) << 12 | (63 & t[e++]) << 6 | 63 & t[e++], 
        8191 < s && ((i = i || []).push(String.fromCharCode.apply(String, o)), s = 0);
        return i ? (s && i.push(String.fromCharCode.apply(String, o.slice(0, s))), i.join("")) : String.fromCharCode.apply(String, o.slice(0, s));
    }, e.write = function(t, e, n) {
        for (var r, i, o = n, s = 0; s < t.length; ++s) (r = t.charCodeAt(s)) < 128 ? e[n++] = r : (r < 2048 ? e[n++] = r >> 6 | 192 : (55296 == (64512 & r) && 56320 == (64512 & (i = t.charCodeAt(s + 1))) ? (++s, 
        e[n++] = (r = 65536 + ((1023 & r) << 10) + (1023 & i)) >> 18 | 240, e[n++] = r >> 12 & 63 | 128) : e[n++] = r >> 12 | 224, 
        e[n++] = r >> 6 & 63 | 128), e[n++] = 63 & r | 128);
        return n - o;
    };
}, function(t, e, n) {
    t.exports = function(t, e, n) {
        var r = n || 8192, i = r >>> 1, o = null, s = r;
        return function(n) {
            return n < 1 || i < n ? t(n) : (r < s + n && (o = t(r), s = 0), n = e.call(o, s, s += n), 
            7 & s && (s = 1 + (7 | s)), n);
        };
    };
}, function(t, e, n) {
    t.exports = i;
    var r = n(3);
    function i(t, e) {
        this.lo = t >>> 0, this.hi = e >>> 0;
    }
    var o = i.zero = new i(0, 0), s = (o.toNumber = function() {
        return 0;
    }, o.zzEncode = o.zzDecode = function() {
        return this;
    }, o.length = function() {
        return 1;
    }, i.zeroHash = "\0\0\0\0\0\0\0\0", i.fromNumber = function(t) {
        var e, n;
        return 0 === t ? o : (n = (t = (e = t < 0) ? -t : t) >>> 0, t = (t - n) / 4294967296 >>> 0, 
        e && (t = ~t >>> 0, n = ~n >>> 0, 4294967295 < ++n) && (n = 0, 4294967295 < ++t) && (t = 0), 
        new i(n, t));
    }, i.from = function(t) {
        if ("number" == typeof t) return i.fromNumber(t);
        if (r.isString(t)) {
            if (!r.Long) return i.fromNumber(parseInt(t, 10));
            t = r.Long.fromString(t);
        }
        return t.low || t.high ? new i(t.low >>> 0, t.high >>> 0) : o;
    }, i.prototype.toNumber = function(t) {
        var e;
        return !t && this.hi >>> 31 ? (t = 1 + ~this.lo >>> 0, e = ~this.hi >>> 0, -(t + 4294967296 * (e = t ? e : e + 1 >>> 0))) : this.lo + 4294967296 * this.hi;
    }, i.prototype.toLong = function(t) {
        return r.Long ? new r.Long(0 | this.lo, 0 | this.hi, Boolean(t)) : {
            low: 0 | this.lo,
            high: 0 | this.hi,
            unsigned: Boolean(t)
        };
    }, String.prototype.charCodeAt);
    i.fromHash = function(t) {
        return "\0\0\0\0\0\0\0\0" === t ? o : new i((s.call(t, 0) | s.call(t, 1) << 8 | s.call(t, 2) << 16 | s.call(t, 3) << 24) >>> 0, (s.call(t, 4) | s.call(t, 5) << 8 | s.call(t, 6) << 16 | s.call(t, 7) << 24) >>> 0);
    }, i.prototype.toHash = function() {
        return String.fromCharCode(255 & this.lo, this.lo >>> 8 & 255, this.lo >>> 16 & 255, this.lo >>> 24, 255 & this.hi, this.hi >>> 8 & 255, this.hi >>> 16 & 255, this.hi >>> 24);
    }, i.prototype.zzEncode = function() {
        var t = this.hi >> 31;
        return this.hi = ((this.hi << 1 | this.lo >>> 31) ^ t) >>> 0, this.lo = (this.lo << 1 ^ t) >>> 0, 
        this;
    }, i.prototype.zzDecode = function() {
        var t = -(1 & this.lo);
        return this.lo = ((this.lo >>> 1 | this.hi << 31) ^ t) >>> 0, this.hi = (this.hi >>> 1 ^ t) >>> 0, 
        this;
    }, i.prototype.length = function() {
        var t = this.lo, e = (this.lo >>> 28 | this.hi << 4) >>> 0, n = this.hi >>> 24;
        return 0 == n ? 0 == e ? t < 16384 ? t < 128 ? 1 : 2 : t < 2097152 ? 3 : 4 : e < 16384 ? e < 128 ? 5 : 6 : e < 2097152 ? 7 : 8 : n < 128 ? 9 : 10;
    };
}, function(t, e, n) {
    t.exports = o;
    var r = n(11), i = ((o.prototype = Object.create(r.prototype)).constructor = o, 
    n(3));
    function o() {
        r.call(this);
    }
    function s(t, e, n) {
        t.length < 40 ? i.utf8.write(t, e, n) : e.utf8Write ? e.utf8Write(t, n) : e.write(t, n);
    }
    o.j = function() {
        o.alloc = i._, o.writeBytesBuffer = i.Buffer && i.Buffer.prototype instanceof Uint8Array && "set" === i.Buffer.prototype.set.name ? function(t, e, n) {
            e.set(t, n);
        } : function(t, e, n) {
            if (t.copy) t.copy(e, n, 0, t.length); else for (var r = 0; r < t.length; ) e[n++] = t[r++];
        };
    }, o.prototype.bytes = function(t) {
        var e = (t = i.isString(t) ? i.v(t, "base64") : t).length >>> 0;
        return this.uint32(e), e && this.N(o.writeBytesBuffer, e, t), this;
    }, o.prototype.string = function(t) {
        var e = i.Buffer.byteLength(t);
        return this.uint32(e), e && this.N(s, e, t), this;
    }, o.j();
}, function(t, e, n) {
    t.exports = o;
    var r = n(12), i = ((o.prototype = Object.create(r.prototype)).constructor = o, 
    n(3));
    function o(t) {
        r.call(this, t);
    }
    o.j = function() {
        i.Buffer && (o.prototype.k = i.Buffer.prototype.slice);
    }, o.prototype.string = function() {
        var t = this.uint32();
        return this.buf.utf8Slice ? this.buf.utf8Slice(this.pos, this.pos = Math.min(this.pos + t, this.len)) : this.buf.toString("utf-8", this.pos, this.pos = Math.min(this.pos + t, this.len));
    }, o.j();
}, function(t, e, n) {
    t.exports = i;
    var r = n(3);
    function i(t, e, n) {
        if ("function" != typeof t) throw TypeError("rpcImpl must be a function");
        r.EventEmitter.call(this), this.rpcImpl = t, this.requestDelimited = Boolean(e), 
        this.responseDelimited = Boolean(n);
    }
    ((i.prototype = Object.create(r.EventEmitter.prototype)).constructor = i).prototype.rpcCall = function t(e, n, i, o, s) {
        if (!o) throw TypeError("request must be specified");
        var a = this;
        if (!s) return r.asPromise(t, a, e, n, i, o);
        if (a.rpcImpl) try {
            return a.rpcImpl(e, n[a.requestDelimited ? "encodeDelimited" : "encode"](o).finish(), function(t, n) {
                if (t) return a.emit("error", t, e), s(t);
                if (null !== n) {
                    if (!(n instanceof i)) try {
                        n = i[a.responseDelimited ? "decodeDelimited" : "decode"](n);
                    } catch (t) {
                        return a.emit("error", t, e), s(t);
                    }
                    return a.emit("data", n, e), s(null, n);
                }
                a.end(!0);
            });
        } catch (t) {
            a.emit("error", t, e), setTimeout(function() {
                s(t);
            }, 0);
        } else setTimeout(function() {
            s(Error("already ended"));
        }, 0);
    }, i.prototype.end = function(t) {
        return this.rpcImpl && (t || this.rpcImpl(null, null, null), this.rpcImpl = null, 
        this.emit("end").off()), this;
    };
}, function(t, e, n) {
    (t.exports = function(t, e) {
        "string" == typeof t && (e = t, t = void 0);
        var n = [];
        function r(t) {
            if ("string" != typeof t) {
                var e = "return " + i();
                if (t) {
                    for (var o = Object.keys(t), s = new Array(o.length + 1), a = new Array(o.length), u = 0; u < o.length; ) s[u] = o[u], 
                    a[u] = t[o[u++]];
                    return s[u] = e, Function.apply(null, s).apply(null, a);
                }
                return Function(e)();
            }
            for (var l = new Array(arguments.length - 1), h = 0; h < l.length; ) l[h] = arguments[++h];
            if (h = 0, t = t.replace(/%([%dfijs])/g, function(t, e) {
                var n = l[h++];
                switch (e) {
                  case "d":
                  case "f":
                    return String(Number(n));

                  case "i":
                    return String(Math.floor(n));

                  case "j":
                    return JSON.stringify(n);

                  case "s":
                    return String(n);
                }
                return "%";
            }), h !== l.length) throw Error("parameter count mismatch");
            return n.push(t), r;
        }
        function i(r) {
            return "function " + (r || e || "") + "(" + (t && t.join(",") || "") + "){\n  " + n.join("\n  ") + "\n}";
        }
        return r.toString = i, r;
    }).verbose = !1;
}, function(t, e, n) {
    t.exports = o;
    var r = n(15), i = n(16)("fs");
    function o(t, e, n) {
        return e = "function" == typeof e ? (n = e, {}) : e || {}, n ? !e.xhr && i && i.readFile ? i.readFile(t, function(r, i) {
            return r && "undefined" != typeof XMLHttpRequest ? o.xhr(t, e, n) : r ? n(r) : n(null, e.binary ? i : i.toString("utf8"));
        }) : o.xhr(t, e, n) : r(o, this, t, e);
    }
    o.xhr = function(t, e, n) {
        var r = new XMLHttpRequest();
        r.onreadystatechange = function() {
            if (4 === r.readyState) {
                if (0 !== r.status && 200 !== r.status) return n(Error("status " + r.status));
                if (e.binary) {
                    if (!(t = r.response)) for (var t = [], i = 0; i < r.responseText.length; ++i) t.push(255 & r.responseText.charCodeAt(i));
                    return n(null, "undefined" != typeof Uint8Array ? new Uint8Array(t) : t);
                }
                return n(null, r.responseText);
            }
        }, e.binary && ("overrideMimeType" in r && r.overrideMimeType("text/plain; charset=x-user-defined"), 
        r.responseType = "arraybuffer"), r.open("GET", t), r.send();
    };
}, function(t, e, n) {
    var r = e.isAbsolute = function(t) {
        return /^(?:\/|\w+:)/.test(t);
    }, i = e.normalize = function(t) {
        var e = (t = t.replace(/\\/g, "/").replace(/\/{2,}/g, "/")).split("/"), n = r(t);
        t = "";
        n && (t = e.shift() + "/");
        for (var i = 0; i < e.length; ) ".." === e[i] ? 0 < i && ".." !== e[i - 1] ? e.splice(--i, 2) : n ? e.splice(i, 1) : ++i : "." === e[i] ? e.splice(i, 1) : ++i;
        return t + e.join("/");
    };
    e.resolve = function(t, e, n) {
        return n || (e = i(e)), !r(e) && (t = (t = n ? t : i(t)).replace(/(?:\/|^)[^/]+$/, "")).length ? i(t + "/" + e) : e;
    };
}, function(t, e, n) {
    n.r(e);
    var r = "v3.1.6", i = ((p = {
        NONE: 0,
        EXTRUDE_MARKER: 2,
        FM3DTILE_LAYER: 4,
        IMAGE_MARKER: 8,
        LOCATION_MARKER: 16,
        POLYGON_MARKER: 32,
        TEXT_MARKER: 64,
        LINE_MARKER: 128,
        LINE3D_MARKER: 256,
        HEAT_MAP_MARKER: 512,
        EXTENT: 1024,
        EXTERNAL_MODEL: 2048,
        MODEL: 4096,
        FACILITY: 8192,
        LABEL: 16384,
        DYNAMIC_MODEL_MARKER: 32768,
        DOM_MARKER: 65536,
        SPHERE_MARKER: 1 << 17,
        CAD_LAYER: 1 << 18,
        EXTENT_LAYER: 1 << 20,
        EXTERNAL_MODEL_LAYER: 1 << 21,
        MODEL_LAYER: 1 << 22,
        FACILITY_LAYER: 1 << 23,
        LABEL_LAYER: 1 << 24,
        MARKER_GROUP: 1 << 25,
        FLOW_LINE_LAYER: 1 << 27,
        FLOW_LINE_MARKER: 1 << 27,
        FIRE_MARKER: 1 << 28,
        WALL_MARKER: 1 << 29,
        TUBE_MARKER: 1 << 30
    }).LAYER_NODE_TYPE = new Map(), p.LAYER_NODE_TYPE.set(p.EXTENT_LAYER, p.EXTENT), 
    p.LAYER_NODE_TYPE.set(p.EXTERNAL_MODEL_LAYER, p.EXTERNAL_MODEL), p.LAYER_NODE_TYPE.set(p.MODEL_LAYER, p.MODEL), 
    p.LAYER_NODE_TYPE.set(p.FACILITY_LAYER, p.FACILITY), p.LAYER_NODE_TYPE.set(p.LABEL_LAYER, p.LABEL), 
    p.LAYER_NODE_TYPE.set(p.DOM_MARKER, p.DOM_MARKER), p.LAYER_NODE_TYPE.set(p.DYNAMIC_MODEL_MARKER, p.DYNAMIC_MODEL_MARKER), 
    p.LAYER_NODE_TYPE.set(p.EXTRUDE_MARKER, p.EXTRUDE_MARKER), p.LAYER_NODE_TYPE.set(p.HEAT_MAP_MARKER, p.HEAT_MAP_MARKER), 
    p.LAYER_NODE_TYPE.set(p.LINE_MARKER, p.LINE_MARKER), p.LAYER_NODE_TYPE.set(p.LOCATION_MARKER, p.LOCATION_MARKER), 
    p.LAYER_NODE_TYPE.set(p.POLYGON_MARKER, p.POLYGON_MARKER), p.LAYER_NODE_TYPE.set(p.TEXT_MARKER, p.TEXT_MARKER), 
    p.LAYER_NODE_TYPE.set(p.IMAGE_MARKER, p.IMAGE_MARKER), p.LAYER_NODE_TYPE.set(p.FLOW_LINE_LAYER, p.FLOW_LINE_MARKER), 
    p.LAYER_NODE_TYPE.set(p.FIRE_MARKER, p.FIRE_MARKER), p.LAYER_NODE_TYPE.set(p.WALL_MARKER, p.WALL_MARKER), 
    p.LAYER_NODE_TYPE.set(p.TUBE_MARKER, p.TUBE_MARKER), p.LAYER_NODE_TYPE.set(p.LINE3D_MARKER, p.LINE3D_MARKER), 
    p.LAYER_NODE_TYPE.set(p.SPHERE_MARKER, p.SPHERE_MARKER), p.LAYER_NODE_TYPE.set(p.CAD_LAYER, p.CAD_LAYER), 
    p), o = {
        MODULE_SHORTEST: 1,
        MODULE_BEST: 2
    }, s = {
        PRIORITY_DEFAULT: 1,
        PRIORITY_LIFTFIRST: 2,
        PRIORITY_ESCALATORFIRST: 3,
        PRIORITY_STAIRFIRST: 4,
        PRIORITY_LIFTONLY: 5,
        PRIORITY_ESCALATORONLY: 6,
        PRIORITY_STAIRONLY: 7,
        PRIORITY_ACCESSIBLEONLY: 8,
        PRIORITY_LIFTFIRST1: 9,
        PRIORITY_ESCALATORFIRST1: 10,
        PRIORITY_STAIRFIRST1: 11
    }, a = {
        ROUTE_SUCCESS: 1,
        ROUTE_FAILED_NO_DATA_START: 2,
        ROUTE_FAILED_NO_DATA_DEST: 3,
        ROUTE_FAILED_CANNOT_ARRIVE: 4,
        ROUTE_FAILED_WAYPOINT_CALCULATE_ERROR: 5,
        ROUTE_FAILED_NO_START_ARRIVAL: 6,
        ROUTE_FAILED_NO_DEST_ARRIVAL: 7,
        ROUTE_FAILED_OUTLINE: 8,
        ROUTE_FAILED_ENTRANCE: 9
    }, u = {
        ZH: "zh",
        EN: "en"
    }, l = {
        TRANSFER_LIFT: 1,
        TRANSFER_STAIR: 2,
        TRANSFER_ESCALATOR: 3,
        TRANSFER_ACCESSIBLE: 4,
        TRANSFER_RAMP: 5,
        TRANSFER_ENTRANCE: 6
    }, h = {
        NONE_RODE_NETWORK: 1,
        NONE_WALK_RODE_NETWORK: 2,
        NONE_DRIVE_RODE_NETWORK: 4
    };
    function f(t) {
        return (f = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function c(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== f(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== f(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === f(t) ? t : String(t);
            }(r.key), r);
        }
    }
    var p = function(t, e, n) {
        return e && c(t.prototype, e), n && c(t, n), Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }(function t(e, n) {
        if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
        this.F = e, this.G = n;
    }), y = (Object.assign(p.prototype, {
        C: function(t) {
            return !1;
        },
        B: function(t, e) {}
    }), p);
    function d(t) {
        return (d = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function v(t, e) {
        return (v = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t, e) {
            return t.__proto__ = e, t;
        })(t, e);
    }
    function b(t) {
        return (b = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t);
        })(t);
    }
    p = function() {
        var t = r, e = y;
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
        t.prototype = Object.create(e && e.prototype, {
            constructor: {
                value: t,
                writable: !0,
                configurable: !0
            }
        }), Object.defineProperty(t, "prototype", {
            writable: !1
        }), e && v(t, e);
        var n = function(t) {
            var e = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                if (Reflect.construct.sham) return !1;
                if ("function" == typeof Proxy) return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), 
                    !0;
                } catch (t) {
                    return !1;
                }
            }();
            return function() {
                var n, r = b(t);
                n = e ? (n = b(this).constructor, Reflect.construct(r, arguments, n)) : r.apply(this, arguments), 
                r = this;
                if (n && ("object" === d(n) || "function" == typeof n)) return n;
                if (void 0 !== n) throw new TypeError("Derived constructors may only return object or undefined");
                if (void 0 !== r) return r;
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            };
        }(r);
        function r(t, e) {
            if (this instanceof r) return n.call(this, t, e);
            throw new TypeError("Cannot call a class as a function");
        }
        return t = r, Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }();
    var g = (Object.assign(p.prototype, {
        C: function(t) {
            return this.G == t.fid;
        }
    }), p);
    function m(t) {
        return (m = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function O(t, e) {
        return (O = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t, e) {
            return t.__proto__ = e, t;
        })(t, e);
    }
    function x(t) {
        return (x = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t);
        })(t);
    }
    p = function() {
        var t = r, e = y;
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
        t.prototype = Object.create(e && e.prototype, {
            constructor: {
                value: t,
                writable: !0,
                configurable: !0
            }
        }), Object.defineProperty(t, "prototype", {
            writable: !1
        }), e && O(t, e);
        var n = function(t) {
            var e = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                if (Reflect.construct.sham) return !1;
                if ("function" == typeof Proxy) return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), 
                    !0;
                } catch (t) {
                    return !1;
                }
            }();
            return function() {
                var n, r = x(t);
                n = e ? (n = x(this).constructor, Reflect.construct(r, arguments, n)) : r.apply(this, arguments), 
                r = this;
                if (n && ("object" === m(n) || "function" == typeof n)) return n;
                if (void 0 !== n) throw new TypeError("Derived constructors may only return object or undefined");
                if (void 0 !== r) return r;
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            };
        }(r);
        function r(t, e) {
            if (this instanceof r) return (t = n.call(this, t, e)).U = null, "object" == m(t.G) ? (t.Z = t.G.text, 
            t.W = t.G.fuzzy, t.V = void 0 === t.G.matchCase || t.G.matchCase) : (t.Z = t.G, 
            t.V = !0), t;
            throw new TypeError("Cannot call a class as a function");
        }
        return t = r, Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }();
    var E = (Object.assign(p.prototype, {
        C: function(t) {
            var e = null;
            if (e = "ename" === this.U ? t.ename : t.name) if (this.W) {
                if (this.V) {
                    if (-1 != e.indexOf(this.Z)) return !0;
                } else if (-1 != e.toLocaleLowerCase().indexOf(this.Z.toLocaleLowerCase())) return !0;
            } else if (this.V) {
                if (this.Z == e) return !0;
            } else if (this.Z.toLocaleLowerCase() == e.toLocaleLowerCase()) return !0;
            return !1;
        }
    }), p);
    function _(t) {
        return (_ = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function T(t, e) {
        return (T = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t, e) {
            return t.__proto__ = e, t;
        })(t, e);
    }
    function w(t) {
        return (w = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t);
        })(t);
    }
    var S = function() {
        var t = r, e = E;
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
        t.prototype = Object.create(e && e.prototype, {
            constructor: {
                value: t,
                writable: !0,
                configurable: !0
            }
        }), Object.defineProperty(t, "prototype", {
            writable: !1
        }), e && T(t, e);
        var n = function(t) {
            var e = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                if (Reflect.construct.sham) return !1;
                if ("function" == typeof Proxy) return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), 
                    !0;
                } catch (t) {
                    return !1;
                }
            }();
            return function() {
                var n, r = w(t);
                n = e ? (n = w(this).constructor, Reflect.construct(r, arguments, n)) : r.apply(this, arguments), 
                r = this;
                if (n && ("object" === _(n) || "function" == typeof n)) return n;
                if (void 0 !== n) throw new TypeError("Derived constructors may only return object or undefined");
                if (void 0 !== r) return r;
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            };
        }(r);
        function r(t, e) {
            if (this instanceof r) return (t = n.call(this, t, e)).U = "name", t;
            throw new TypeError("Cannot call a class as a function");
        }
        return t = r, Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }();
    function R(t) {
        return (R = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function j(t, e) {
        return (j = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t, e) {
            return t.__proto__ = e, t;
        })(t, e);
    }
    function A(t) {
        return (A = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t);
        })(t);
    }
    var L = function() {
        var t = r, e = E;
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
        t.prototype = Object.create(e && e.prototype, {
            constructor: {
                value: t,
                writable: !0,
                configurable: !0
            }
        }), Object.defineProperty(t, "prototype", {
            writable: !1
        }), e && j(t, e);
        var n = function(t) {
            var e = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                if (Reflect.construct.sham) return !1;
                if ("function" == typeof Proxy) return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), 
                    !0;
                } catch (t) {
                    return !1;
                }
            }();
            return function() {
                var n, r = A(t);
                n = e ? (n = A(this).constructor, Reflect.construct(r, arguments, n)) : r.apply(this, arguments), 
                r = this;
                if (n && ("object" === R(n) || "function" == typeof n)) return n;
                if (void 0 !== n) throw new TypeError("Derived constructors may only return object or undefined");
                if (void 0 !== r) return r;
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            };
        }(r);
        function r(t, e) {
            if (this instanceof r) return (t = n.call(this, t, e)).U = "ename", t;
            throw new TypeError("Cannot call a class as a function");
        }
        return t = r, Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }();
    function N(t) {
        return (N = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function I(t, e) {
        return (I = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t, e) {
            return t.__proto__ = e, t;
        })(t, e);
    }
    function P(t) {
        return (P = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t);
        })(t);
    }
    p = function() {
        var t = r, e = y;
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
        t.prototype = Object.create(e && e.prototype, {
            constructor: {
                value: t,
                writable: !0,
                configurable: !0
            }
        }), Object.defineProperty(t, "prototype", {
            writable: !1
        }), e && I(t, e);
        var n = function(t) {
            var e = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                if (Reflect.construct.sham) return !1;
                if ("function" == typeof Proxy) return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), 
                    !0;
                } catch (t) {
                    return !1;
                }
            }();
            return function() {
                var n, r = P(t);
                n = e ? (n = P(this).constructor, Reflect.construct(r, arguments, n)) : r.apply(this, arguments), 
                r = this;
                if (n && ("object" === N(n) || "function" == typeof n)) return n;
                if (void 0 !== n) throw new TypeError("Derived constructors may only return object or undefined");
                if (void 0 !== r) return r;
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            };
        }(r);
        function r(t, e) {
            if (this instanceof r) return (t = n.call(this, t)).G = Array.isArray(e) ? e : [ e ], 
            t;
            throw new TypeError("Cannot call a class as a function");
        }
        return t = r, Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }();
    var D = (Object.assign(p.prototype, {
        C: function(t) {
            return -1 != this.G.indexOf(t.type);
        }
    }), p);
    function k(t) {
        return (k = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function M(t, e) {
        return (M = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t, e) {
            return t.__proto__ = e, t;
        })(t, e);
    }
    function W(t) {
        return (W = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t);
        })(t);
    }
    p = function() {
        var t = r, e = y;
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
        t.prototype = Object.create(e && e.prototype, {
            constructor: {
                value: t,
                writable: !0,
                configurable: !0
            }
        }), Object.defineProperty(t, "prototype", {
            writable: !1
        }), e && M(t, e);
        var n = function(t) {
            var e = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                if (Reflect.construct.sham) return !1;
                if ("function" == typeof Proxy) return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), 
                    !0;
                } catch (t) {
                    return !1;
                }
            }();
            return function() {
                var n, r = W(t);
                n = e ? (n = W(this).constructor, Reflect.construct(r, arguments, n)) : r.apply(this, arguments), 
                r = this;
                if (n && ("object" === k(n) || "function" == typeof n)) return n;
                if (void 0 !== n) throw new TypeError("Derived constructors may only return object or undefined");
                if (void 0 !== r) return r;
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            };
        }(r);
        function r(t, e) {
            if (this instanceof r) return "object" == k((t = n.call(this, t, e)).G) ? (t.Z = t.G.text, 
            t.W = void 0 === t.G.fuzzy || t.G.fuzzy, t.V = void 0 === t.G.matchCase || t.G.matchCase) : (t.Z = t.G, 
            t.W = !0, t.V = !0), t;
            throw new TypeError("Cannot call a class as a function");
        }
        return t = r, Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }();
    var U = (Object.assign(p.prototype, {
        C: function(t) {
            if (this.W) {
                if (this.V) {
                    if (t.name && -1 != t.name.indexOf(this.Z) || t.ename && -1 != t.ename.indexOf(this.Z)) return !0;
                } else if (t.name && -1 != t.name.toLocaleLowerCase().indexOf(this.Z.toLocaleLowerCase()) || t.ename && -1 != t.ename.toLocaleLowerCase().indexOf(this.Z.toLocaleLowerCase())) return !0;
            } else if (this.V) {
                if (t.name && t.name == this.Z || t.ename && t.ename == this.Z) return !0;
            } else if (t.name && t.name.toLocaleLowerCase() == this.Z.toLocaleLowerCase() || t.ename && t.ename.toLocaleLowerCase() == this.Z.toLocaleLowerCase()) return !0;
            return !1;
        }
    }), p), C = (p = {
        NONE: 0,
        POINT: 1,
        LINE: 2,
        POLYGON: 4,
        MULTIPOINT: 8,
        MULTILINE: 16,
        MULTIPOLYGON: 32,
        GROUP: 64,
        EXTENT: 1024,
        EXTERNALMODEL: 2048,
        MODEL: 4096,
        FACILITY: 8192,
        LABEL: 16384,
        EXTENTGROUP: 1 << 20,
        EXTERNALMODELGROUP: 1 << 21,
        MODELGROUP: 1 << 22,
        FACILITYGROUP: 1 << 23,
        LABELGROUP: 1 << 24
    }, Object.freeze(p), p), V = function(t, e, n) {
        n = n || 2;
        var r, i, o, s, a, u = e && e.length, l = u ? e[0] * n : t.length, h = F(t, 0, l, n, !0), f = [];
        if (h && h.next !== h.prev) {
            if (u && (h = function(t, e, n, r) {
                var i, o, s, a = [];
                for (i = 0, o = e.length; i < o; i++) (s = F(t, s = e[i] * r, i < o - 1 ? e[i + 1] * r : t.length, r, !1)) === s.next && (s.steiner = !0), 
                a.push(function(t) {
                    for (var e = t, n = t; (e.x < n.x || e.x === n.x && e.y < n.y) && (n = e), (e = e.next) !== t; ) ;
                    return n;
                }(s));
                for (a.sort(G), i = 0; i < a.length; i++) !function(t, e) {
                    (e = function(t, e) {
                        var n, r = e, i = t.x, o = t.y, s = -1 / 0;
                        do {
                            if (o <= r.y && o >= r.next.y && r.next.y !== r.y) {
                                var a = r.x + (o - r.y) * (r.next.x - r.x) / (r.next.y - r.y);
                                if (a <= i && s < a) {
                                    if ((s = a) === i) {
                                        if (o === r.y) return r;
                                        if (o === r.next.y) return r.next;
                                    }
                                    n = r.x < r.next.x ? r : r.next;
                                }
                            }
                        } while ((r = r.next) !== e);
                        if (!n) return null;
                        if (i !== s) {
                            var u, l = n, h = n.x, f = n.y, c = 1 / 0;
                            for (r = n; i >= r.x && r.x >= h && i !== r.x && B(o < f ? i : s, o, h, f, o < f ? s : i, o, r.x, r.y) && (u = Math.abs(o - r.y) / (i - r.x), 
                            K(r, t)) && (u < c || u === c && (r.x > n.x || r.x === n.x && function(t, e) {
                                return z(t.prev, t, e.prev) < 0 && z(e.next, t, t.next) < 0;
                            }(n, r))) && (n = r, c = u), (r = r.next) !== l; ) ;
                        }
                        return n;
                    }(t, e)) && (t = Q(e, t), Y(e, e.next), Y(t, t.next));
                }(a[i], n), n = Y(n, n.next);
                return n;
            }(t, e, h, n)), t.length > 80 * n) {
                for (var c = r = t[0], p = i = t[1], y = n; y < l; y += n) (o = t[y]) < c && (c = o), 
                (s = t[y + 1]) < p && (p = s), r < o && (r = o), i < s && (i = s);
                a = 0 !== (a = Math.max(r - c, i - p)) ? 1 / a : 0;
            }
            !function t(e, n, r, i, o, s, a) {
                if (e) {
                    if (!a && s) {
                        for (var u = e, l = i, h = o, f = s, c = u; null === c.z && (c.z = q(c.x, c.y, l, h, f)), 
                        c.prevZ = c.prev, c.nextZ = c.next, (c = c.next) !== u; ) ;
                        c.prevZ.nextZ = null, c.prevZ = null;
                        var p, y, d, v, b, g, m, O, x = c, E = 1;
                        do {
                            for (y = x, b = x = null, g = 0; y; ) {
                                for (g++, d = y, p = m = 0; p < E && (m++, d = d.nextZ); p++) ;
                                for (O = E; 0 < m || 0 < O && d; ) 0 !== m && (0 === O || !d || y.z <= d.z) ? (y = (v = y).nextZ, 
                                m--) : (d = (v = d).nextZ, O--), b ? b.nextZ = v : x = v, v.prevZ = b, b = v;
                                y = d;
                            }
                        } while (b.nextZ = null, E *= 2, 1 < g);
                    }
                    for (var _, T, w = e; e.prev !== e.next; ) if (_ = e.prev, T = e.next, s ? function(t, e, n, r) {
                        var i = t.prev, o = t, s = t.next;
                        if (!(0 <= z(i, o, s))) {
                            for (var a = (i.x < o.x ? i.x < s.x ? i : s : o.x < s.x ? o : s).x, u = (i.y < o.y ? i.y < s.y ? i : s : o.y < s.y ? o : s).y, l = (i.x > o.x ? i.x > s.x ? i : s : o.x > s.x ? o : s).x, h = (i.y > o.y ? i.y > s.y ? i : s : o.y > s.y ? o : s).y, f = q(a, u, e, n, r), c = q(l, h, e, n, r), p = t.prevZ, y = t.nextZ; p && p.z >= f && y && y.z <= c; ) {
                                if (p !== t.prev && p !== t.next && B(i.x, i.y, o.x, o.y, s.x, s.y, p.x, p.y) && 0 <= z(p.prev, p, p.next)) return;
                                if (p = p.prevZ, y !== t.prev && y !== t.next && B(i.x, i.y, o.x, o.y, s.x, s.y, y.x, y.y) && 0 <= z(y.prev, y, y.next)) return;
                                y = y.nextZ;
                            }
                            for (;p && p.z >= f; ) {
                                if (p !== t.prev && p !== t.next && B(i.x, i.y, o.x, o.y, s.x, s.y, p.x, p.y) && 0 <= z(p.prev, p, p.next)) return;
                                p = p.prevZ;
                            }
                            for (;y && y.z <= c; ) {
                                if (y !== t.prev && y !== t.next && B(i.x, i.y, o.x, o.y, s.x, s.y, y.x, y.y) && 0 <= z(y.prev, y, y.next)) return;
                                y = y.nextZ;
                            }
                            return 1;
                        }
                    }(e, i, o, s) : function(t) {
                        var e = t.prev, n = t, r = t.next;
                        if (!(0 <= z(e, n, r))) {
                            for (var i = t.next.next; i !== t.prev; ) {
                                if (B(e.x, e.y, n.x, n.y, r.x, r.y, i.x, i.y) && 0 <= z(i.prev, i, i.next)) return;
                                i = i.next;
                            }
                            return 1;
                        }
                    }(e)) n.push(_.i / r), n.push(e.i / r), n.push(T.i / r), tt(e), e = T.next, w = T.next; else if ((e = T) === w) {
                        a ? 1 === a ? t(e = function(t, e, n) {
                            var r = t;
                            do {
                                var i = r.prev, o = r.next.next;
                            } while (!X(i, o) && Z(i, r, r.next, o) && K(i, o) && K(o, i) && (e.push(i.i / n), 
                            e.push(r.i / n), e.push(o.i / n), tt(r), tt(r.next), r = t = o), (r = r.next) !== t);
                            return Y(r);
                        }(Y(e), n, r), n, r, i, o, s, 2) : 2 === a && function(e, n, r, i, o, s) {
                            var a = e;
                            do {
                                for (var u, l = a.next.next; l !== a.prev; ) {
                                    if (a.i !== l.i && function(t, e) {
                                        return t.next.i !== e.i && t.prev.i !== e.i && !function(t, e) {
                                            var n = t;
                                            do {
                                                if (n.i !== t.i && n.next.i !== t.i && n.i !== e.i && n.next.i !== e.i && Z(n, n.next, t, e)) return 1;
                                            } while ((n = n.next) !== t);
                                        }(t, e) && (K(t, e) && K(e, t) && function(t, e) {
                                            for (var n = t, r = !1, i = (t.x + e.x) / 2, o = (t.y + e.y) / 2; n.y > o != n.next.y > o && n.next.y !== n.y && i < (n.next.x - n.x) * (o - n.y) / (n.next.y - n.y) + n.x && (r = !r), 
                                            (n = n.next) !== t; ) ;
                                            return r;
                                        }(t, e) && (z(t.prev, t, e.prev) || z(t, e.prev, e)) || X(t, e) && 0 < z(t.prev, t, t.next) && 0 < z(e.prev, e, e.next));
                                    }(a, l)) return u = Q(a, l), a = Y(a, a.next), u = Y(u, u.next), t(a, n, r, i, o, s), 
                                    t(u, n, r, i, o, s);
                                    l = l.next;
                                }
                            } while ((a = a.next) !== e);
                        }(e, n, r, i, o, s) : t(Y(e), n, r, i, o, s, 1);
                        break;
                    }
                }
            }(h, f, n, c, p, a);
        }
        return f;
    };
    function F(t, e, n, r, i) {
        var o, s;
        if (i === 0 < function(t, e, n, r) {
            for (var i = 0, o = e, s = n - r; o < n; o += r) i += (t[s] - t[o]) * (t[o + 1] + t[s + 1]), 
            s = o;
            return i;
        }(t, e, n, r)) for (o = e; o < n; o += r) s = $(o, t[o], t[o + 1], s); else for (o = n - r; e <= o; o -= r) s = $(o, t[o], t[o + 1], s);
        return s && X(s, s.next) && (tt(s), s = s.next), s;
    }
    function Y(t, e) {
        if (!t) return t;
        e = e || t;
        var n, r = t;
        do {
            if (n = !1, r.steiner || !X(r, r.next) && 0 !== z(r.prev, r, r.next)) r = r.next; else {
                if (tt(r), (r = e = r.prev) === r.next) break;
                n = !0;
            }
        } while (n || r !== e);
        return e;
    }
    function G(t, e) {
        return t.x - e.x;
    }
    function q(t, e, n, r, i) {
        return (t = 1431655765 & ((t = 858993459 & ((t = 252645135 & ((t = 16711935 & ((t = 32767 * (t - n) * i) | t << 8)) | t << 4)) | t << 2)) | t << 1)) | (e = 1431655765 & ((e = 858993459 & ((e = 252645135 & ((e = 16711935 & ((e = 32767 * (e - r) * i) | e << 8)) | e << 4)) | e << 2)) | e << 1)) << 1;
    }
    function B(t, e, n, r, i, o, s, a) {
        return 0 <= (i - s) * (e - a) - (t - s) * (o - a) && 0 <= (t - s) * (r - a) - (n - s) * (e - a) && 0 <= (n - s) * (o - a) - (i - s) * (r - a);
    }
    function z(t, e, n) {
        return (e.y - t.y) * (n.x - e.x) - (e.x - t.x) * (n.y - e.y);
    }
    function X(t, e) {
        return t.x === e.x && t.y === e.y;
    }
    function Z(t, e, n, r) {
        var i = J(z(t, e, n)), o = J(z(t, e, r)), s = J(z(n, r, t)), a = J(z(n, r, e));
        return i !== o && s !== a || 0 === i && H(t, n, e) || 0 === o && H(t, r, e) || 0 === s && H(n, t, r) || !(0 !== a || !H(n, e, r));
    }
    function H(t, e, n) {
        return e.x <= Math.max(t.x, n.x) && e.x >= Math.min(t.x, n.x) && e.y <= Math.max(t.y, n.y) && e.y >= Math.min(t.y, n.y);
    }
    function J(t) {
        return 0 < t ? 1 : t < 0 ? -1 : 0;
    }
    function K(t, e) {
        return z(t.prev, t, t.next) < 0 ? 0 <= z(t, e, t.next) && 0 <= z(t, t.prev, e) : z(t, e, t.prev) < 0 || z(t, t.next, e) < 0;
    }
    function Q(t, e) {
        var n = new et(t.i, t.x, t.y), r = new et(e.i, e.x, e.y), i = t.next, o = e.prev;
        return (t.next = e).prev = t, (n.next = i).prev = n, (r.next = n).prev = r, (o.next = r).prev = o, 
        r;
    }
    function $(t, e, n, r) {
        return t = new et(t, e, n), r ? (t.next = r.next, (t.prev = r).next.prev = t, r.next = t) : (t.prev = t).next = t, 
        t;
    }
    function tt(t) {
        t.next.prev = t.prev, t.prev.next = t.next, t.prevZ && (t.prevZ.nextZ = t.nextZ), 
        t.nextZ && (t.nextZ.prevZ = t.prevZ);
    }
    function et(t, e, n) {
        this.i = t, this.x = e, this.y = n, this.prev = null, this.next = null, this.z = null, 
        this.prevZ = null, this.nextZ = null, this.steiner = !1;
    }
    function nt(t) {
        return function(t) {
            if (Array.isArray(t)) return rt(t);
        }(t) || function(t) {
            if ("undefined" != typeof Symbol && null != t[Symbol.iterator] || null != t["@@iterator"]) return Array.from(t);
        }(t) || function(t, e) {
            var n;
            if (t) return "string" == typeof t ? rt(t, e) : "Map" === (n = "Object" === (n = Object.prototype.toString.call(t).slice(8, -1)) && t.constructor ? t.constructor.name : n) || "Set" === n ? Array.from(t) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? rt(t, e) : void 0;
        }(t) || function() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
        }();
    }
    function rt(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r;
    }
    var it = {
        area: function(t) {
            for (var e = t.length, n = 0, r = e - 1, i = 0; i < e; r = i++) n += t[r].x * t[i].y - t[i].x * t[r].y;
            return .5 * n;
        },
        isClockWise: function(t) {
            return it.area(t) < 0;
        },
        triangulateShape: function(t, e) {
            var n = [], r = [], i = [], o = (ot(t), st(n, t), t.length);
            e.forEach(ot);
            for (var s = 0; s < e.length; s++) r.push(o), o += e[s].length, st(n, e[s]);
            for (var a = V(n, r), u = 0; u < a.length; u += 3) i.push(a.slice(u, u + 3));
            return i;
        },
        triangulate: function(t) {
            (i = []).push.apply(i, nt(t[0]));
            for (var e = [], n = 1; n < t.length; n++) {
                var r = [];
                r.push.apply(r, nt(t[n])), e.push(r);
            }
            if (!it.isClockWise(i)) for (var i = i.reverse(), o = 0, s = e.length; o < s; o++) {
                var a = e[o];
                it.isClockWise(a) && (e[o] = a.reverse());
            }
            return it.triangulateShape(i, e);
        }
    };
    function ot(t) {
        var e, n = t.length;
        2 < n && (n = t[n - 1], e = t[0], n.x === e.x) && n.y === e.y && t.pop();
    }
    function st(t, e) {
        for (var n = 0; n < e.length; n++) t.push(e[n].x), t.push(e[n].y);
    }
    function at(t) {
        return (at = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function ut(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== at(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== at(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === at(t) ? t : String(t);
            }(r.key), r);
        }
    }
    var lt = 1e-5, ht = .001, ft = Math.PI / 180, ct = 180 / Math.PI;
    p = function(t, e, n) {
        return e && ut(t.prototype, e), n && ut(t, n), Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }(function t() {
        if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
    });
    Object.assign(p.prototype, {
        Y: function() {
            return lt;
        },
        X: function() {
            return ft;
        },
        H: function() {
            return ct;
        },
        K: function(t) {
            return t < lt && -lt < t;
        },
        J: function(t) {
            return lt < t;
        },
        $: function(t) {
            return t < -lt;
        },
        tt: function(t, e, n) {
            return e = (t.x - n.x) * (e.y - n.y) - (e.x - n.x) * (t.y - n.y), Math.abs(e) < lt ? 0 : e;
        },
        distanceOfTwoPoints: function(t, e) {
            return t && e ? Math.sqrt((t.x - e.x) * (t.x - e.x) + (t.y - e.y) * (t.y - e.y)) : Number.NaN;
        },
        distance: function(t, e) {
            return Math.sqrt(Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2));
        },
        isPolygonContainPoint: function(t, e) {
            for (var n = 0, r = 0; r < t.length; r++) {
                var i = t[r].x, o = t[r].y, s = 0, a = (r < t.length - 1 ? (s = t[r + 1].x, t[r + 1]) : (s = t[0].x, 
                t[0])).y;
                if (i === e.x && o === e.y || s === e.x && a === e.y) return !0;
                if (a !== o) {
                    var u = i + (e.y - o) * (s - i) / (a - o);
                    if (u === e.x) return !0;
                    i !== s ? u <= Math.max(i, s) && u >= Math.min(i, s) && u > e.x && u !== i && (u === s && 0 < (o - e.y) * (a - e.y) ? n += 2 : n++) : u <= Math.max(i, s) && u >= Math.min(i, s) && u > e.x && (u === s && 0 < (o - e.y) * (a - e.y) ? n += 2 : n++);
                }
            }
            return 0 < n % 2;
        },
        isPolygonContainPoint2: function(t, e) {
            var n = t.length;
            if (n < 3) return !1;
            for (var r = n - 1, i = 0, o = 0; o < n; o++) {
                var s = t[o], a = t[r];
                s.y > e.y != a.y > e.y && e.x < (a.x - s.x) * (e.y - s.y) / (a.y - s.y) + s.x && (s.y > a.y ? i++ : i--), 
                r = o;
            }
            return 0 != i;
        },
        isPolygonInPolygon: function(t, e) {
            var n = Object.assign([], t), r = Object.assign([], e);
            n.push(n[0]), r.push(r[0]);
            for (var i = 0; i < n.length - 1; i++) {
                var o = n[i];
                if (!this.isPolygonContainPoint(r, o) && !this.isPolygonContainPoint2(r, o)) return !1;
            }
            for (var s = 0; s < n.length - 1; s++) for (var a = 0; a < r.length - 1; a++) if (this.it(n[s], n[s + 1], r[a], r[a + 1]).isintersect && !this.nt(r[a], r[a + 1], n[s]) && !this.nt(r[a], r[a + 1], n[s + 1])) return !1;
            return !0;
        },
        rt: function(t, e, n, r) {
            return !(Math.max(t.x, e.x) < Math.min(n.x, r.x) || Math.max(t.y, e.y) < Math.min(n.y, r.y) || Math.max(n.x, r.x) < Math.min(t.x, e.x) || Math.max(n.y, r.y) < Math.min(t.y, e.y));
        },
        et: function(t, e, n, r) {
            return !(Math.max(t.x, e.x) < Math.min(n.x, r.x) || Math.max(t.y, e.y) < Math.min(n.y, r.y) || Math.max(n.x, r.x) < Math.min(t.x, e.x) || Math.max(n.y, r.y) < Math.min(t.y, e.y) || 0 === this.tt(n, e, t) && 0 === this.tt(e, r, t) || this.tt(n, e, t) * this.tt(e, r, t) < 0 || this.tt(t, r, n) * this.tt(r, e, n) < 0);
        },
        ot: function(t, e, n) {
            return !(t.x < e.x || t.y < e.y || t.x > n.x || t.y > n.y);
        },
        st: function(t, e, n) {
            var r = Math.min(e.x, n.x), i = Math.max(e.x, n.x), o = Math.min(e.y, n.y);
            e = Math.max(e.y, n.y);
            return !(t.x < r || t.x > i || t.y < o || t.y > e);
        },
        ut: function(t, e, n) {
            var r = Math.min(n.x, e.x), i = Math.max(n.x, e.x), o = Math.min(n.y, e.y);
            n = Math.max(n.y, e.y);
            return !(t.x < r || t.x > i || t.y < o || t.y > n);
        },
        ft: function(t, e, n) {
            for (var r, i, o = !1, s = 0; s < n; s++) r = e[s], i = e[(s + 1) % n], (r.y < t.y && i.y >= t.y || i.y < t.y && r.y >= t.y) && (r.x <= t.x || i.x <= t.x) && r.x + (t.y - r.y) / (i.y - r.y) * (i.x - r.x) < t.x && (o = !o);
            return o;
        },
        ht: function(t, e, n) {
            return (t.x - e.x) * (n.y - e.y) == (n.x - e.x) * (t.y - e.y) && Math.min(e.x, n.x) <= t.x && t.x <= Math.max(e.x, n.x) && Math.min(e.y, n.y) <= t.y && t.y <= Math.max(e.y, n.y);
        },
        lt: function(t, e) {
            return Math.sqrt((t.x - e.x) * (t.x - e.x) + (t.y - e.y) * (t.y - e.y));
        },
        ct: function(t, e) {
            return (t.x - e.x) * (t.x - e.x) + (t.y - e.y) * (t.y - e.y);
        },
        vt: function(t, e, n) {
            var r = e.x, i = (e = e.y, n.x), o = (n = n.y, t.x), s = i - r, a = n - e, u = s * s + a * a, l = o - r, h = (t = t.y) - e, f = l * l + h * h;
            return this.K(u) ? this.K(f) ? 0 : f : (u = Math.sqrt(u), h = this.J(a = (s /= u) * l + (l = a / u) * h) ? this.$(a - u) ? (h = o - (r + a * s)) * h + (u = t - (e + a * l)) * u : (r = o - i) * r + (s = t - n) * s : f, 
            this.K(h) ? 0 : h);
        },
        yt: function(t, e, n, r) {
            var i, o = e.x, s = e.y, a = n.x, u = n.y, l = t.x, h = (t = t.y, a - o), f = u - s, c = Math.sqrt(h * h + f * f), p = l - o, y = t - s, d = Math.sqrt(p * p + y * y);
            return this.K(c) ? (r.x = e.x, r.y = e.y, this.K(i = d) ? 0 : i) : (i = this.J(f = (h /= c) * p + (p = f / c) * y) ? this.$(f - c) ? (c = l - (y = o + f * h), 
            h = t - (o = s + f * p), s = Math.sqrt(c * c + h * h), r.x = y, r.y = o, s) : (f = l - a, 
            p = t - u, c = Math.sqrt(f * f + p * p), r.x = n.x, r.y = n.y, c) : (r.x = e.x, 
            r.y = e.y, d), this.K(i) ? 0 : i);
        },
        dt: function(t, e) {
            for (var n = 0, r = 0, i = 0, o = 0; o < e; o++) {
                var s = t[o], a = t[(o + 1) % e], u = (s.x * a.y - s.y * a.x) / 2;
                n += u, r += u * (s.x + a.x) / 3, i += u * (s.y + a.y) / 3;
            }
            return {
                x: r /= n,
                y: i /= n
            };
        },
        bt: function(t) {
            for (var e = it.triangulate([ t ]), n = 0, r = 0, i = 0, o = 0; o < e.length; o++) {
                var s = t[e[o][0]], a = t[e[o][1]], u = t[e[o][2]], l = a.x - s.x, h = a.y - s.y, f = u.x - s.x;
                n += l = (l * (u.y - s.y) - f * h) / 2, r += (s.x + a.x + u.x) / 3 * l, i += (s.y + a.y + u.y) / 3 * l;
            }
            return {
                x: r / n,
                y: i / n
            };
        },
        wt: function(t, e) {
            if (e < 3) return 0;
            for (var n = 0, r = 0; r < e; ++r) {
                var i = t[r], o = t[(r + 1) % e];
                n += i.x * o.y - i.y * o.x;
            }
            return Math.abs(n / 2);
        },
        gt: function(t, e, n, r, i) {
            var o, s;
            return this.et(t, e, n, r) ? (o = (r.x - n.x) * (t.y - e.y) - (e.x - t.x) * (n.y - r.y), 
            s = (t.y - n.y) * (e.x - t.x) * (r.x - n.x) + n.x * (r.y - n.y) * (e.x - t.x) - t.x * (e.y - t.y) * (r.x - n.x), 
            i.x = s / o, o = (t.x - e.x) * (r.y - n.y) - (e.y - t.y) * (n.x - r.x), s = e.y * (t.x - e.x) * (r.y - n.y) + (r.x - e.x) * (r.y - n.y) * (t.y - e.y) - r.y * (n.x - r.x) * (e.y - t.y), 
            i.y = s / o, 1) : 0;
        },
        _t: function(t, e, n, r, i) {
            var o = Math.min(n.x, r.x), s = Math.max(n.x, r.x), a = Math.min(n.y, r.y), u = Math.max(n.y, r.y), l = t.x, h = t.y, f = n.x, c = n.y, p = r.x, y = r.y;
            if (90 == e) return !(t.x < o || t.x > s || (s - o < ht ? t.y >= c && t.y <= y || t.y >= y && t.y <= c ? (i.x = t.x, 
            i.y = t.y, 0) : c < y && t.x < c ? (i.x = f, i.y = c, 0) : !(y < c && t.x < y) || (i.x = p, 
            i.y = y, 0) : (i.y = d = (y - c) / (p - f) * (l - f) + c, i.x = l, d < h || !this.ut(i, n, r))));
            if (270 == e) return !(t.x < o || t.x > s || (Math.abs(s - o < ht) ? t.y >= c && t.y <= y || t.y >= y && t.y <= c ? (i.x = t.x, 
            i.y = t.y, 0) : c < y && t.y > y ? (i.x = p, i.y = y, 0) : !(y < c && t.y > c) || (i.x = f, 
            i.y = c, 0) : (i.y = d = (y - c) / (p - f) * (l - f) + c, i.x = l, h < d || !this.ut(i, n, r))));
            if (270 != e && 90 != e && Math.abs(s - o < ht)) {
                t = o;
                var d = Math.tan(e / 180 * Math.PI) * (t - l) + h;
                if (i.y = d, i.x = t, this.ut(i, n, r)) return s = d - h, 0 < (o = t - l) / Math.sqrt(o * o + s * s) * Math.cos(e / 180 * Math.PI);
            }
            return Math.abs(u - a <= ht) ? (d = a, t = 1 / Math.tan(e / 180 * Math.PI) * (d - h) + l, 
            i.x = t, i.y = d, !!this.ut(i, n, r) && (o = d - h, 0 < (s = t - l) / Math.sqrt(s * s + o * o) * Math.cos(e / 180 * Math.PI))) : (t = h + (u = Math.tan(e / 180 * Math.PI)) * ((d = (c - h - ((a = (y - c) / (p - f)) * f - u * l)) / (u - a)) - l), 
            i.x = d, i.y = t, !!this.ut(i, n, r) && (s = d - l, o = t - h, Math.abs(s) <= ht && Math.abs(o) <= ht || 0 < s / Math.sqrt(s * s + o * o) * Math.cos(e / 180 * Math.PI)));
        },
        jt: function(t, e) {
            return Math.abs(t.x - e.x) < lt && Math.abs(t.y - e.y) < lt;
        },
        St: function(t, e, n, r) {
            var i, o, s, a, u = t.x, l = t.y, h = e.x, f = e.y, c = n.x, p = n.y;
            return this.jt(t, e) || this.jt(t, n) ? (r.x = u, r.y = l, !0) : (s = Math.min(e.x, n.x), 
            a = Math.max(e.x, n.x), i = Math.min(e.y, n.y), o = Math.max(e.y, n.y), Math.abs(h - c) < 1e-5 ? (r.x = h, 
            i <= (r.y = l) && l <= o) : Math.abs(f - p) < 1e-5 ? (r.x = u, r.y = f, s <= u && u <= a) : (a = l + (i = -1 / ((p - f) / (c - h))) * ((s = (f - l - ((o = (p - f) / (c - h)) * h - i * u)) / (i - o)) - u), 
            r.x = s, r.y = a, !!this.ut(r, e, n) || !(!this.jt(t, e) && !this.jt(t, n))));
        },
        Ot: function(t, e) {
            return {
                x: t.y * e.z - t.z * e.y,
                y: t.z * e.x - t.x * e.z,
                z: t.x * e.y - t.y * e.x
            };
        },
        Et: function(t, e) {
            return t.x * e.x + t.y * e.y + t.z * e.z;
        },
        Tt: function(t) {
            return Math.sqrt(t.x * t.x + t.y * t.y + t.z * t.z);
        },
        Rt: function(t, e) {
            return t.x * e.x + t.y * e.y;
        },
        Nt: function(t, e) {
            return t.x * e.y - t.y * e.x;
        },
        kt: function(t) {
            return Math.sqrt(t.x * t.x + t.y * t.y);
        },
        Mt: function(t, e) {
            var n, r;
            return 0 == t.x && 0 == t.y || 0 == e.x && 0 == e.y ? 0 : (n = {
                x: t.x,
                y: t.y,
                z: 0
            }, r = {
                x: e.x,
                y: e.y,
                z: 0
            }, n = this.Ot(n, r), r = this.Rt(t, e), r = Math.acos(r / (this.kt(t) * this.kt(e))), 
            0 < n.z ? r / Math.PI * 180 : 360 - r / Math.PI * 180);
        },
        It: function(t, e, n, r) {
            for (var i = 0; i < n.length; i++) {
                var o = n[i], s = n[(i + 1) % n.length];
                if (1 == this.gt(t, e, o, s, r)) return !0;
            }
            return !1;
        },
        At: function(t, e, n, r, i) {
            var o = Math.min(t.x, n.x, r.x), s = Math.max(t.x, n.x, r.x), a = Math.min(t.y, n.y, r.y), u = Math.max(t.y, n.y, r.y);
            s = Math.sqrt((s - o) * (s - o) + (u - a) * (u - a)), o = e / 180 * Math.PI, u = s * Math.cos(o) + t.x, 
            a = s * Math.sin(o) + t.y;
            return 1 == this.gt(t, {
                x: u,
                y: a
            }, n, r, i);
        },
        Pt: function(t) {
            var e = {
                x: null,
                y: null
            }, n = 0, r = 0, i = t.length;
            1 < t.length && t[0].x === t[t.length - 1].x && t[0].y === t[t.length - 1].y && i--;
            for (var o = 0; o < i; o++) n += t[o].x, r += t[o].y;
            return e.x = n / t.length, e.y = r / t.length, e;
        },
        xt: function(t, e, n, r) {
            var i = [], o = t.x - e, s = t.x + e, a = t.y - e, u = t.y + e, l = Math.min(n.x, r.x), h = Math.max(n.x, r.x), f = Math.min(n.y, r.y), c = Math.max(n.y, r.y);
            return h < o || s < l || c < a || u < f || (o = r.x - n.x, s = r.y - n.y, (a = (t = (o * (a = t.x - n.x) + s * (u = t.y - n.y)) / (r = o * o + s * s)) * t - (a * a + u * u - e * e) / r) < 0) || (u = Math.sqrt(a), 
            r = {
                x: n.x - o * (e = -t + u),
                y: n.y - s * e
            }, o = {
                x: n.x - o * (a = -t - u),
                y: n.y - s * a
            }, e !== a && (l <= r.x && r.x <= h && f <= r.y && r.y <= c && i.push(r), l <= o.x) && o.x <= h && f <= o.y && o.y <= c && i.push(o)), 
            i;
        },
        Lt: function(t, e, n) {
            var r, i = {};
            if (t.x != e.x) return r = e = (e.y - t.y) / (e.x - t.x), e = t.y - e * t.x, i.x = (+n.x - -1 * r * n.y - r * e) / (r * r + 1), 
            i.y = (r * r * n.y - -1 * r * n.x - -1 * e) / (r * r + 1), i;
            i.x = t.x, i.y = n.y;
        },
        it: function(t, e, n, r) {
            var i, o, s, a, u = {
                point: null,
                isintersect: !1
            };
            return this.distanceOfTwoPoints(t, n) < .001 || this.distanceOfTwoPoints(t, r) < .001 ? (u.isintersect = !0, 
            u.point = t) : this.distanceOfTwoPoints(e, n) < .001 || this.distanceOfTwoPoints(e, r) < .001 ? (u.isintersect = !0, 
            u.point = e) : (i = {
                x: e.x - t.x,
                y: e.y - t.y
            }, o = {
                x: r.x - n.x,
                y: r.y - n.y
            }, s = {
                x: n.x - t.x,
                y: n.y - t.y
            }, r = {
                x: r.x - t.x,
                y: r.y - t.y
            }, e = {
                x: e.x - n.x,
                y: e.y - n.y
            }, n = {
                x: -s.x,
                y: -s.y
            }, a = this.Nt(o, i), Math.abs(a) <= 1e-5 || this.Nt(s, i) * this.Nt(r, i) <= -5e-4 && this.Nt(n, o) * this.Nt(e, o) < -5e-4 && (r = this.Nt(o, s) / a, 
            u.point = {
                x: t.x + i.x * r,
                y: t.y + i.y * r
            }, u.isintersect = !0)), u;
        },
        Dt: function(t, e, n) {
            t.x === e.x && (e.x = e.x + 1), t.y === e.y && (e.y = e.y + 1), e.x === n.x && (n.x = n.x + 1), 
            e.y === n.y && (n.y = n.y + 1);
            var r = e.x - t.x, i = (t = e.y - t.y, n.x - e.x);
            return !(0 < r * (n.y - e.y) - t * i);
        },
        getAngle: function(t) {
            var e = t.p1, n = (t = t.p2).x - e.x;
            t = t.y - e.y, e = Math.sqrt(n * n + t * t), e = Math.asin(Math.abs(t) / e);
            return 0 < n && 0 < t ? e : n < 0 && 0 < t ? Math.PI - e : n < 0 && t < 0 ? Math.PI + e : 0 < n && t < 0 ? 2 * Math.PI - e : 0 == n && 0 < t ? e : 0 == n && t < 0 ? 3 * Math.PI / 2 : 0 < n && 0 == t ? e : n < 0 && 0 == t ? Math.PI : null;
        },
        Ft: function(t) {
            var e = this.distanceOfTwoPoints(t[0], t[1]), n = this.distanceOfTwoPoints(t[1], t[2]), r = (e + n + (t = this.distanceOfTwoPoints(t[0], t[2]))) / 2;
            return Math.sqrt(r * (r - e) * (r - n) * (r - t));
        },
        Gt: function(t, e) {
            var n, r, i, o, s;
            return this.yt(t, e[0], e[1], {}) < 1e-4 || this.yt(t, e[0], e[2], {}) < 1e-4 || this.yt(t, e[1], e[2], {}) < 1e-4 || (o = {
                x: e[1].x - e[0].x,
                y: e[1].y - e[0].y
            }, n = {
                x: e[0].x - e[2].x,
                y: e[0].y - e[2].y
            }, r = {
                x: e[2].x - e[1].x,
                y: e[2].y - e[1].y
            }, s = {
                x: t.x - e[0].x,
                y: t.y - e[0].y
            }, i = {
                x: t.x - e[1].x,
                y: t.y - e[1].y
            }, t = {
                x: t.x - e[2].x,
                y: t.y - e[2].y
            }, e = this.Nt(o, s), o = this.Nt(r, i), s = this.Nt(n, t), lt < e * o && lt < o * s);
        },
        Ct: function(t, e, n) {
            var r = n.length, i = {
                isintersect: !1,
                start: null,
                end: null,
                type: 0,
                outer: null
            }, o = [];
            if (this.Gt(t, n) && (i.start = t), this.Gt(e, n) && (i.end = e), null != i.start && null != i.end) i.isintersect = !0, 
            i.type = 1; else {
                for (var s = (n[1].x + n[2].x) / 2, a = (n[1].y + n[2].y) / 2, u = 1; u < r; u++) {
                    var l, h = this.it(t, e, n[u - 1], n[u]);
                    if (h.isintersect) {
                        if (null != i.start) return i.end = h.point, i.isintersect = !0, i.outer = "end", 
                        l = this.Mt({
                            x: s - n[0].x,
                            y: a - n[0].y
                        }, {
                            x: e.x - n[0].x,
                            y: e.y - n[0].y
                        }), i.type = 0 < (l = l < 180 ? l : l - 360) ? 2 : 3, i;
                        if (null != i.end) return i.start = h.point, i.isintersect = !0, i.outer = "start", 
                        l = this.Mt({
                            x: s - n[0].x,
                            y: a - n[0].y
                        }, {
                            x: t.x - n[0].x,
                            y: t.y - n[0].y
                        }), i.type = 0 < (l = l < 180 ? l : l - 360) ? 2 : 3, i;
                        o.push(h);
                    }
                }
                var f, c = this.it(t, e, n[0], n[r - 1]);
                if (c.isintersect) {
                    if (null != i.start) return i.end = c.point, i.isintersect = !0, i.outer = "end", 
                    f = this.Mt({
                        x: s - n[0].x,
                        y: a - n[0].y
                    }, {
                        x: e.x - n[0].x,
                        y: e.y - n[0].y
                    }), i.type = 0 < (f = f < 180 ? f : f - 360) ? 2 : 3, i;
                    if (null != i.end) return i.start = c.point, i.isintersect = !0, i.outer = "start", 
                    f = this.Mt({
                        x: s - n[0].x,
                        y: a - n[0].y
                    }, {
                        x: t.x - n[0].x,
                        y: t.y - n[0].y
                    }), i.type = 0 < (f = f < 180 ? f : f - 360) ? 2 : 3, i;
                    o.push(c);
                }
                2 != o.length || this.distanceOfTwoPoints(o[0].point, o[1].point) < .01 || (this.distanceOfTwoPoints(o[0].point, t) <= this.distanceOfTwoPoints(o[0].point, e) ? (i.start = o[0].point, 
                i.end = o[1].point) : (i.start = o[1].point, i.end = o[0].point), i.isintersect = !0, 
                i.type = 4);
            }
            return i;
        },
        Bt: function(t, e, n) {
            var r = n.length, i = {
                isintersect: !1,
                start: null,
                end: null
            }, o = [];
            if (this.Gt(t, n) && (i.start = t), this.Gt(e, n) && (i.end = e), null != i.start && null != i.end) i.isintersect = !0; else {
                for (var s = 1; s < r; s++) {
                    var a = this.it(t, e, n[s - 1], n[s]);
                    if (a.isintersect) {
                        if (null != i.start) return i.end = a.point, i.isintersect = !0, i;
                        if (null != i.end) return i.start = t, i.isintersect = !0, i;
                        o.push(a);
                    }
                }
                var u = this.it(t, e, n[0], n[r - 1]);
                if (u.isintersect) {
                    if (null != i.start) return i.end = u.point, i.isintersect = !0, i;
                    if (null != i.end) return i.start = t, i.isintersect = !0, i;
                    o.push(u);
                }
                2 == o.length && (i.start = (this.distanceOfTwoPoints(o[0].point, t) <= this.distanceOfTwoPoints(o[0].point, e) ? o[0] : o[1]).point, 
                i.end = (this.distanceOfTwoPoints(o[0].point, t) > this.distanceOfTwoPoints(o[0].point, e) ? o[0] : o[1]).point, 
                i.isintersect = !0);
            }
            return i;
        },
        Ut: function(t, e) {
            if (0 == e.length) return [ t ];
            var n, r, i = this.Zt(e), o = [], s = (i.sort(function(e, n) {
                var r = (e.Wt.x - t.Wt.x) * (e.Wt.x - t.Wt.x) + (e.Wt.y - t.Wt.y) * (e.Wt.y - t.Wt.y), i = (n.Wt.x - t.Wt.x) * (n.Wt.x - t.Wt.x) + (n.Wt.y - t.Wt.y) * (n.Wt.y - t.Wt.y);
                return (r < (e = (e.Vt.x - t.Wt.x) * (e.Vt.x - t.Wt.x) + (e.Vt.y - t.Wt.y) * (e.Vt.y - t.Wt.y)) ? r : e) < (i < (n = (n.Vt.x - t.Wt.x) * (n.Vt.x - t.Wt.x) + (n.Vt.y - t.Wt.y) * (n.Vt.y - t.Wt.y)) ? i : n);
            }), 0);
            for (s = 0; s < i.length; s++) this.distanceOfTwoPoints(i[s].Wt, i[s].Vt) < .01 || (n = this.distanceOfTwoPoints(i[s].Wt, t.Wt), 
            r = this.distanceOfTwoPoints(i[s].Vt, t.Wt), n < .01 ? t.Wt = i[s].Vt : r < .01 ? t.Wt = i[s].Wt : n < r ? .1 < this.distanceOfTwoPoints(t.Wt, i[s].Wt) && (o.push({
                qt: t.qt,
                Wt: t.Wt,
                Vt: i[s].Wt,
                lt: t.lt,
                Yt: t.Yt
            }), t.Wt = i[s].Vt) : .1 < this.distanceOfTwoPoints(t.Wt, i[s].Vt) && (o.push({
                qt: t.qt,
                Wt: t.Wt,
                Vt: i[s].Vt,
                lt: t.lt,
                Yt: t.Yt
            }), t.Wt = i[s].Wt), i.splice(s, 1));
            return .1 < this.distanceOfTwoPoints(t.Wt, t.Vt) && o.push(t), o;
        },
        Zt: function(t) {
            var e = [];
            if (1 == t.length) return t;
            for (var n = t[0], r = 1; 0 < t.length; ) {
                if (r >= t.length) {
                    if (e.push(n), t.splice(0, 1), t.length < 1) break;
                    n = t[0], r = 1;
                }
                if (1 === t.length) {
                    e.push(n);
                    break;
                }
                this.nt(n.Wt, n.Vt, t[r].Wt) ? (this.nt(n.Wt, n.Vt, t[r].Vt) || (n.Vt = t[r].Vt), 
                t.splice(r, 1)) : this.nt(n.Wt, n.Vt, t[r].Vt) ? (n.Wt = t[r].Wt, t.splice(r, 1)) : this.nt(t[r].Wt, t[r].Vt, n.Wt) ? (this.nt(t[r].Wt, t[r].Vt, n.Vt) || (t[r].Vt = n.Vt), 
                n = t[r], t.splice(r, 1)) : this.nt(t[r].Wt, t[r].Vt, n.Vt) ? (t[r].Wt = n.Wt, n = t[r], 
                t.splice(r, 1)) : r++;
            }
            return e;
        },
        nt: function(t, e, n) {
            var r = t.x - n.x, i = t.y - n.y, o = e.x - n.x, s = e.y - n.y, a = this.distanceOfTwoPoints(t, n);
            n = this.distanceOfTwoPoints(e, n), t = this.distanceOfTwoPoints(t, e);
            return r * s - i * o < 1e-5 && a + n - t < .001;
        }
    });
    var pt = new p();
    function yt(t) {
        return (yt = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function dt(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== yt(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== yt(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === yt(t) ? t : String(t);
            }(r.key), r);
        }
    }
    p = function() {
        function t() {
            if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
            this.zt = {
                x: Number.MAX_VALUE,
                y: Number.MAX_VALUE
            }, this.Xt = {
                x: -Number.MAX_VALUE,
                y: -Number.MAX_VALUE
            };
        }
        var e, n;
        return e = t, (n = [ {
            key: "min",
            get: function() {
                return this.zt;
            }
        }, {
            key: "max",
            get: function() {
                return this.Xt;
            }
        }, {
            key: "center",
            get: function() {
                var t = {
                    x: Number.NaN,
                    y: Number.NaN
                };
                return this.valid() && (t.x = (this.min.x + this.max.x) / 2, t.y = (this.min.y + this.max.y) / 2), 
                t;
            }
        }, {
            key: "size",
            get: function() {
                var t = {
                    x: Number.NaN,
                    y: Number.NaN
                };
                return this.valid() && (t.x = this.max.x - this.min.x, t.y = this.max.y - this.min.y), 
                t;
            }
        }, {
            key: "copy",
            value: function(t) {
                return this.Xt.x = t.max.x, this.Xt.y = t.max.y, this.zt.x = t.min.x, this.zt.y = t.min.y, 
                this;
            }
        }, {
            key: "clone",
            value: function() {
                return new t().copy(this);
            }
        }, {
            key: "reset",
            value: function() {
                this.zt = {
                    x: Number.MAX_VALUE,
                    y: Number.MAX_VALUE
                }, this.Xt = {
                    x: -Number.MAX_VALUE,
                    y: -Number.MAX_VALUE
                };
            }
        }, {
            key: "toObject",
            value: function() {
                return {
                    min: this.min,
                    max: this.max,
                    center: this.center,
                    size: this.size
                };
            }
        }, {
            key: "expand",
            value: function(t) {
                this.Ht(t);
            }
        }, {
            key: "expandByCoords",
            value: function(t) {
                this.Qt(t);
            }
        }, {
            key: "valid",
            value: function() {
                return this.Kt();
            }
        }, {
            key: "isCross",
            value: function(t) {
                var e = !0;
                return t.max.x < this.min.x && (e = !1), t.min.x > this.max.x && (e = !1), t.max.y < this.min.y && (e = !1), 
                !(t.min.y > this.max.y) && e;
            }
        } ]) && dt(e.prototype, n), Object.defineProperty(e, "prototype", {
            writable: !1
        }), t;
    }();
    var vt = (Object.assign(p.prototype, {
        Kt: function() {
            return !(this.min.x > this.max.x || this.min.y > this.max.y);
        },
        Ht: function(t) {
            t && t.valid() && (t.min.x < this.min.x && (this.min.x = t.min.x), t.min.y < this.min.y && (this.min.y = t.min.y), 
            t.max.x > this.max.x && (this.max.x = t.max.x), t.max.y > this.max.y) && (this.max.y = t.max.y);
        },
        Qt: function(t) {
            var e = this;
            t && 0 != t.length && t.forEach(function(t) {
                t.x < e.min.x && (e.min.x = t.x), t.y < e.min.y && (e.min.y = t.y), t.x > e.max.x && (e.max.x = t.x), 
                t.y > e.max.y && (e.max.y = t.y);
            });
        }
    }), p);
    function bt(t) {
        return (bt = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function gt(t, e) {
        return (gt = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t, e) {
            return t.__proto__ = e, t;
        })(t, e);
    }
    function mt(t) {
        return (mt = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t);
        })(t);
    }
    p = function() {
        var t = r, e = y;
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
        t.prototype = Object.create(e && e.prototype, {
            constructor: {
                value: t,
                writable: !0,
                configurable: !0
            }
        }), Object.defineProperty(t, "prototype", {
            writable: !1
        }), e && gt(t, e);
        var n = function(t) {
            var e = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                if (Reflect.construct.sham) return !1;
                if ("function" == typeof Proxy) return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), 
                    !0;
                } catch (t) {
                    return !1;
                }
            }();
            return function() {
                var n, r = mt(t);
                n = e ? (n = mt(this).constructor, Reflect.construct(r, arguments, n)) : r.apply(this, arguments), 
                r = this;
                if (n && ("object" === bt(n) || "function" == typeof n)) return n;
                if (void 0 !== n) throw new TypeError("Derived constructors may only return object or undefined");
                if (void 0 !== r) return r;
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            };
        }(r);
        function r(t, e) {
            if (this instanceof r) return (t = n.call(this, t, e)).Jt = new vt(), t.$t = null, 
            t;
            throw new TypeError("Cannot call a class as a function");
        }
        return t = r, Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }();
    var Ot = (Object.assign(p.prototype, {
        C: function(t) {
            return t.getType() != C.MODEL ? this.ti(t) : this.ii(t);
        },
        ii: function(t) {
            return !0;
        },
        ni: function(t) {
            return t = t.getBound(), !!pt.rt(this.Jt.zt, this.Jt.Xt, t.min, t.max);
        },
        B: function(t, e) {
            var n = t.getCoordinates();
            if (t.getType() !== C.MODEL) e.lt = Math.sqrt(pt.ct(n[0], this.ri)); else {
                for (var r = Number.MAX_VALUE, i = 0, o = n.length; i < o; i++) for (var s = 1, a = n[i].length; s < a; s++) {
                    var u = n[i][s - 1], l = n[i][s];
                    (u = pt.vt(this.ri, u, l)) < r && (r = u);
                }
                e.lt = Math.sqrt(r);
            }
        },
        ti: function(t) {
            return t = t.getCoordinates()[0], !!pt.ot(t, this.Jt.zt, this.Jt.Xt) && ("circle" === this.$t ? pt.ct(t, this.ri) < this.ei : pt.ft(t, this.oi, this.oi.length - 1));
        }
    }), p);
    function xt(t) {
        return (xt = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function Et(t, e) {
        return (Et = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t, e) {
            return t.__proto__ = e, t;
        })(t, e);
    }
    function _t(t) {
        return (_t = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t);
        })(t);
    }
    p = function() {
        var t = r, e = Ot;
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
        t.prototype = Object.create(e && e.prototype, {
            constructor: {
                value: t,
                writable: !0,
                configurable: !0
            }
        }), Object.defineProperty(t, "prototype", {
            writable: !1
        }), e && Et(t, e);
        var n = function(t) {
            var e = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                if (Reflect.construct.sham) return !1;
                if ("function" == typeof Proxy) return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), 
                    !0;
                } catch (t) {
                    return !1;
                }
            }();
            return function() {
                var n, r = _t(t);
                n = e ? (n = _t(this).constructor, Reflect.construct(r, arguments, n)) : r.apply(this, arguments), 
                r = this;
                if (n && ("object" === xt(n) || "function" == typeof n)) return n;
                if (void 0 !== n) throw new TypeError("Derived constructors may only return object or undefined");
                if (void 0 !== r) return r;
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            };
        }(r);
        function r(t, e) {
            if (this instanceof r) return (t = n.call(this, t, e)).$t = "circle", t.ri = t.G.center, 
            t.si = t.G.radius, t.ei = t.G.radius * t.G.radius, t.Jt.Qt([ {
                x: t.ri.x - t.si,
                y: t.ri.y - t.si
            }, {
                x: t.ri.x + t.si,
                y: t.ri.y + t.si
            } ]), t;
            throw new TypeError("Cannot call a class as a function");
        }
        return t = r, Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }();
    var Tt = (Object.assign(p.prototype, {
        ii: function(t) {
            if (this.ni(t)) for (var e = t.getCoordinates(), n = 0, r = e.length; n < r; n++) for (var i = 1, o = e[n].length; i < o; i++) {
                var s = e[n][i];
                if (pt.ct(s, this.ri) < this.ei) return !0;
                var a = e[n][i - 1];
                if (1 == i && pt.ct(a, this.ri) < this.ei) return !0;
                if (pt.vt(this.ri, a, s) < this.ei) return !0;
            }
            return !1;
        }
    }), p);
    function wt(t) {
        return (wt = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function St(t, e) {
        return (St = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t, e) {
            return t.__proto__ = e, t;
        })(t, e);
    }
    function Rt(t) {
        return (Rt = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t);
        })(t);
    }
    p = function() {
        var t = r, e = Ot;
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
        t.prototype = Object.create(e && e.prototype, {
            constructor: {
                value: t,
                writable: !0,
                configurable: !0
            }
        }), Object.defineProperty(t, "prototype", {
            writable: !1
        }), e && St(t, e);
        var n = function(t) {
            var e = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                if (Reflect.construct.sham) return !1;
                if ("function" == typeof Proxy) return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), 
                    !0;
                } catch (t) {
                    return !1;
                }
            }();
            return function() {
                var n, r = Rt(t);
                n = e ? (n = Rt(this).constructor, Reflect.construct(r, arguments, n)) : r.apply(this, arguments), 
                r = this;
                if (n && ("object" === wt(n) || "function" == typeof n)) return n;
                if (void 0 !== n) throw new TypeError("Derived constructors may only return object or undefined");
                if (void 0 !== r) return r;
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            };
        }(r);
        function r(t, e) {
            if (this instanceof r) return (t = n.call(this, t, e)).$t = "polygon", t.oi = t.G, 
            t.ui = t.oi.length - 1, t.ri = pt.bt(t.oi), t.Jt.Qt(t.oi), t;
            throw new TypeError("Cannot call a class as a function");
        }
        return t = r, Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }();
    var jt = (Object.assign(p.prototype, {
        ii: function(t) {
            if (this.ni(t)) {
                for (var e = t.getCoordinates(), n = 0, r = e.length; n < r; n++) for (var i = 0, o = e[n].length - 1; i < o; i++) if (pt.ft(e[n][i], this.oi, this.oi.length)) return !0;
                for (var s = 0; s < this.ui; s++) {
                    for (var a = !1, u = 0, l = e.length; u < l; u++) pt.ft(this.oi[s], e[u], e[u].length - 1) && (a = 0 == u);
                    if (a) return !0;
                }
                for (var h = 0; h <= this.ui; h++) for (var f = null, c = h === this.ui ? (f = this.oi[0], 
                this.oi[h]) : (f = this.oi[h], this.oi[h + 1]), p = 0, y = e.length; p < y; p++) for (var d = 0, v = e[p].length - 1; d < v; d++) {
                    var b = e[p][d], g = e[p][d + 1];
                    if (pt.et(f, c, b, g)) return !0;
                }
            }
            return !1;
        }
    }), p);
    function At(t) {
        return (At = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function Lt(t, e) {
        return (Lt = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t, e) {
            return t.__proto__ = e, t;
        })(t, e);
    }
    function Nt(t) {
        return (Nt = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t);
        })(t);
    }
    p = function() {
        var t = r, e = y;
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
        t.prototype = Object.create(e && e.prototype, {
            constructor: {
                value: t,
                writable: !0,
                configurable: !0
            }
        }), Object.defineProperty(t, "prototype", {
            writable: !1
        }), e && Lt(t, e);
        var n = function(t) {
            var e = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                if (Reflect.construct.sham) return !1;
                if ("function" == typeof Proxy) return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), 
                    !0;
                } catch (t) {
                    return !1;
                }
            }();
            return function() {
                var n, r = Nt(t);
                n = e ? (n = Nt(this).constructor, Reflect.construct(r, arguments, n)) : r.apply(this, arguments), 
                r = this;
                if (n && ("object" === At(n) || "function" == typeof n)) return n;
                if (void 0 !== n) throw new TypeError("Derived constructors may only return object or undefined");
                if (void 0 !== r) return r;
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            };
        }(r);
        function r(t, e) {
            if (this instanceof r) return n.call(this, t, e);
            throw new TypeError("Cannot call a class as a function");
        }
        return t = r, Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }();
    var It = (Object.assign(p.prototype, {
        C: function(t) {
            return !1;
        }
    }), p);
    function Pt(t) {
        return (Pt = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function Dt(t, e) {
        return (Dt = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t, e) {
            return t.__proto__ = e, t;
        })(t, e);
    }
    function kt(t) {
        return (kt = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t);
        })(t);
    }
    p = function() {
        var t = r, e = y;
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
        t.prototype = Object.create(e && e.prototype, {
            constructor: {
                value: t,
                writable: !0,
                configurable: !0
            }
        }), Object.defineProperty(t, "prototype", {
            writable: !1
        }), e && Dt(t, e);
        var n = function(t) {
            var e = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                if (Reflect.construct.sham) return !1;
                if ("function" == typeof Proxy) return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), 
                    !0;
                } catch (t) {
                    return !1;
                }
            }();
            return function() {
                var n, r = kt(t);
                n = e ? (n = kt(this).constructor, Reflect.construct(r, arguments, n)) : r.apply(this, arguments), 
                r = this;
                if (n && ("object" === Pt(n) || "function" == typeof n)) return n;
                if (void 0 !== n) throw new TypeError("Derived constructors may only return object or undefined");
                if (void 0 !== r) return r;
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            };
        }(r);
        function r(t, e) {
            if (this instanceof r) return (t = n.call(this, t, e)).ai = t.G.point, t;
            throw new TypeError("Cannot call a class as a function");
        }
        return t = r, Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }();
    var Mt = (Object.assign(p.prototype, {
        C: function(t) {
            return t.getType() == C.MODEL && this.ii(t);
        },
        ii: function(t) {
            var e = t.getBound();
            if (!pt.ot(this.ai, e.min, e.max)) return !1;
            for (var n = t.getCoordinates(), r = 0, i = 0, o = n.length; i < o && (pt.ft(this.ai, n[i], n[i].length - 1) && r++, 
            !(1 < r)); i++) ;
            return 1 == r;
        }
    }), p);
    function Wt(t) {
        return (Wt = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function Ut(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== Wt(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== Wt(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === Wt(t) ? t : String(t);
            }(r.key), r);
        }
    }
    var Ct = new (function() {
        function t() {
            if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
        }
        var e, n;
        return e = t, (n = [ {
            key: "create",
            value: function(t) {
                if (!t || "object" != Wt(t)) return null;
                var e, n = [];
                for (e in t) switch (e) {
                  case "FID":
                    n.push(new g(e, t[e]));
                    break;

                  case "name":
                    n.push(new S(e, t[e]));
                    break;

                  case "ename":
                    n.push(new L(e, t[e]));
                    break;

                  case "keyword":
                    n.push(new U(e, t[e]));
                    break;

                  case "typeID":
                    n.push(new D(e, t[e]));
                    break;

                  case "circle":
                    n.push(new Tt(e, t[e]));
                    break;

                  case "polygon":
                    n.push(new jt(e, t[e]));
                    break;

                  case "buffer":
                    n.push(new It(e, t[e]));
                    break;

                  case "contain":
                    n.push(new Mt(e, t[e]));
                }
                return n;
            }
        } ]) && Ut(e.prototype, n), Object.defineProperty(e, "prototype", {
            writable: !1
        }), t;
    }())();
    function Vt(t) {
        return (Vt = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function Ft(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r;
    }
    function Yt(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== Vt(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== Vt(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === Vt(t) ? t : String(t);
            }(r.key), r);
        }
    }
    p = function() {
        function t() {
            if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
            this.fi = null, this.li = i.MODEL, this.ci = null, this.vi = [], this.yi = [], this.di = !1, 
            this.bi = null;
        }
        var e, n;
        return e = t, (n = [ {
            key: "levels",
            get: function() {
                return this.fi;
            },
            set: function(t) {
                this.fi = t;
            }
        }, {
            key: "type",
            get: function() {
                return this.li;
            },
            set: function(t) {
                this.li = t;
            }
        }, {
            key: "addCondition",
            value: function(t) {
                var e, n = Ct.create(t);
                (e = this.yi).push.apply(e, function(t) {
                    return function(t) {
                        if (Array.isArray(t)) return Ft(t);
                    }(t) || function(t) {
                        if ("undefined" != typeof Symbol && null != t[Symbol.iterator] || null != t["@@iterator"]) return Array.from(t);
                    }(t) || function(t, e) {
                        var n;
                        if (t) return "string" == typeof t ? Ft(t, e) : "Map" === (n = "Object" === (n = Object.prototype.toString.call(t).slice(8, -1)) && t.constructor ? t.constructor.name : n) || "Set" === n ? Array.from(t) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Ft(t, e) : void 0;
                    }(t) || function() {
                        throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
                    }();
                }(n)), this.vi.push(t);
            }
        }, {
            key: "onlyInBuilding",
            get: function() {
                return this.di;
            },
            set: function(t) {
                this.di = t;
            }
        }, {
            key: "buildings",
            get: function() {
                return this.bi;
            },
            set: function(t) {
                this.bi = t;
            }
        }, {
            key: "buildingID",
            get: function() {
                return this.ci;
            },
            set: function(t) {
                this.ci = t;
            }
        } ]) && Yt(e.prototype, n), Object.defineProperty(e, "prototype", {
            writable: !1
        }), t;
    }();
    var Gt = n(5), qt = 0, Bt = 2, zt = 4, Xt = 8, Zt = 404, Ht = 64, Jt = n(2), Kt = n(0);
    function Qt(t) {
        return (Qt = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function $t(t, e) {
        var n, r = Object.keys(t);
        return Object.getOwnPropertySymbols && (n = Object.getOwnPropertySymbols(t), e && (n = n.filter(function(e) {
            return Object.getOwnPropertyDescriptor(t, e).enumerable;
        })), r.push.apply(r, n)), r;
    }
    function te(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, ee(r.key), r);
        }
    }
    function ee(t) {
        return t = function(t, e) {
            if ("object" !== Qt(t) || null === t) return t;
            var n = t[Symbol.toPrimitive];
            if (void 0 === n) return String(t);
            if ("object" !== Qt(n = n.call(t, e))) return n;
            throw new TypeError("@@toPrimitive must return a primitive value.");
        }(t, "string"), "symbol" === Qt(t) ? t : String(t);
    }
    var ne = function(t, e, n) {
        return e && te(t.prototype, e), n && te(t, n), Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }(function t(e) {
        if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
        this.pi = function(t) {
            for (var e = 1; e < arguments.length; e++) {
                var n = null != arguments[e] ? arguments[e] : {};
                e % 2 ? $t(Object(n), !0).forEach(function(e) {
                    var r, i;
                    r = t, i = n[e = e], (e = ee(e)) in r ? Object.defineProperty(r, e, {
                        value: i,
                        enumerable: !0,
                        configurable: !0,
                        writable: !0
                    }) : r[e] = i;
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : $t(Object(n)).forEach(function(e) {
                    Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e));
                });
            }
            return t;
        }({
            data: null,
            method: "GET",
            responseType: "json"
        }, e), this.mi = null;
    }), re = (Object.assign(ne.prototype, {
        wi: function(t, e, n) {
            var r = this.pi, i = r.data, o = r.method, s = r.url, a = r.responseType, u = r.header, l = null;
            if ((l = new (Kt.a.environment === Jt.a.WX ? Kt.a.XMLHttpRequest : "undefined" != typeof XMLHttpRequest ? XMLHttpRequest : Gt.a.global().fengmap.XMLHttpRequest)()).responseType = a, 
            l.open(o, s), "object" == Qt(u)) for (var h in u) l.setRequestHeader(h, u[h]);
            l.addEventListener("load", function() {
                200 === l.status || 0 === l.status || 201 === l.status ? t && t(l.response) : e && (404 === l.status ? e(Zt) : 2069 === l.response.error_code ? e(qt) : 2063 === l.response.error_code ? e(Bt) : 400 === l.response.error_code ? e(zt) : e(l.response));
            }), l.addEventListener("timeout", function(t) {
                n && n(t);
            }), l.addEventListener("error", function(t) {
                e && e(t);
            }), l.send(JSON.stringify(i)), this.mi = l;
        },
        gi: function() {
            this.mi && this.mi.abort && (this.mi.abort(), this.mi = null);
        }
    }), ne), ie = (ne = n(29), n.n(ne));
    function oe(t) {
        return (oe = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function se(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== oe(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== oe(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === oe(t) ? t : String(t);
            }(r.key), r);
        }
    }
    for (var ae = n = [ "TmF2aVNlZ21lbg==", "YWNjZXNzaWJsZQ==", "Zmlk", "bmZv", "Rmxvb3JHZW8=", "bGlmdFR5cGU=", "bGVu", "dmVs", "ZXh0ZW50TGF5ZQ==", "RXh0ZW50Qml6SQ==", "cmVhZE9ubHk=", "LnByb3RvYnVm", "aW50MzI=", "ZG9vcnR5cGU=", "R0VPUE9JTlRfTQ==", "TmF2aVpvbmU=", "ZW50cmFuY2VGbA==", "bGVuZ3Ro", "ZWxCaXpJbmZv", "c3RhaXJMYXllcg==", "dG9CaWQ=", "R2F0ZQ==", "b2Zmc2V0WQ==", "Zmlkcw==", "aXNTZWxlY3RhYg==", "ZmxhZw==", "ZXh0ZXJuYWxNbw==", "bGlmdEVudHJ5", "VklTRUdNRU5U", "SW5kZXhJbmZv", "ZGF0YQ==", "ZGVsQml6SW5mbw==", "bWlk", "cG9pTGF5ZXI=", "bW9kZWxpZA==", "cGFja2Vk", "dGhyb3VnaA==", "bmF2aVNlZ21lbg==", "bGlmdExheWVy", "cmVwZWF0ZWQ=", "ZGVmQ2VuWQ==", "b29y", "bm9kZUlk", "TmF2aU1vZGVs", "cmFuaw==", "c25vZGU=", "cHRz", "ZGVmR2lk", "aGFzaENvZGU=", "bmVzdGVk", "Ymlk", "cmVxdWlyZWQ=", "R0VPTElORV9OQQ==", "b2Zmc2V0WA==", "TmF2aU5vZGU=", "bHR5cGU=", "T1ZFUkxBWURBVA==", "ZGVmQ2VuWA==", "b3B0aW9ucw==", "YmFzZUxldmVs", "YXJlYQ==", "TGF5ZXJHcm91cA==", "ZmllbGRz", "cGFzcw==", "Zmxvb3Jz", "SUZU", "Rmxvb3JOYXZp", "amF2YV9vdXRlcg==", "UG9seWdvbkxhYg==", "ZW50cmFuY2VUeQ==", "VHlwZQ==", "bmF2aVpvbmVz", "ZWxMYXllcg==", "YWxpYXM=", "d2lkdGg=", "YXllcg==", "ZW50cnl0eXBlcw==", "TGlmdEJpekluZg==", "bm9kZXR5cGVz", "amF2YV9wYWNrYQ==", "bmF2aVR5cGU=", "ZGF0ZVZlcg==", "bGlmdEZsYWc=", "Z2lk", "bWF4WA==", "bW5hbWU=", "bWluU2NhbGVMZQ==", "Zmxvb3JJZA==", "X2NsYXNzbmFtZQ==", "TW9kZWxCaXpJbg==", "Zmxvb3I=", "bmFtZQ==", "c2NhbGVMZXZlbA==", "RXh0ZXJuYWxNbw==", "cGdpZA==", "ZmlsZVZlcg==", "VEFJUg==", "bWlubGV2ZWw=", "Rmxvb3JDb25maQ==", "R2VuZXJhbEdlbw==", "ZHJpdmU=", "Ym9vbA==", "a2V5", "R0VPUE9MWUdPTg==", "dG9HaWQ=", "ZGVmQ2VuWg==", "YnR5cGU=", "R0VPUE9JTlRfUw==", "cC5wbGF0Zm9ybQ==", "TmF2aUZsb29y", "ZmxvYXQ=", "bmF2aUV4dGVudA==", "UE9JQml6SW5mbw==", "TGFiZWxCaXpJbg==", "TGF5ZXI=", "cnVsZQ==", "bGlk", "Y29tLmZlbmdtYQ==", "c2NhbGU=", "c2VnbWVudElk", "ZGVzYw==", "ZGVsTGF5ZXI=", "R0VPUE9JTlRfUA==", "cm90YXRlQW5nbA==", "X0xBQkVM", "cG9seWdvbkxheQ==", "ZmlsZURhdGU=", "R0VPUE9JTlRfTA==", "U3RhaXJCaXpJbg==", "ZXNjYWxhdG9yTA==", "bGlua1NlZw==", "QnVmZmVy", "TmF2aUV4dGVudA==", "Z2Vv", "R0VPTElORQ==", "bmF2aU5vZGVz", "cmVqZWN0cw==", "UG9seWdvbkJpeg==", "aXNWaXNpYmxl", "b25zaGlw", "YnVmZmVycw==", "bWF4bGV2ZWw=", "ZG91Ymxl", "R0VPUE9JTlRfRQ==", "bmF2aQ==", "Rmxvb3JCaXo=", "Z1Byb3RvQnVm", "T0RFTA==", "ZW5hbWU=", "bW9kZWxMYXllcg==", "a2V5cw==", "ZWlk", "bGF5ZXJz", "QU5PUkFNQQ==", "UkRFUg==", "R0VPUE9JTlQ=", "QnVpbGRpbmc=", "bWluWA==", "TWFw", "aGVpZ2h0", "c3RyaW5n", "dHlwZQ==", "ZGVmYXVsdA==", "cG9seWdvbkxhYg==", "TmF2aVJlbGF0aQ==", "dWludDY0", "aWR4cw==", "SW5mbw==", "X0VYVEVOVA==" ], ue = 218; --ue; ) ae.push(ae.shift());
    var le = function(t, e, n) {
        return e && se(t.prototype, e), n && se(t, n), Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }(function t() {
        if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
        this.id = {
            nested: {
                protobuf: {
                    options: {
                        java_package: "com.fengmap.platform.protobuf",
                        java_outer_classname: "FloorConfigProtoBuf"
                    },
                    nested: {
                        Map: {
                            fields: {
                                mid: {
                                    rule: "required",
                                    type: "string",
                                    id: 1
                                },
                                fileVer: {
                                    rule: "required",
                                    type: "int32",
                                    id: 2
                                },
                                dateVer: {
                                    rule: "required",
                                    type: "uint64",
                                    id: 3
                                },
                                mname: {
                                    rule: "required",
                                    type: "string",
                                    id: 4
                                },
                                hashCode: {
                                    rule: "required",
                                    type: "string",
                                    id: 5
                                },
                                key: {
                                    type: "string",
                                    id: 6
                                },
                                fileDate: {
                                    type: "string",
                                    id: 7
                                },
                                desc: {
                                    type: "string",
                                    id: 8
                                },
                                readOnly: {
                                    type: "bool",
                                    id: 9,
                                    options: {
                                        default: !1
                                    }
                                },
                                buffers: {
                                    rule: "repeated",
                                    type: "Buffer",
                                    id: 10
                                },
                                keys: {
                                    rule: "repeated",
                                    type: "string",
                                    id: 11
                                }
                            },
                            nested: {
                                Buffer: {
                                    fields: {
                                        gid: {
                                            rule: "required",
                                            type: "int32",
                                            id: 1
                                        },
                                        fileVer: {
                                            rule: "required",
                                            type: "int32",
                                            id: 2
                                        },
                                        btype: {
                                            rule: "required",
                                            type: "int32",
                                            id: 3
                                        },
                                        len: {
                                            rule: "required",
                                            type: "uint64",
                                            id: 4
                                        },
                                        data: {
                                            rule: "required",
                                            type: "bytes",
                                            id: 5
                                        }
                                    }
                                }
                            }
                        },
                        Scene: {
                            fields: {
                                mid: {
                                    rule: "required",
                                    type: "string",
                                    id: 19
                                },
                                fileVer: {
                                    rule: "required",
                                    type: "int32",
                                    id: 20
                                },
                                dateVer: {
                                    rule: "required",
                                    type: "uint64",
                                    id: 21
                                },
                                mname: {
                                    rule: "required",
                                    type: "string",
                                    id: 22
                                },
                                hashCode: {
                                    rule: "required",
                                    type: "string",
                                    id: 23
                                },
                                key: {
                                    type: "string",
                                    id: 24
                                },
                                desc: {
                                    type: "string",
                                    id: 25
                                },
                                readOnly: {
                                    type: "bool",
                                    id: 26,
                                    options: {
                                        default: !1
                                    }
                                },
                                x: {
                                    type: "float",
                                    id: 1
                                },
                                y: {
                                    type: "float",
                                    id: 2
                                },
                                z: {
                                    type: "float",
                                    id: 3
                                },
                                minX: {
                                    type: "float",
                                    id: 4
                                },
                                minY: {
                                    type: "float",
                                    id: 5
                                },
                                maxX: {
                                    type: "float",
                                    id: 6
                                },
                                maxY: {
                                    type: "float",
                                    id: 7
                                },
                                defGid: {
                                    type: "string",
                                    id: 8
                                },
                                defCenX: {
                                    type: "float",
                                    id: 9
                                },
                                defCenY: {
                                    type: "float",
                                    id: 10
                                },
                                defCenZ: {
                                    type: "float",
                                    id: 11
                                },
                                height: {
                                    type: "float",
                                    id: 12
                                },
                                rotateAngleX: {
                                    type: "float",
                                    id: 13
                                },
                                rotateAngleY: {
                                    type: "float",
                                    id: 14
                                },
                                rotateAngleZ: {
                                    type: "float",
                                    id: 15
                                },
                                scale: {
                                    type: "float",
                                    id: 16
                                },
                                scaleLevel: {
                                    type: "string",
                                    id: 17
                                },
                                naviType: {
                                    type: "int32",
                                    id: 28
                                },
                                layerGroups: {
                                    rule: "repeated",
                                    type: "LayerGroup",
                                    id: 18
                                },
                                buildings: {
                                    rule: "repeated",
                                    type: "Building",
                                    id: 27
                                }
                            },
                            nested: {
                                Layer: {
                                    fields: {
                                        lid: {
                                            type: "int32",
                                            id: 1
                                        },
                                        lname: {
                                            type: "string",
                                            id: 2
                                        },
                                        alias: {
                                            type: "string",
                                            id: 3
                                        },
                                        ltype: {
                                            type: "Type",
                                            id: 4
                                        },
                                        offsetX: {
                                            type: "float",
                                            id: 5
                                        },
                                        offsetY: {
                                            type: "float",
                                            id: 6
                                        },
                                        height: {
                                            type: "float",
                                            id: 7
                                        },
                                        rotateAngleX: {
                                            type: "float",
                                            id: 8
                                        },
                                        rotateAngleY: {
                                            type: "float",
                                            id: 9
                                        },
                                        rotateAngleZ: {
                                            type: "float",
                                            id: 10
                                        },
                                        minScaleLevel: {
                                            type: "float",
                                            id: 11
                                        },
                                        maxScaleLevel: {
                                            type: "float",
                                            id: 12
                                        },
                                        isVisible: {
                                            type: "bool",
                                            id: 13
                                        },
                                        isSelectable: {
                                            type: "bool",
                                            id: 14
                                        },
                                        isEditable: {
                                            type: "bool",
                                            id: 15
                                        },
                                        desc: {
                                            type: "string",
                                            id: 16
                                        }
                                    },
                                    nested: {
                                        Type: {
                                            values: {
                                                GEOPOINT: 1,
                                                GEOPOINT_ESCALATOR: 2,
                                                GEOPOINT_LIFT: 3,
                                                GEOPOINT_STAIR: 4,
                                                GEOPOINT_PANORAMA: 5,
                                                GEOPOINT_POI: 6,
                                                GEOPOINT_STORELABEL: 7,
                                                GEOPOINT_NAVINODE: 8,
                                                GEOPOINT_MODEL: 9,
                                                GEOLINE: 20,
                                                GEOLINE_NAVISEGMENT: 21,
                                                GEOLINE_BORDER: 22,
                                                GEOPOLYGON: 30,
                                                GEOPOLYGON_EXTENT: 31,
                                                GEOPOLYGON_STORE: 32,
                                                GEOPOLYGON_LABEL: 33,
                                                RASTERATA: 40,
                                                OVERLAYDATA: 50
                                            }
                                        }
                                    }
                                },
                                LayerGroup: {
                                    fields: {
                                        gid: {
                                            type: "int32",
                                            id: 1
                                        },
                                        gname: {
                                            type: "string",
                                            id: 2
                                        },
                                        alias: {
                                            type: "string",
                                            id: 3
                                        },
                                        height: {
                                            type: "float",
                                            id: 4
                                        },
                                        desc: {
                                            type: "string",
                                            id: 5
                                        },
                                        layers: {
                                            rule: "repeated",
                                            type: "Layer",
                                            id: 6
                                        },
                                        floorId: {
                                            type: "string",
                                            id: 7
                                        },
                                        naviType: {
                                            type: "int32",
                                            id: 8
                                        }
                                    }
                                },
                                Floor: {
                                    fields: {
                                        gid: {
                                            type: "int32",
                                            id: 1
                                        },
                                        x: {
                                            type: "float",
                                            id: 2
                                        },
                                        y: {
                                            type: "float",
                                            id: 3
                                        },
                                        offsetX: {
                                            type: "float",
                                            id: 4
                                        },
                                        offsetY: {
                                            type: "float",
                                            id: 5
                                        },
                                        angle: {
                                            type: "float",
                                            id: 6
                                        },
                                        scale: {
                                            type: "float",
                                            id: 7
                                        },
                                        fids: {
                                            rule: "repeated",
                                            type: "string",
                                            id: 8
                                        },
                                        pgid: {
                                            type: "int32",
                                            id: 9
                                        },
                                        baseLevel: {
                                            type: "bool",
                                            id: 10
                                        },
                                        minlevel: {
                                            type: "int32",
                                            id: 11
                                        },
                                        maxlevel: {
                                            type: "int32",
                                            id: 12
                                        },
                                        floorId: {
                                            type: "string",
                                            id: 13
                                        },
                                        idxs: {
                                            rule: "repeated",
                                            type: "IndexInfo",
                                            id: 14
                                        },
                                        pts: {
                                            rule: "repeated",
                                            type: "double",
                                            id: 15,
                                            options: {
                                                packed: !1
                                            }
                                        }
                                    },
                                    nested: {
                                        IndexInfo: {
                                            fields: {
                                                idxs: {
                                                    rule: "repeated",
                                                    type: "int32",
                                                    id: 1,
                                                    options: {
                                                        packed: !1
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                Building: {
                                    fields: {
                                        bid: {
                                            type: "string",
                                            id: 1
                                        },
                                        name: {
                                            type: "string",
                                            id: 2
                                        },
                                        ename: {
                                            type: "string",
                                            id: 3
                                        },
                                        alias: {
                                            type: "string",
                                            id: 4
                                        },
                                        x: {
                                            type: "float",
                                            id: 5
                                        },
                                        y: {
                                            type: "float",
                                            id: 6
                                        },
                                        mid: {
                                            type: "string",
                                            id: 7
                                        },
                                        version: {
                                            type: "int32",
                                            id: 8
                                        },
                                        floors: {
                                            rule: "repeated",
                                            type: "Floor",
                                            id: 9
                                        },
                                        bcode: {
                                            type: "int32",
                                            id: 10
                                        }
                                    }
                                }
                            }
                        },
                        Gate: {
                            fields: {
                                mid: {
                                    rule: "required",
                                    type: "string",
                                    id: 1
                                },
                                floors: {
                                    rule: "repeated",
                                    type: "NaviFloor",
                                    id: 2
                                }
                            },
                            nested: {
                                NaviFloor: {
                                    fields: {
                                        gid: {
                                            type: "int32",
                                            id: 1
                                        },
                                        floorId: {
                                            type: "string",
                                            id: 2
                                        },
                                        bid: {
                                            type: "string",
                                            id: 3
                                        },
                                        mid: {
                                            type: "string",
                                            id: 4
                                        },
                                        navi: {
                                            rule: "repeated",
                                            type: "NaviRelationship",
                                            id: 5
                                        },
                                        drive: {
                                            rule: "repeated",
                                            type: "NaviRelationship",
                                            id: 6
                                        },
                                        accessible: {
                                            rule: "repeated",
                                            type: "NaviRelationship",
                                            id: 7
                                        }
                                    }
                                },
                                NaviRelationship: {
                                    fields: {
                                        eid: {
                                            rule: "required",
                                            type: "int32",
                                            id: 1
                                        },
                                        type: {
                                            type: "int32",
                                            id: 2
                                        },
                                        accessible: {
                                            type: "int32",
                                            id: 3
                                        },
                                        idxs: {
                                            rule: "repeated",
                                            type: "IndexInfo",
                                            id: 4
                                        },
                                        pts: {
                                            rule: "repeated",
                                            type: "double",
                                            id: 5,
                                            options: {
                                                packed: !1
                                            }
                                        },
                                        flag: {
                                            type: "int32",
                                            id: 6
                                        },
                                        toBid: {
                                            rule: "repeated",
                                            type: "string",
                                            id: 7
                                        },
                                        toGid: {
                                            rule: "repeated",
                                            type: "string",
                                            id: 8
                                        }
                                    },
                                    nested: {
                                        IndexInfo: {
                                            fields: {
                                                idxs: {
                                                    rule: "repeated",
                                                    type: "int32",
                                                    id: 1,
                                                    options: {
                                                        packed: !1
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        },
                        FloorGeo: {
                            fields: {
                                mid: {
                                    rule: "required",
                                    type: "string",
                                    id: 1
                                },
                                gid: {
                                    rule: "required",
                                    type: "int32",
                                    id: 2
                                },
                                height: {
                                    type: "float",
                                    id: 3
                                },
                                extentLayer: {
                                    rule: "repeated",
                                    type: "GeneralGeoInfo",
                                    id: 4
                                },
                                modelLayer: {
                                    rule: "repeated",
                                    type: "GeneralGeoInfo",
                                    id: 5
                                },
                                labelLayer: {
                                    rule: "repeated",
                                    type: "GeneralGeoInfo",
                                    id: 6
                                },
                                poiLayer: {
                                    rule: "repeated",
                                    type: "GeneralGeoInfo",
                                    id: 7
                                },
                                polygonLayer: {
                                    rule: "repeated",
                                    type: "GeneralGeoInfo",
                                    id: 8
                                },
                                polygonLabelLayer: {
                                    rule: "repeated",
                                    type: "GeneralGeoInfo",
                                    id: 9
                                },
                                liftLayer: {
                                    rule: "repeated",
                                    type: "GeneralGeoInfo",
                                    id: 10
                                },
                                stairLayer: {
                                    rule: "repeated",
                                    type: "GeneralGeoInfo",
                                    id: 11
                                },
                                escalatorLayer: {
                                    rule: "repeated",
                                    type: "GeneralGeoInfo",
                                    id: 12
                                },
                                externalModelLayer: {
                                    rule: "repeated",
                                    type: "GeneralGeoInfo",
                                    id: 13
                                }
                            },
                            nested: {
                                GeneralGeoInfo: {
                                    fields: {
                                        eid: {
                                            rule: "required",
                                            type: "int32",
                                            id: 1
                                        },
                                        geo: {
                                            type: "string",
                                            id: 2
                                        },
                                        height: {
                                            type: "float",
                                            id: 3
                                        },
                                        area: {
                                            type: "float",
                                            id: 4
                                        },
                                        idxs: {
                                            rule: "repeated",
                                            type: "IndexInfo",
                                            id: 5
                                        },
                                        pts: {
                                            rule: "repeated",
                                            type: "double",
                                            id: 6,
                                            options: {
                                                packed: !1
                                            }
                                        },
                                        baseheight: {
                                            type: "float",
                                            id: 7
                                        }
                                    },
                                    nested: {
                                        IndexInfo: {
                                            fields: {
                                                idxs: {
                                                    rule: "repeated",
                                                    type: "int32",
                                                    id: 1,
                                                    options: {
                                                        packed: !1
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        },
                        FloorBiz: {
                            fields: {
                                mid: {
                                    rule: "required",
                                    type: "string",
                                    id: 1
                                },
                                gid: {
                                    rule: "required",
                                    type: "int32",
                                    id: 2
                                },
                                extentLayer: {
                                    rule: "repeated",
                                    type: "ExtentBizInfo",
                                    id: 3
                                },
                                modelLayer: {
                                    rule: "repeated",
                                    type: "ModelBizInfo",
                                    id: 4
                                },
                                labelLayer: {
                                    rule: "repeated",
                                    type: "LabelBizInfo",
                                    id: 5
                                },
                                poiLayer: {
                                    rule: "repeated",
                                    type: "POIBizInfo",
                                    id: 6
                                },
                                polygonLayer: {
                                    rule: "repeated",
                                    type: "PolygonBizInfo",
                                    id: 7
                                },
                                liftLayer: {
                                    rule: "repeated",
                                    type: "LiftBizInfo",
                                    id: 8
                                },
                                stairLayer: {
                                    rule: "repeated",
                                    type: "StairBizInfo",
                                    id: 9
                                },
                                polygonLabelLayer: {
                                    rule: "repeated",
                                    type: "PolygonLabelBizInfo",
                                    id: 10
                                },
                                externalModelLayer: {
                                    rule: "repeated",
                                    type: "ExternalModelBizInfo",
                                    id: 11
                                }
                            },
                            nested: {
                                ExtentBizInfo: {
                                    fields: {
                                        eid: {
                                            rule: "required",
                                            type: "int32",
                                            id: 1
                                        },
                                        fid: {
                                            type: "string",
                                            id: 2
                                        },
                                        type: {
                                            type: "int32",
                                            id: 3
                                        },
                                        name: {
                                            type: "string",
                                            id: 4
                                        },
                                        ename: {
                                            type: "string",
                                            id: 5
                                        },
                                        minlevel: {
                                            type: "int32",
                                            id: 6
                                        },
                                        maxlevel: {
                                            type: "int32",
                                            id: 7
                                        }
                                    }
                                },
                                ModelBizInfo: {
                                    fields: {
                                        eid: {
                                            rule: "required",
                                            type: "int32",
                                            id: 1
                                        },
                                        fid: {
                                            type: "string",
                                            id: 2
                                        },
                                        type: {
                                            type: "int32",
                                            id: 3
                                        },
                                        name: {
                                            type: "string",
                                            id: 4
                                        },
                                        ename: {
                                            type: "string",
                                            id: 5
                                        },
                                        minlevel: {
                                            type: "int32",
                                            id: 6
                                        },
                                        maxlevel: {
                                            type: "int32",
                                            id: 7
                                        },
                                        pass: {
                                            type: "int32",
                                            id: 8
                                        }
                                    }
                                },
                                LabelBizInfo: {
                                    fields: {
                                        eid: {
                                            rule: "required",
                                            type: "int32",
                                            id: 1
                                        },
                                        fid: {
                                            type: "string",
                                            id: 2
                                        },
                                        type: {
                                            type: "int32",
                                            id: 3
                                        },
                                        name: {
                                            type: "string",
                                            id: 4
                                        },
                                        ename: {
                                            type: "string",
                                            id: 5
                                        },
                                        minlevel: {
                                            type: "int32",
                                            id: 6
                                        },
                                        maxlevel: {
                                            type: "int32",
                                            id: 7
                                        }
                                    }
                                },
                                PolygonBizInfo: {
                                    fields: {
                                        eid: {
                                            rule: "required",
                                            type: "int32",
                                            id: 1
                                        },
                                        fid: {
                                            type: "string",
                                            id: 2
                                        },
                                        type: {
                                            type: "int32",
                                            id: 3
                                        },
                                        name: {
                                            type: "string",
                                            id: 4
                                        },
                                        ename: {
                                            type: "string",
                                            id: 5
                                        },
                                        minlevel: {
                                            type: "int32",
                                            id: 6
                                        },
                                        maxlevel: {
                                            type: "int32",
                                            id: 7
                                        }
                                    }
                                },
                                POIBizInfo: {
                                    fields: {
                                        eid: {
                                            rule: "required",
                                            type: "int32",
                                            id: 1
                                        },
                                        fid: {
                                            type: "string",
                                            id: 2
                                        },
                                        type: {
                                            type: "int32",
                                            id: 3
                                        },
                                        name: {
                                            type: "string",
                                            id: 4
                                        },
                                        ename: {
                                            type: "string",
                                            id: 5
                                        },
                                        minlevel: {
                                            type: "int32",
                                            id: 6
                                        },
                                        maxlevel: {
                                            type: "int32",
                                            id: 7
                                        }
                                    }
                                },
                                LiftBizInfo: {
                                    fields: {
                                        eid: {
                                            rule: "required",
                                            type: "int32",
                                            id: 1
                                        },
                                        fid: {
                                            type: "string",
                                            id: 2
                                        },
                                        type: {
                                            type: "int32",
                                            id: 3
                                        },
                                        flag: {
                                            type: "int32",
                                            id: 4
                                        },
                                        floor: {
                                            type: "string",
                                            id: 5
                                        },
                                        minlevel: {
                                            type: "int32",
                                            id: 6
                                        },
                                        maxlevel: {
                                            type: "int32",
                                            id: 7
                                        }
                                    }
                                },
                                StairBizInfo: {
                                    fields: {
                                        eid: {
                                            rule: "required",
                                            type: "int32",
                                            id: 1
                                        },
                                        fid: {
                                            type: "string",
                                            id: 2
                                        },
                                        type: {
                                            type: "int32",
                                            id: 3
                                        },
                                        flag: {
                                            type: "int32",
                                            id: 4
                                        },
                                        minlevel: {
                                            type: "int32",
                                            id: 5
                                        },
                                        maxlevel: {
                                            type: "int32",
                                            id: 6
                                        }
                                    }
                                },
                                PolygonLabelBizInfo: {
                                    fields: {
                                        eid: {
                                            rule: "required",
                                            type: "int32",
                                            id: 1
                                        },
                                        fid: {
                                            type: "string",
                                            id: 2
                                        },
                                        type: {
                                            type: "int32",
                                            id: 3
                                        },
                                        width: {
                                            type: "float",
                                            id: 4
                                        },
                                        name: {
                                            type: "string",
                                            id: 5
                                        },
                                        ename: {
                                            type: "string",
                                            id: 6
                                        },
                                        angle: {
                                            type: "float",
                                            id: 7
                                        }
                                    }
                                },
                                ExternalModelBizInfo: {
                                    fields: {
                                        eid: {
                                            rule: "required",
                                            type: "int32",
                                            id: 1
                                        },
                                        fid: {
                                            type: "string",
                                            id: 2
                                        },
                                        type: {
                                            type: "int32",
                                            id: 3
                                        },
                                        name: {
                                            type: "string",
                                            id: 4
                                        },
                                        ename: {
                                            type: "string",
                                            id: 5
                                        },
                                        minlevel: {
                                            type: "int32",
                                            id: 6
                                        },
                                        maxlevel: {
                                            type: "int32",
                                            id: 7
                                        }
                                    }
                                }
                            }
                        },
                        FloorNavi: {
                            fields: {
                                mid: {
                                    rule: "required",
                                    type: "string",
                                    id: 1
                                },
                                gid: {
                                    rule: "required",
                                    type: "int32",
                                    id: 2
                                },
                                naviNodes: {
                                    rule: "repeated",
                                    type: "NaviNode",
                                    id: 3
                                },
                                naviSegments: {
                                    rule: "repeated",
                                    type: "NaviSegment",
                                    id: 4
                                },
                                naviZones: {
                                    rule: "repeated",
                                    type: "NaviZone",
                                    id: 5
                                },
                                naviModels: {
                                    rule: "repeated",
                                    type: "NaviModel",
                                    id: 6
                                },
                                nextFloors: {
                                    rule: "repeated",
                                    type: "int32",
                                    id: 7,
                                    options: {
                                        packed: !1
                                    }
                                },
                                naviExtents: {
                                    rule: "repeated",
                                    type: "NaviExtent",
                                    id: 8
                                }
                            },
                            nested: {
                                NaviNode: {
                                    fields: {
                                        nodeId: {
                                            type: "int32",
                                            id: 1
                                        },
                                        nodeType: {
                                            type: "int32",
                                            id: 2
                                        },
                                        liftType: {
                                            type: "int32",
                                            id: 3
                                        },
                                        liftFlag: {
                                            type: "int32",
                                            id: 4
                                        },
                                        liftEntry: {
                                            type: "int32",
                                            id: 5
                                        },
                                        liftFloor: {
                                            type: "string",
                                            id: 6
                                        },
                                        linkSeg: {
                                            type: "string",
                                            id: 7
                                        },
                                        geo: {
                                            type: "string",
                                            id: 8
                                        },
                                        entranceType: {
                                            type: "int32",
                                            id: 9
                                        },
                                        entranceFloor: {
                                            type: "string",
                                            id: 10
                                        },
                                        doortype: {
                                            type: "int32",
                                            id: 11
                                        },
                                        idxs: {
                                            rule: "repeated",
                                            type: "int32",
                                            id: 12,
                                            options: {
                                                packed: !1
                                            }
                                        },
                                        pts: {
                                            rule: "repeated",
                                            type: "double",
                                            id: 13,
                                            options: {
                                                packed: !1
                                            }
                                        },
                                        accessible: {
                                            type: "int32",
                                            id: 14,
                                            options: {
                                                default: 0
                                            }
                                        }
                                    }
                                },
                                NaviSegment: {
                                    fields: {
                                        segmentId: {
                                            type: "int32",
                                            id: 1
                                        },
                                        snode: {
                                            type: "int32",
                                            id: 2
                                        },
                                        enode: {
                                            type: "int32",
                                            id: 3
                                        },
                                        length: {
                                            type: "double",
                                            id: 4
                                        },
                                        rank: {
                                            type: "int32",
                                            id: 5
                                        },
                                        name: {
                                            type: "string",
                                            id: 6
                                        },
                                        entry: {
                                            type: "int32",
                                            id: 7
                                        },
                                        desc: {
                                            type: "string",
                                            id: 8
                                        },
                                        geo: {
                                            type: "string",
                                            id: 9
                                        },
                                        through: {
                                            type: "int32",
                                            id: 10
                                        },
                                        idxs: {
                                            rule: "repeated",
                                            type: "int32",
                                            id: 11,
                                            options: {
                                                packed: !1
                                            }
                                        },
                                        pts: {
                                            rule: "repeated",
                                            type: "double",
                                            id: 12,
                                            options: {
                                                packed: !1
                                            }
                                        }
                                    }
                                },
                                NaviZone: {
                                    fields: {
                                        id: {
                                            rule: "required",
                                            type: "int32",
                                            id: 1
                                        },
                                        type: {
                                            rule: "required",
                                            type: "int32",
                                            id: 2,
                                            options: {
                                                default: 0
                                            }
                                        },
                                        geo: {
                                            type: "string",
                                            id: 3
                                        },
                                        rejects: {
                                            rule: "repeated",
                                            type: "string",
                                            id: 4
                                        },
                                        idxs: {
                                            rule: "repeated",
                                            type: "int32",
                                            id: 5,
                                            options: {
                                                packed: !1
                                            }
                                        },
                                        pts: {
                                            rule: "repeated",
                                            type: "double",
                                            id: 6,
                                            options: {
                                                packed: !1
                                            }
                                        }
                                    }
                                },
                                NaviModel: {
                                    fields: {
                                        modelid: {
                                            rule: "required",
                                            type: "int32",
                                            id: 1
                                        },
                                        doorids: {
                                            rule: "repeated",
                                            type: "int32",
                                            id: 2,
                                            options: {
                                                packed: !1
                                            }
                                        },
                                        nodetypes: {
                                            rule: "repeated",
                                            type: "int32",
                                            id: 3,
                                            options: {
                                                packed: !1
                                            }
                                        },
                                        entrytypes: {
                                            rule: "repeated",
                                            type: "int32",
                                            id: 4,
                                            options: {
                                                packed: !1
                                            }
                                        }
                                    }
                                },
                                NaviExtent: {
                                    fields: {
                                        id: {
                                            rule: "required",
                                            type: "int32",
                                            id: 1
                                        },
                                        pts: {
                                            rule: "repeated",
                                            type: "double",
                                            id: 2,
                                            options: {
                                                packed: !1
                                            }
                                        },
                                        idxs: {
                                            rule: "repeated",
                                            type: "IndexInfo",
                                            id: 3
                                        }
                                    },
                                    nested: {
                                        IndexInfo: {
                                            fields: {
                                                idxs: {
                                                    rule: "repeated",
                                                    type: "int32",
                                                    id: 1,
                                                    options: {
                                                        packed: !1
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        };
    });
    function he(t) {
        return (he = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function fe(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== he(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== he(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === he(t) ? t : String(t);
            }(r.key), r);
        }
    }
    ne = function(t, e, n) {
        return e && fe(t.prototype, e), n && fe(t, n), Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }(function t() {
        if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
        this._i = null;
    });
    var ce = (Object.assign(ne.prototype, {
        ji: function() {
            this._i || (this._i = ie.a.Root.fromJSON(new ("undefined" != typeof KjWzhWlSj && KjWzhWlSj.ProtoDef ? KjWzhWlSj.ProtoDef : le)().id));
        },
        Si: function(t) {
            return this.ji(), this._i.lookup("Map").decode(t);
        },
        Oi: function(t) {
            for (var e = 0; e < t.buffers.length; e++) {
                var n = t.buffers[e];
                if (1 == n.btype) return this.Ei(n.data);
            }
            return null;
        },
        Ti: function(t) {
            for (var e = 0; e < t.buffers.length; e++) {
                var n = t.buffers[e];
                if (7 == n.btype) return this.Ri(n.data);
            }
            return null;
        },
        Ni: function(t, e) {
            for (var n = 0; n < t.buffers.length; n++) {
                var r = t.buffers[n];
                if (2 == r.btype && r.gid == e) return this.ki(r.data);
            }
            return null;
        },
        Mi: function(t, e) {
            for (var n = 0; n < t.buffers.length; n++) {
                var r = t.buffers[n];
                if (3 == r.btype && r.gid == e) return this.Ii(r.data);
            }
            return null;
        },
        Ai: function(t, e) {
            for (var n = 0; n < t.buffers.length; n++) {
                var r = t.buffers[n];
                if (4 == r.btype && r.gid == e) return this.Pi(r.data);
            }
            return null;
        },
        xi: function(t, e) {
            for (var n = 0; n < t.buffers.length; n++) {
                var r = t.buffers[n];
                if (5 === r.btype && r.gid === e) return this.Pi(r.data);
            }
            return null;
        },
        Li: function(t, e) {
            for (var n = 0; n < t.buffers.length; n++) {
                var r = t.buffers[n];
                if (6 === r.btype && r.gid === e) return this.Pi(r.data);
            }
            return null;
        },
        Ei: function(t) {
            this.ji();
            var e = this._i.lookup("Scene").decode(t);
            return e.levels = [], e.layerGroups.forEach(function(t) {
                e.levels.push(t.gid);
            }), e;
        },
        Ri: function(t) {
            return this.ji(), this._i.lookup("Gate").decode(t);
        },
        ki: function(t) {
            return this.ji(), this._i.lookup("FloorGeo").decode(t);
        },
        Ii: function(t) {
            return this.ji(), this._i.lookup("FloorBiz").decode(t);
        },
        Pi: function(t) {
            return this.ji(), this._i.lookup("FloorNavi").decode(t);
        }
    }), ne);
    function pe(t) {
        return (pe = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function ye(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== pe(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== pe(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === pe(t) ? t : String(t);
            }(r.key), r);
        }
    }
    n = function(t, e, n) {
        return e && ye(t.prototype, e), n && ye(t, n), Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }(function t() {
        var e;
        if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
        Kt.a.environment === Jt.a.WX ? this.Di = new Kt.a.ProtoReaderStatic() : void 0 !== Gt.a.global().KjWzhWlSj && Gt.a.global().KjWzhWlSj.ProtoReaderStatic ? (e = Gt.a.global().KjWzhWlSj.ProtoReaderStatic, 
        this.Di = new e()) : this.Di = new ce();
    });
    var de, ve, be, ge, me, Oe = (Object.assign(n.prototype, {
        Si: function(t) {
            return this.Di.Si(t);
        },
        Oi: function(t) {
            return this.Di.Oi(t);
        },
        Ti: function(t) {
            return this.Di.Ti(t);
        },
        Ni: function(t, e) {
            return this.Di.Ni(t, e);
        },
        Mi: function(t, e) {
            return this.Di.Mi(t, e);
        },
        Ai: function(t, e) {
            return this.Di.Ai(t, e);
        },
        xi: function(t, e) {
            return this.Di.xi(t, e);
        },
        Li: function(t, e) {
            return this.Di.Li(t, e);
        },
        Ei: function(t) {
            return this.Di.Ei(t);
        },
        Ri: function(t) {
            return this.Di.Ri(t);
        },
        ki: function(t) {
            return this.Di.ki(t);
        },
        Ii: function(t) {
            return this.Di.Ii(t);
        },
        Pi: function(t) {
            return this.Di.Pi(t);
        }
    }), n), xe = {
        domain: ne = "https://console.fengmap.com/api-s/",
        online: ne + "sdk/check",
        check: ne + "sdk/auth/web",
        download: ne + "sdk/auth/obtainMapRoute",
        downloadTile: ne + "sdk/authLayered/obtainMapRoute",
        collect: ne + "sdk/collect",
        themeUrl: ne + "webtheme/",
        externalModelURL: ne + "webmodel/"
    };
    function Ee(t, e) {
        var n, r = 0, i = 0;
        for (i = 0; i < 8; i++) 1 & e && (r ^= t), n = 128 & t, t <<= 1, n && (t ^= 27), 
        e >>= 1;
        return r;
    }
    function _e(t, e, n) {
        for (var r = 0; r < 4; r++) t[0 + r] ^= e[16 * n + 4 * r], t[4 + r] ^= e[16 * n + 4 * r + 1], 
        t[8 + r] ^= e[16 * n + 4 * r + 2], t[12 + r] ^= e[16 * n + 4 * r + 3];
    }
    function Te(t) {
        for (var e, n, r, i = 1; i < 4; i++) for (n = 0; n < i; ) {
            for (r = t[4 * i + 4 - 1], e = 3; 0 < e; e--) t[4 * i + e] = t[4 * i + e - 1];
            t[4 * i + 0] = r, n++;
        }
    }
    function we(t) {
        for (var e, n, r, i = 0; i < 4; i++) for (e = 0; e < 4; e++) n = (240 & t[4 * i + e]) >> 4, 
        r = 15 & t[4 * i + e], t[4 * i + e] = ve[16 * n + r];
    }
    function Se(t) {
        for (var e = 0; e < 4; e++) t[e] = de[16 * ((240 & t[e]) >> 4) + (15 & t[e])];
    }
    function Re(t) {
        return parseInt(t, 16);
    }
    de = [ 99, 124, 119, 123, 242, 107, 111, 197, 48, 1, 103, 43, 254, 215, 171, 118, 202, 130, 201, 125, 250, 89, 71, 240, 173, 212, 162, 175, 156, 164, 114, 192, 183, 253, 147, 38, 54, 63, 247, 204, 52, 165, 229, 241, 113, 216, 49, 21, 4, 199, 35, 195, 24, 150, 5, 154, 7, 18, 128, 226, 235, 39, 178, 117, 9, 131, 44, 26, 27, 110, 90, 160, 82, 59, 214, 179, 41, 227, 47, 132, 83, 209, 0, 237, 32, 252, 177, 91, 106, 203, 190, 57, 74, 76, 88, 207, 208, 239, 170, 251, 67, 77, 51, 133, 69, 249, 2, 127, 80, 60, 159, 168, 81, 163, 64, 143, 146, 157, 56, 245, 188, 182, 218, 33, 16, 255, 243, 210, 205, 12, 19, 236, 95, 151, 68, 23, 196, 167, 126, 61, 100, 93, 25, 115, 96, 129, 79, 220, 34, 42, 144, 136, 70, 238, 184, 20, 222, 94, 11, 219, 224, 50, 58, 10, 73, 6, 36, 92, 194, 211, 172, 98, 145, 149, 228, 121, 231, 200, 55, 109, 141, 213, 78, 169, 108, 86, 244, 234, 101, 122, 174, 8, 186, 120, 37, 46, 28, 166, 180, 198, 232, 221, 116, 31, 75, 189, 139, 138, 112, 62, 181, 102, 72, 3, 246, 14, 97, 53, 87, 185, 134, 193, 29, 158, 225, 248, 152, 17, 105, 217, 142, 148, 155, 30, 135, 233, 206, 85, 40, 223, 140, 161, 137, 13, 191, 230, 66, 104, 65, 153, 45, 15, 176, 84, 187, 22 ], 
    ve = [ 82, 9, 106, 213, 48, 54, 165, 56, 191, 64, 163, 158, 129, 243, 215, 251, 124, 227, 57, 130, 155, 47, 255, 135, 52, 142, 67, 68, 196, 222, 233, 203, 84, 123, 148, 50, 166, 194, 35, 61, 238, 76, 149, 11, 66, 250, 195, 78, 8, 46, 161, 102, 40, 217, 36, 178, 118, 91, 162, 73, 109, 139, 209, 37, 114, 248, 246, 100, 134, 104, 152, 22, 212, 164, 92, 204, 93, 101, 182, 146, 108, 112, 72, 80, 253, 237, 185, 218, 94, 21, 70, 87, 167, 141, 157, 132, 144, 216, 171, 0, 140, 188, 211, 10, 247, 228, 88, 5, 184, 179, 69, 6, 208, 44, 30, 143, 202, 63, 15, 2, 193, 175, 189, 3, 1, 19, 138, 107, 58, 145, 17, 65, 79, 103, 220, 234, 151, 242, 207, 206, 240, 180, 230, 115, 150, 172, 116, 34, 231, 173, 53, 133, 226, 249, 55, 232, 28, 117, 223, 110, 71, 241, 26, 113, 29, 41, 197, 137, 111, 183, 98, 14, 170, 24, 190, 27, 252, 86, 62, 75, 198, 210, 121, 32, 154, 219, 192, 254, 120, 205, 90, 244, 31, 221, 168, 51, 136, 7, 199, 49, 177, 18, 16, 89, 39, 128, 236, 95, 96, 81, 127, 169, 25, 181, 74, 13, 45, 229, 122, 159, 147, 201, 156, 239, 160, 224, 59, 77, 174, 42, 245, 176, 200, 235, 187, 60, 131, 83, 153, 97, 23, 43, 4, 126, 186, 119, 214, 38, 225, 105, 20, 99, 85, 33, 12, 125 ], 
    me = [ 2, ge = be = 0, 0, 0 ];
    var je = function(t, e) {
        for (var n = Array(16), r = 0; r < 16; r++) n[r] = 16 * Re(e.substr(2 * r, 1)) + Re(e.substr(2 * r + 1, 1));
        var i = Array(16);
        for (r = 0; r < 16; r++) i[r] = 16 * Re(t.substr(2 * r, 1)) + Re(t.substr(2 * r + 1, 1));
        var o = Array(16);
        switch (r = [], n.length) {
          default:
          case 16:
            be = 4, ge = 10;
            break;

          case 24:
            be = 6, ge = 12;
            break;

          case 32:
            be = 8, ge = 14;
        }
        for (var s = r = Array(16 * (ge + 1)), a = Array(4), u = 4 * (ge + 1), l = 0; l < be; l++) s[4 * l + 0] = n[4 * l + 0], 
        s[4 * l + 1] = n[4 * l + 1], s[4 * l + 2] = n[4 * l + 2], s[4 * l + 3] = n[4 * l + 3];
        for (l = be; l < u; l++) {
            if (a[0] = s[4 * (l - 1) + 0], a[1] = s[4 * (l - 1) + 1], a[2] = s[4 * (l - 1) + 2], 
            a[3] = s[4 * (l - 1) + 3], 0 == l % be) {
                var h = void 0, f = void 0;
                for (h = (n = a)[0], f = 0; f < 3; f++) n[f] = n[f + 1];
                if (n[3] = h, Se(a), 1 == (n = l / be)) me[0] = 1; else if (1 < n) for (me[0] = 2, 
                n--; 0 < n - 1; ) me[0] = Ee(me[0], 2), n--;
                (f = n = a)[0] = n[0] ^ (h = me)[0], f[1] = n[1] ^ h[1], f[2] = n[2] ^ h[2], f[3] = n[3] ^ h[3];
            } else 6 < be && 4 == l % be && Se(a);
            s[4 * l + 0] = s[4 * (l - be) + 0] ^ a[0], s[4 * l + 1] = s[4 * (l - be) + 1] ^ a[1], 
            s[4 * l + 2] = s[4 * (l - be) + 2] ^ a[2], s[4 * l + 3] = s[4 * (l - be) + 3] ^ a[3];
        }
        for (s = Array(16), a = 0; a < 4; a++) for (l = 0; l < 4; l++) s[4 * a + l] = i[a + 4 * l];
        for (_e(s, r, ge), i = ge - 1; 1 <= i; i--) for (Te(s), we(s), _e(s, r, i), a = s, 
        l = [ 14, 9, 13, 11 ], u = f = void 0, n = Array(4), h = Array(4), u = 0; u < 4; u++) {
            for (f = 0; f < 4; f++) n[f] = a[4 * f + u];
            f = l;
            var c = n, p = h;
            for (p[0] = Ee(f[0], c[0]) ^ Ee(f[3], c[1]) ^ Ee(f[2], c[2]) ^ Ee(f[1], c[3]), p[1] = Ee(f[1], c[0]) ^ Ee(f[0], c[1]) ^ Ee(f[3], c[2]) ^ Ee(f[2], c[3]), 
            p[2] = Ee(f[2], c[0]) ^ Ee(f[1], c[1]) ^ Ee(f[0], c[2]) ^ Ee(f[3], c[3]), p[3] = Ee(f[3], c[0]) ^ Ee(f[2], c[1]) ^ Ee(f[1], c[2]) ^ Ee(f[0], c[3]), 
            f = 0; f < 4; f++) a[4 * f + u] = h[f];
        }
        for (Te(s), we(s), _e(s, r, 0), a = 0; a < 4; a++) for (l = 0; l < 4; l++) o[a + 4 * l] = s[4 * a + l];
        for (i = "", r = 0; r < 16; ++r) i += s = (s = o[r].toString(16)).length < 2 ? "0" + s : s;
        return i;
    };
    function Ae(t, e) {
        var n = (65535 & t) + (65535 & e);
        return (t >> 16) + (e >> 16) + (n >> 16) << 16 | 65535 & n;
    }
    function Le(t, e, n, r, i, o) {
        return Ae((e = Ae(Ae(e, t), Ae(r, o))) << i | e >>> 32 - i, n);
    }
    function Ne(t, e, n, r, i, o, s) {
        return Le(e & n | ~e & r, t, e, i, o, s);
    }
    function Ie(t, e, n, r, i, o, s) {
        return Le(e & r | n & ~r, t, e, i, o, s);
    }
    function Pe(t, e, n, r, i, o, s) {
        return Le(e ^ n ^ r, t, e, i, o, s);
    }
    function De(t, e, n, r, i, o, s) {
        return Le(n ^ (e | ~r), t, e, i, o, s);
    }
    function ke(t, e) {
        t[e >> 5] |= 128 << e % 32, t[14 + (e + 64 >>> 9 << 4)] = e;
        for (var n, r, i, o, s = 1732584193, a = -271733879, u = -1732584194, l = 271733878, h = 0; h < t.length; h += 16) s = Ne(n = s, r = a, i = u, o = l, t[h], 7, -680876936), 
        l = Ne(l, s, a, u, t[h + 1], 12, -389564586), u = Ne(u, l, s, a, t[h + 2], 17, 606105819), 
        a = Ne(a, u, l, s, t[h + 3], 22, -1044525330), s = Ne(s, a, u, l, t[h + 4], 7, -176418897), 
        l = Ne(l, s, a, u, t[h + 5], 12, 1200080426), u = Ne(u, l, s, a, t[h + 6], 17, -1473231341), 
        a = Ne(a, u, l, s, t[h + 7], 22, -45705983), s = Ne(s, a, u, l, t[h + 8], 7, 1770035416), 
        l = Ne(l, s, a, u, t[h + 9], 12, -1958414417), u = Ne(u, l, s, a, t[h + 10], 17, -42063), 
        a = Ne(a, u, l, s, t[h + 11], 22, -1990404162), s = Ne(s, a, u, l, t[h + 12], 7, 1804603682), 
        l = Ne(l, s, a, u, t[h + 13], 12, -40341101), u = Ne(u, l, s, a, t[h + 14], 17, -1502002290), 
        s = Ie(s, a = Ne(a, u, l, s, t[h + 15], 22, 1236535329), u, l, t[h + 1], 5, -165796510), 
        l = Ie(l, s, a, u, t[h + 6], 9, -1069501632), u = Ie(u, l, s, a, t[h + 11], 14, 643717713), 
        a = Ie(a, u, l, s, t[h], 20, -373897302), s = Ie(s, a, u, l, t[h + 5], 5, -701558691), 
        l = Ie(l, s, a, u, t[h + 10], 9, 38016083), u = Ie(u, l, s, a, t[h + 15], 14, -660478335), 
        a = Ie(a, u, l, s, t[h + 4], 20, -405537848), s = Ie(s, a, u, l, t[h + 9], 5, 568446438), 
        l = Ie(l, s, a, u, t[h + 14], 9, -1019803690), u = Ie(u, l, s, a, t[h + 3], 14, -187363961), 
        a = Ie(a, u, l, s, t[h + 8], 20, 1163531501), s = Ie(s, a, u, l, t[h + 13], 5, -1444681467), 
        l = Ie(l, s, a, u, t[h + 2], 9, -51403784), u = Ie(u, l, s, a, t[h + 7], 14, 1735328473), 
        s = Pe(s, a = Ie(a, u, l, s, t[h + 12], 20, -1926607734), u, l, t[h + 5], 4, -378558), 
        l = Pe(l, s, a, u, t[h + 8], 11, -2022574463), u = Pe(u, l, s, a, t[h + 11], 16, 1839030562), 
        a = Pe(a, u, l, s, t[h + 14], 23, -35309556), s = Pe(s, a, u, l, t[h + 1], 4, -1530992060), 
        l = Pe(l, s, a, u, t[h + 4], 11, 1272893353), u = Pe(u, l, s, a, t[h + 7], 16, -155497632), 
        a = Pe(a, u, l, s, t[h + 10], 23, -1094730640), s = Pe(s, a, u, l, t[h + 13], 4, 681279174), 
        l = Pe(l, s, a, u, t[h], 11, -358537222), u = Pe(u, l, s, a, t[h + 3], 16, -722521979), 
        a = Pe(a, u, l, s, t[h + 6], 23, 76029189), s = Pe(s, a, u, l, t[h + 9], 4, -640364487), 
        l = Pe(l, s, a, u, t[h + 12], 11, -421815835), u = Pe(u, l, s, a, t[h + 15], 16, 530742520), 
        s = De(s, a = Pe(a, u, l, s, t[h + 2], 23, -995338651), u, l, t[h], 6, -198630844), 
        l = De(l, s, a, u, t[h + 7], 10, 1126891415), u = De(u, l, s, a, t[h + 14], 15, -1416354905), 
        a = De(a, u, l, s, t[h + 5], 21, -57434055), s = De(s, a, u, l, t[h + 12], 6, 1700485571), 
        l = De(l, s, a, u, t[h + 3], 10, -1894986606), u = De(u, l, s, a, t[h + 10], 15, -1051523), 
        a = De(a, u, l, s, t[h + 1], 21, -2054922799), s = De(s, a, u, l, t[h + 8], 6, 1873313359), 
        l = De(l, s, a, u, t[h + 15], 10, -30611744), u = De(u, l, s, a, t[h + 6], 15, -1560198380), 
        a = De(a, u, l, s, t[h + 13], 21, 1309151649), s = De(s, a, u, l, t[h + 4], 6, -145523070), 
        l = De(l, s, a, u, t[h + 11], 10, -1120210379), u = De(u, l, s, a, t[h + 2], 15, 718787259), 
        a = De(a, u, l, s, t[h + 9], 21, -343485551), s = Ae(s, n), a = Ae(a, r), u = Ae(u, i), 
        l = Ae(l, o);
        return [ s, a, u, l ];
    }
    function Me(t) {
        for (var e = "", n = 32 * t.length, r = 0; r < n; r += 8) e += String.fromCharCode(t[r >> 5] >>> r % 32 & 255);
        return e;
    }
    function We(t) {
        var e = [];
        for (e[(t.length >> 2) - 1] = void 0, r = 0; r < e.length; r += 1) e[r] = 0;
        for (var n = 8 * t.length, r = 0; r < n; r += 8) e[r >> 5] |= (255 & t.charCodeAt(r / 8)) << r % 32;
        return e;
    }
    function Ue(t) {
        for (var e, n = "0123456789abcdef", r = "", i = 0; i < t.length; i += 1) e = t.charCodeAt(i), 
        r += n.charAt(e >>> 4 & 15) + n.charAt(15 & e);
        return r;
    }
    function Ce(t) {
        return unescape(encodeURIComponent(t));
    }
    function Ve(t) {
        return Me(ke(We(t = Ce(t)), 8 * t.length));
    }
    function Fe(t, e) {
        t = Ce(t), e = Ce(e);
        var n, r = We(t), i = [], o = [];
        for (i[15] = o[15] = void 0, 16 < r.length && (r = ke(r, 8 * t.length)), n = 0; n < 16; n += 1) i[n] = 909522486 ^ r[n], 
        o[n] = 1549556828 ^ r[n];
        return t = ke(i.concat(We(e)), 512 + 8 * e.length), Me(ke(o.concat(t), 640));
    }
    var Ye = function(t) {
        return function(t, e, n) {
            return e ? n ? Fe(e, t) : Ue(Fe(e, t)) : n ? Ve(t) : Ue(Ve(t));
        }(t);
    };
    function Ge(t) {
        return (Ge = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function qe(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== Ge(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== Ge(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === Ge(t) ? t : String(t);
            }(r.key), r);
        }
    }
    var Be = "0.0.0.0";
    n = function(t, e, n) {
        return e && qe(t.prototype, e), n && qe(t, n), Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }(function t() {
        if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
    });
    Object.assign(n.prototype, {
        Fi: function(t, e, n, r, i) {
            void 0 === Kt.a.KjWzhWlSj || !Kt.a.KjWzhWlSj.license || !Kt.a.KjWzhWlSj.license || "string" == typeof e && 0 != e.length && (e = je(e, "026685bf295f587b5dffc1f18d5dc27c"), 
            n = Ye(n), e = je(e, n), -1 !== t.indexOf(e)) ? r && r() : i && i();
        },
        Gi: function(t, e, n, r) {
            var i;
            -1 !== e.indexOf("") || -1 !== e.indexOf("aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa") || void 0 === t.mapURL || (i = Ye("fengmap.localhost:" + t.appName), 
            i = je(t.key, i), -1 !== e.indexOf(i)) ? this.Fi(e, t.license, t.buildingID, function() {
                n && n();
            }, function() {
                r && r(Xt);
            }) : r && r(qt);
        },
        Ci: function(t, e, n) {
            var r = this;
            void 0 !== t.mapURL ? e && e() : (t.enableCollect && this.Bi(t), this.Ui(function() {
                new re({
                    method: "POST",
                    url: xe.check,
                    header: {
                        "X-Requested-With": "XMLHttpRequest",
                        "Content-type": "application/json;charset=utf-8"
                    },
                    data: r.Zi(t)
                }).wi(function() {
                    e && e();
                }, function(t) {
                    n && n(t);
                }, function() {
                    e && e();
                });
            }, function() {
                e && e();
            }));
        },
        Ui: function(t, e) {
            new re({
                method: "GET",
                url: xe.online
            }).wi(function() {
                t && t();
            }, function() {
                e && e();
            }, function() {
                e && e();
            });
        },
        Zi: function(t, e) {
            Kt.a.environment === Jt.a.BROWSER && -1 !== (r = (n = Gt.a.global().location.host).indexOf(":")) && (n = n.slice(0, r));
            var n, r = {
                mapId: t.buildingID,
                appName: t.appName
            };
            return e ? r.keyValue = t.key : r.appKey = t.key, e ? r.webUrl = n || Be : r.webURL = n || Be, 
            r;
        },
        Bi: function(t) {
            if ("undefined" != typeof navigator && "undefined" != typeof document) {
                var e = {};
                -1 !== navigator.userAgent.indexOf("Opera") ? e.userAgent = "Opera" : -1 !== navigator.userAgent.indexOf("Firefox") ? e.userAgent = "FF" : -1 !== navigator.userAgent.indexOf("Chrome") ? e.userAgent = "Chrome" : -1 !== navigator.userAgent.indexOf("Safari") && 0 === navigator.userAgent.indexOf("Chrome") ? e.userAgent = "Safari" : -1 !== navigator.userAgent.indexOf("compatible") && -1 !== navigator.userAgent.indexOf("MSIE") ? e.userAgent = "IE" : -1 !== navigator.userAgent.indexOf("Trident") && (e.userAgent = "Edge"), 
                e.product = "JS", e.sdkVersion = r + ".115", e.appName = t.appName, e.appkey = t.key;
                for (var n = (t = Kt.a.document.createElement("canvas").getContext("experimental-webgl")).getExtension("WEBGL_debug_renderer_info"), i = (e.gpu = n ? t.getParameter(n.UNMASKED_RENDERER_WEBGL) : null, 
                e.os = navigator.platform, !0), o = navigator.userAgent, s = [ "Android", "iPhone", "SymbianOS", "Windows Phone", "iPad", "iPod" ], a = 0; a < s.length; a++) if (0 < o.indexOf(s[a])) {
                    i = !1;
                    break;
                }
                e.device = i ? "pc" : "mobile", new re({
                    method: "POST",
                    url: xe.collect,
                    header: {
                        "X-Requested-With": "XMLHttpRequest",
                        "Content-type": "application/json;charset=utf-8"
                    },
                    data: e
                }).wi();
            }
        }
    });
    var ze = new n();
    function Xe(t) {
        return (Xe = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function Ze(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== Xe(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== Xe(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === Xe(t) ? t : String(t);
            }(r.key), r);
        }
    }
    ne = function(t, e, n) {
        return e && Ze(t.prototype, e), n && Ze(t, n), Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }(function t() {
        var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {}, n = this, r = t;
        if (!(n instanceof r)) throw new TypeError("Cannot call a class as a function");
        this.Wi = e.disposeCallback, this.Vi = !1, this.qi = !1, this.Yi = void 0 !== e.enable && e.enable, 
        this.name = void 0 !== e.name ? e.name : "", this.zi = new Map(), this.Xi = e.mapCreateTime;
    });
    var He = (Object.assign(ne.prototype, {
        Hi: function() {
            !this.Yi || this.qi || this.Vi && 0 === this.zi.size && (this.Wi({
                mapCreateTime: this.Xi
            }), this.qi = !0);
        },
        Qi: function(t) {
            this.Yi && (this.Vi = t, this.Hi());
        },
        Ki: function(t) {
            this.Yi && (this.zi.has(t) && console.warn("添加的引用已经存在..."), this.zi.set(t, 0));
        },
        Ji: function(t) {
            this.Yi && (this.zi.has(t) ? (this.zi.delete(t), this.Hi()) : console.warn("移除的引用不存在"));
        }
    }), ne);
    function Je(t) {
        return (Je = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function Ke(t) {
        return function(t) {
            if (Array.isArray(t)) return Qe(t);
        }(t) || function(t) {
            if ("undefined" != typeof Symbol && null != t[Symbol.iterator] || null != t["@@iterator"]) return Array.from(t);
        }(t) || function(t, e) {
            var n;
            if (t) return "string" == typeof t ? Qe(t, e) : "Map" === (n = "Object" === (n = Object.prototype.toString.call(t).slice(8, -1)) && t.constructor ? t.constructor.name : n) || "Set" === n ? Array.from(t) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Qe(t, e) : void 0;
        }(t) || function() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
        }();
    }
    function Qe(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r;
    }
    function $e(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== Je(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== Je(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === Je(t) ? t : String(t);
            }(r.key), r);
        }
    }
    n = function(t, e, n) {
        return e && $e(t.prototype, e), n && $e(t, n), Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }(function t() {
        if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
        this.Di = new Oe(), this.$i = [], this.tn = new He({
            enable: !0,
            name: "DataManager"
        });
    });
    var tn = (Object.assign(n.prototype, {
        gi: function(t) {
            var e = this;
            this.tn.Wi = t, this.$i.forEach(function(t) {
                200 !== t.mi.status && e.tn.Ji(t.pi.url), t.gi();
            }), this.$i.length = 0, this.tn.Qi(!0);
        },
        nn: function(t, e, n, r) {
            var i;
            t.mapURL ? (i = t.isPreview ? t.isOutdoor ? t.tile ? t.mapURL + t.buildingID + "/separate/" + t.buildingID + e + ".fmap" : t.mapURL + t.buildingID + "/" + t.buildingID + e + ".fmap" : t.tile ? t.mapURL + t.mapID + "/" + t.bid + "/" + t.buildingID + "/separate/" + t.buildingID + e + ".fmap" : t.mapURL + t.mapID + "/" + t.bid + "/" + t.buildingID + "/" + t.buildingID + e + ".fmap" : t.mapURLAbsolute ? t.mapURL + t.buildingID + e + ".fmap" : t.isOutdoor ? t.mapURL + t.buildingID + "/" + t.buildingID + e + ".fmap" : t.mapURL + t.mapID + "/" + t.bid + "/" + t.buildingID + "/" + t.buildingID + e + ".fmap", 
            n && n(i)) : (i = {
                newFlag: "2",
                keyType: 3,
                isSeparate: !1
            }, t.isOutdoor || (i.bId = t.bid, i.rootMid = t.mapID), e = new re({
                method: "POST",
                url: "" === e ? xe.download : xe.downloadTile + "/" + t.buildingID + e + ".fmap",
                header: {
                    "X-Requested-With": "XMLHttpRequest",
                    "Content-type": "application/json;charset=utf-8"
                },
                data: Object.assign(i, ze.Zi(t, !0))
            }), this.$i.push(e), e.wi(function(t) {
                n && n(t.replace('"', "").replace('"', ""));
            }, function(t) {
                r && r(t);
            }, function(t) {
                r && r(t);
            }));
        },
        rn: function(t, e, n) {
            var r = this;
            t.enableCollect = !0, ze.Ci(t, function() {
                r.nn(t, "", function(i) {
                    var o = new re({
                        method: "GET",
                        responseType: "arraybuffer",
                        url: i
                    });
                    r.$i.push(o), r.tn.Ki(i), o.wi(function(o) {
                        r.tn.Ji(i);
                        o = new Uint8Array(o);
                        var s = r.Di.Si(o);
                        !t.isOutdoor || (o = [], s.keys && 0 !== s.keys.length ? o.push.apply(o, Ke(s.keys)) : o.push(s.key), 
                        t.isPreview) ? e && e(s) : ze.Gi(t, o, function() {
                            e && e(s);
                        }, function(t) {
                            n && n(t);
                        });
                    }, function(t) {
                        n && n(t === Zt ? Bt : t), r.tn.Ji(i);
                    }, function(t) {
                        n && n(t), r.tn.Ji(i);
                    });
                }, function(t) {
                    n && n(t);
                });
            }, function(t) {
                n && n(t);
            });
        },
        sn: function(t, e, n) {
            var r = this;
            t.enableCollect = !0, ze.Ci(t, function() {
                r.nn(t, ".scene", function(i) {
                    r.tn.Ki(i);
                    var o = new re({
                        method: "GET",
                        responseType: "arraybuffer",
                        url: i
                    });
                    r.$i.push(o), o.wi(function(o) {
                        o = new Uint8Array(o);
                        var s = r.Di.Ei(o);
                        r.tn.Ji(i), !t.isOutdoor || (o = [], s.keys && 0 !== s.keys.length ? o.push.apply(o, Ke(s.keys)) : o.push(s.key), 
                        t.isPreview) ? e && e(s) : ze.Gi(t, o, function() {
                            e && e(s);
                        }, function(t) {
                            n && n(t);
                        });
                    }, function(t) {
                        n && n(t), r.tn.Ji(i);
                    }, function(t) {
                        n && n(t), r.tn.Ji(i);
                    });
                }, function(t) {
                    n && n(t);
                });
            }, function(t) {
                n && n(t);
            });
        },
        un: function(t, e, n) {
            var r = this;
            this.nn(t, ".gate", function(t) {
                r.tn.Ki(t);
                var i = new re({
                    method: "GET",
                    responseType: "arraybuffer",
                    url: t
                });
                r.$i.push(i), i.wi(function(n) {
                    n = new Uint8Array(n), n = r.Di.Ri(n), e && e(n), r.tn.Ji(t);
                }, function(e) {
                    n && n(e), r.tn.Ji(t);
                }, function(e) {
                    n && n(e), r.tn.Ji(t);
                });
            }, function(t) {
                n && n(t);
            });
        },
        an: function(t, e, n, r) {
            var i = this;
            this.nn(t, ".floor." + e + ".geo", function(t) {
                var e = new re({
                    method: "GET",
                    responseType: "arraybuffer",
                    url: t
                });
                i.tn.Ki(t), i.$i.push(e), e.wi(function(e) {
                    e = new Uint8Array(e), e = i.Di.ki(e), n && n(e), i.tn.Ji(t);
                }, function(e) {
                    r && r(e), i.tn.Ji(t);
                }, function(e) {
                    r && r(e), i.tn.Ji(t);
                });
            }, function(t) {
                r && r(t);
            });
        },
        hn: function(t, e, n, r) {
            var i = this;
            this.nn(t, ".floor." + e + ".biz", function(t) {
                var e = new re({
                    method: "GET",
                    responseType: "arraybuffer",
                    url: t
                });
                i.tn.Ki(t), i.$i.push(e), e.wi(function(e) {
                    e = new Uint8Array(e), e = i.Di.Ii(e), n && n(e), i.tn.Ji(t);
                }, function(e) {
                    r && r(e), i.tn.Ji(t);
                }, function(e) {
                    r && r(e), i.tn.Ji(t);
                });
            }, function(t) {
                r && r(t);
            });
        },
        ln: function(t, e, n, r) {
            var i = this;
            this.nn(t, e, function(t) {
                var e = new re({
                    method: "GET",
                    responseType: "arraybuffer",
                    url: t
                });
                i.tn.Ki(t), i.$i.push(e), e.wi(function(e) {
                    e = new Uint8Array(e), e = i.Di.Pi(e), n && n(e), i.tn.Ji(t);
                }, function(e) {
                    r && r(e), i.tn.Ji(t);
                });
            }, function(t) {
                r && r(t);
            }, function(t) {
                r && r(t);
            });
        },
        cn: function(t, e, n, r) {
            this.ln(t, ".floor." + e + ".navi", n, r);
        },
        vn: function(t, e, n, r) {
            this.ln(t, ".floor." + e + ".drive.navi", n, r);
        },
        yn: function(t, e, n, r) {
            this.ln(t, ".floor." + e + ".accessible.navi", n, r);
        }
    }), n);
    function en(t) {
        for (var e = [], n = t.length, r = 0; r < n; r++) {
            for (var i = t[r], o = {
                x: this.dn(i.x),
                y: this.dn(i.y)
            }, s = e.length, a = !1, u = 0; u < s; u++) {
                var l = e[u];
                if (l.x == o.x && l.y == o.y) {
                    a = !0;
                    break;
                }
            }
            a || e.push(o);
        }
        return e;
    }
    function nn(t) {
        return +t.toFixed(2);
    }
    function rn(t) {
        return (rn = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function on(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== rn(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== rn(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === rn(t) ? t : String(t);
            }(r.key), r);
        }
    }
    ne = function(t, e, n) {
        return e && on(t.prototype, e), n && on(t, n), Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }(function t() {
        if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
    }), Object.assign(ne.prototype, {
        bn: function(t, e) {
            for (var n = [], r = 0, i = 0; i < t.length; i++) {
                var o = t[i].idxs;
                if ("number" == typeof (o = o || t[i])) for (;r < o; ) n.push({
                    x: e[r],
                    y: e[r + 1]
                }), r += 2; else for (var s = 0; s < o.length; s++) for (var a = o[s]; r < a; ) n.push({
                    x: e[r],
                    y: e[r + 1]
                }), r += 2;
            }
            return n;
        },
        pn: function(t, e) {
            for (var n = [], r = 0, i = 0; i < t.length; i++) {
                var o = t[i].idxs;
                if ("number" == typeof (o = o || t[i])) {
                    for (var s = []; r < o; ) s.push({
                        x: e[r],
                        y: e[r + 1]
                    }), r += 2;
                    n.push(s);
                } else for (var a = 0; a < o.length; a++) {
                    for (var u = o[a], l = []; r < u; ) l.push({
                        x: e[r],
                        y: e[r + 1]
                    }), r += 2;
                    n.push(l);
                }
            }
            return n;
        },
        mn: function(t, e) {
            for (var n = [], r = [], i = 0, o = 0; o < t.length; o++) {
                var s = t[o].idxs;
                if ("number" == typeof (s = s || t[o])) for (;i < s; ) n.push({
                    x: e[i],
                    y: e[i + 1]
                }), i += 2; else for (var a = 0; a < s.length; a++) if (0 === a) for (var u = s[a]; i < u; ) n.push({
                    x: e[i],
                    y: e[i + 1]
                }), i += 2; else {
                    for (var l = [], h = s[a]; i < h; ) l.push({
                        x: e[i],
                        y: e[i + 1]
                    }), i += 2;
                    r.push(l);
                }
            }
            var f = [];
            return f.push(n), f.push.apply(f, r), f;
        },
        wn: function(t) {
            return en(t);
        },
        dn: nn
    });
    var sn = new ne();
    function an(t) {
        return (an = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function un(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== an(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== an(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === an(t) ? t : String(t);
            }(r.key), r);
        }
    }
    var ln = {
        G1: "MULTIPOLYGON(((",
        G2: "POINT(",
        G3: "MULTILINESTRING(("
    };
    ln.GLEN1 = "MULTIPOLYGON(((".length, ln.GLEN2 = "POINT(".length, ln.GLEN3 = "MULTILINESTRING((".length, 
    n = function(t, e, n) {
        return e && un(t.prototype, e), n && un(t, n), Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }(function t() {
        if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
    });
    Object.assign(n.prototype, {
        bn: function(t) {
            var e = [];
            return 0 != t.indexOf(ln.G2) ? [] : (t = t.substring(ln.GLEN2, t.length - 1).split(" "), 
            e.push({
                x: parseFloat(t[0]),
                y: parseFloat(t[1])
            }), e);
        },
        gn: function(t, e) {
            for (var n = 0; n < t.length; n++) {
                var r = t[n].split(" ");
                e.push({
                    x: parseFloat(r[0]),
                    y: parseFloat(r[1])
                });
            }
        },
        pn: function(t) {
            return 0 != t.indexOf(ln.G3) ? [] : (t = t.substring(ln.GLEN3, t.length - 2).split(","), 
            this.gn(t, t = []), [ t ]);
        },
        mn: function(t) {
            var e = [], n = [];
            if (0 != t.indexOf(ln.G1)) return [];
            for (var r = t.substring(ln.GLEN1, t.length - 3).split(/\),\(/), i = 0; i < r.length; i++) {
                var o = r[i].split(/,/);
                if (0 == i) this.gn(o, e); else {
                    for (var s = [], a = 0; a < o.length; a++) {
                        var u = o[a].split(" ");
                        s.push({
                            x: parseFloat(u[0]),
                            y: parseFloat(u[1])
                        });
                    }
                    n.push(s);
                }
            }
            return (t = []).push(e), t.push.apply(t, n), t;
        },
        wn: function(t) {
            return en(t);
        },
        dn: nn
    });
    var hn = new n(), fn = (ne = {
        STOP: 0,
        PASS: 1,
        PUSH: 2
    }, Object.freeze(ne), ne);
    function cn(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r;
    }
    function pn(t) {
        return (pn = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function yn(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== pn(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== pn(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === pn(t) ? t : String(t);
            }(r.key), r);
        }
    }
    n = function() {
        function t(e) {
            if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
            this.li = C.GROUP, this._n = new Map(), this.jn = -1, this.Jt = null, Object.assign(this, e);
        }
        var e, n;
        return e = t, (n = [ {
            key: "getType",
            value: function() {
                return this.li;
            }
        }, {
            key: "getBound",
            value: function() {
                return this.Jt || this.Sn(), this.Jt;
            }
        }, {
            key: "getChildren",
            value: function() {
                return this._n;
            }
        } ]) && yn(e.prototype, n), Object.defineProperty(e, "prototype", {
            writable: !1
        }), t;
    }();
    var dn = (Object.assign(n.prototype, {
        gi: function() {
            var t, e = function(t, e) {
                var n, r, i, o, s = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"];
                if (s) return r = !(n = !0), {
                    s: function() {
                        s = s.call(t);
                    },
                    n: function() {
                        var t = s.next();
                        return n = t.done, t;
                    },
                    e: function(t) {
                        r = !0, i = t;
                    },
                    f: function() {
                        try {
                            n || null == s.return || s.return();
                        } finally {
                            if (r) throw i;
                        }
                    }
                };
                if (Array.isArray(t) || (s = function(t, e) {
                    var n;
                    if (t) return "string" == typeof t ? cn(t, e) : "Map" === (n = "Object" === (n = Object.prototype.toString.call(t).slice(8, -1)) && t.constructor ? t.constructor.name : n) || "Set" === n ? Array.from(t) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? cn(t, e) : void 0;
                }(t)) || e && t && "number" == typeof t.length) return s && (t = s), o = 0, {
                    s: e = function() {},
                    n: function() {
                        return o >= t.length ? {
                            done: !0
                        } : {
                            done: !1,
                            value: t[o++]
                        };
                    },
                    e: function(t) {
                        throw t;
                    },
                    f: e
                };
                throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            }(this._n.values());
            try {
                for (e.s(); !(t = e.n()).done; ) {
                    var n = t.value;
                    n.gi && n.gi();
                }
            } catch (t) {
                e.e(t);
            } finally {
                e.f();
            }
            this._n.clear();
        },
        On: function(t) {
            var e = t._support(this);
            e == fn.PASS ? this._n.forEach(function(e) {
                e.On(t);
            }) : e == fn.PUSH && t.En.push(this);
        },
        Sn: function() {
            var t = this;
            this.Jt = new vt(), 0 != this._n.size && this._n.forEach(function(e) {
                t.Jt.Ht(e.getBound());
            });
        }
    }), n);
    function vn(t) {
        return (vn = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function bn(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== vn(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== vn(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === vn(t) ? t : String(t);
            }(r.key), r);
        }
    }
    ne = function() {
        function t() {
            if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
            this.jn = -1, this.li = C.NONE, this.Tn = null, this.Jt = null;
        }
        var e, n;
        return e = t, (n = [ {
            key: "getType",
            value: function() {
                return this.li;
            }
        }, {
            key: "getCoordinates",
            value: function() {
                return this.Tn;
            }
        }, {
            key: "getBound",
            value: function() {
                return this.Jt || this.Sn(), this.Jt;
            }
        } ]) && bn(e.prototype, n), Object.defineProperty(e, "prototype", {
            writable: !1
        }), t;
    }();
    var gn = (Object.assign(ne.prototype, {
        gi: function() {},
        On: function(t) {
            t._support(this) == fn.PUSH && t.En.push(this);
        }
    }), ne);
    function mn(t) {
        return (mn = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function On(t, e) {
        return (On = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t, e) {
            return t.__proto__ = e, t;
        })(t, e);
    }
    function xn(t) {
        if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return t;
    }
    function En(t) {
        return (En = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t);
        })(t);
    }
    n = function() {
        var t = r, e = gn;
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
        t.prototype = Object.create(e && e.prototype, {
            constructor: {
                value: t,
                writable: !0,
                configurable: !0
            }
        }), Object.defineProperty(t, "prototype", {
            writable: !1
        }), e && On(t, e);
        var n = function(t) {
            var e = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                if (Reflect.construct.sham) return !1;
                if ("function" == typeof Proxy) return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), 
                    !0;
                } catch (t) {
                    return !1;
                }
            }();
            return function() {
                var n, r = En(t);
                n = e ? (n = En(this).constructor, Reflect.construct(r, arguments, n)) : r.apply(this, arguments), 
                r = this;
                if (n && ("object" === mn(n) || "function" == typeof n)) return n;
                if (void 0 !== n) throw new TypeError("Derived constructors may only return object or undefined");
                return xn(r);
            };
        }(r);
        function r(t) {
            var e;
            if (this instanceof r) return (e = n.call(this)).jn = t.eid, e.li = C.POINT, Object.assign(xn(e), t), 
            e;
            throw new TypeError("Cannot call a class as a function");
        }
        return t = r, Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }();
    var _n = (Object.assign(n.prototype, {
        Sn: function() {
            this.Jt = new vt(), this.Tn && this.Jt.Qt(this.Tn);
        },
        On: function(t) {
            t._support(this) == fn.PUSH && t.En.push(this);
        }
    }), n);
    function Tn(t) {
        return (Tn = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function wn(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== Tn(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== Tn(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === Tn(t) ? t : String(t);
            }(r.key), r);
        }
    }
    function Sn(t, e) {
        return (Sn = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t, e) {
            return t.__proto__ = e, t;
        })(t, e);
    }
    function Rn(t) {
        if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return t;
    }
    function jn(t) {
        return (jn = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t);
        })(t);
    }
    ne = function() {
        var t = r, e = gn;
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
        t.prototype = Object.create(e && e.prototype, {
            constructor: {
                value: t,
                writable: !0,
                configurable: !0
            }
        }), Object.defineProperty(t, "prototype", {
            writable: !1
        }), e && Sn(t, e);
        var n = function(t) {
            var e = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                if (Reflect.construct.sham) return !1;
                if ("function" == typeof Proxy) return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), 
                    !0;
                } catch (t) {
                    return !1;
                }
            }();
            return function() {
                var n, r = jn(t);
                n = e ? (n = jn(this).constructor, Reflect.construct(r, arguments, n)) : r.apply(this, arguments), 
                r = this;
                if (n && ("object" === Tn(n) || "function" == typeof n)) return n;
                if (void 0 !== n) throw new TypeError("Derived constructors may only return object or undefined");
                return Rn(r);
            };
        }(r);
        function r(t) {
            var e;
            if (this instanceof r) return (e = n.call(this)).jn = t.eid, e.li = C.POLYGON, Object.assign(Rn(e), t), 
            e;
            throw new TypeError("Cannot call a class as a function");
        }
        return t = r, (e = [ {
            key: "getCenter",
            value: function() {
                return this.ri;
            }
        } ]) && wn(t.prototype, e), Object.defineProperty(t, "prototype", {
            writable: !1
        }), r;
    }();
    var An = (Object.assign(ne.prototype, {
        Sn: function() {
            var t = this;
            this.Jt = new vt(), this.Tn && this.Tn.forEach(function(e) {
                t.Jt.Qt(e);
            });
        },
        On: function(t) {
            t._support(this) == fn.PUSH && t.En.push(this);
        }
    }), ne);
    function Ln(t) {
        return (Ln = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    var Nn = [ "layerGroups" ], In = [ "layers" ];
    function Pn(t, e) {
        if (null == t) return {};
        var n, r = function(t, e) {
            if (null == t) return {};
            var n, r, i = {}, o = Object.keys(t);
            for (r = 0; r < o.length; r++) n = o[r], 0 <= e.indexOf(n) || (i[n] = t[n]);
            return i;
        }(t, e);
        if (Object.getOwnPropertySymbols) for (var i = Object.getOwnPropertySymbols(t), o = 0; o < i.length; o++) n = i[o], 
        0 <= e.indexOf(n) || Object.prototype.propertyIsEnumerable.call(t, n) && (r[n] = t[n]);
        return r;
    }
    function Dn(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== Ln(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== Ln(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === Ln(t) ? t : String(t);
            }(r.key), r);
        }
    }
    n = function(t, e, n) {
        return e && Dn(t.prototype, e), n && Dn(t, n), Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }(function t() {
        if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
        this.Rn = [ 1, 2, 3, 4 ], this.Nn = [ 6, 7, 9 ], this.kn = [ 31, 32 ], this.Mn = new Map(), 
        this.Mn.set(31, C.EXTENTGROUP), this.Mn.set(32, C.MODELGROUP), this.Mn.set(6, C.FACILITYGROUP), 
        this.Mn.set(7, C.LABELGROUP), this.Mn.set(9, C.EXTERNALMODELGROUP), this.In = new Map(), 
        this.In.set(31, [ "extentLayer", null ]), this.In.set(32, [ "modelLayer", "labelLayer" ]), 
        this.In.set(6, [ "poiLayer", null ]), this.In.set(7, [ "labelLayer", null ]), this.In.set(9, [ "externalModelLayer", null ]), 
        this.Di = new Oe();
    });
    var kn = (Object.assign(n.prototype, {
        An: function(t) {
            var e;
            return t ? (e = t.scene, this.Pn(e, t)) : null;
        },
        Pn: function(t, e) {
            var n = this, r = t.layerGroups, i = Pn(t, Nn), o = t.fileVer, s = new dn(i);
            return r.forEach(function(t) {
                var r = n.xn(t, e, o);
                s._n.set(t.gid, r);
            }), s;
        },
        xn: function(t, e, n) {
            var r = this, i = t.layers, o = Pn(t, In), s = new dn(o), a = e && e.floors ? e.floors.get(t.gid).geo[0] : null, u = e && e.floors ? e.floors.get(t.gid).biz[0] : null;
            return i.forEach(function(t) {
                6 === t.ltype && -1 !== t.lname.indexOf("storelabel") && (t.ltype = 7);
                var e = r.Ln(t, a, u, n);
                null !== e && s._n.set(r.Mn.get(t.ltype), e);
            }), this.Dn(s), s;
        },
        Dn: function(t) {
            var e = Array.from(t._n);
            e.sort(function(t, e) {
                return t[0] - e[0];
            }), t._n = new Map(e);
        },
        Ln: function(t, e, n, r) {
            var i;
            return -1 === this.Rn.indexOf(t.ltype) && this.In.get(t.ltype) ? (i = new dn(t), 
            this.Fn(i, e, n, r), i && (i.li = this.Mn.get(t.ltype)), i) : null;
        },
        Fn: function(t, e, n, r) {
            if (t) {
                var i = this.In.get(t.ltype);
                if (i) {
                    var o = e ? e[i[0]] : [], s = n ? n[i[0]] : [];
                    switch (t.ltype) {
                      case 6:
                        this.Gn(t, o, s, r, C.FACILITY);
                        break;

                      case 7:
                        this.Gn(t, o, s, r, C.LABEL);
                        break;

                      case 9:
                        this.Gn(t, o, s, r, C.EXTERNALMODEL);
                        break;

                      case 31:
                        this.Cn(t, o, s, r, C.EXTENT, null);
                        break;

                      case 32:
                        this.Cn(t, o, s, r, C.MODEL, e ? e[i[1]] : null);
                    }
                }
            }
        },
        Gn: function(t, e, n, r, i) {
            for (var o = 0; o < e.length; o++) {
                var s = this.Bn(e[o], n[o], r);
                s.li = i, t._n.set(e[o].eid, s);
            }
        },
        Bn: function(t, e, n) {
            return e = Object.assign({}, e, {
                area: t.area,
                eid: t.eid,
                height: t.height
            }), e = new _n(e), t.coordinates ? e.Tn = t.coordinates : (e.Tn = 1 == n ? hn.bn(t.geo) : sn.bn(t.idxs, t.pts), 
            t.coordinates = e.Tn), e;
        },
        Cn: function(t, e, n, r, i, o) {
            for (var s = 0; s < e.length; s++) {
                var a = this.Un(e[s], n[s], r, o ? o[s] : null);
                a.li = i, t._n.set(e[s].eid, a);
            }
        },
        Un: function(t, e, n, r) {
            return e = Object.assign({}, e, {
                area: t.area,
                eid: t.eid,
                height: t.height,
                baseheight: t.baseheight
            }), (e = new An(e)).Tn = 1 === n ? hn.mn(t.geo) : sn.mn(t.idxs, t.pts), r && (r.coordinates || (r.coordinates = 1 === n ? hn.bn(r.geo) : sn.bn(r.idxs, r.pts)), 
            e.ri = r.coordinates[0]), e;
        }
    }), n), Mn = 2, Wn = 4, Un = 8;
    function Cn(t) {
        return (Cn = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function Vn(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== Cn(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== Cn(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === Cn(t) ? t : String(t);
            }(r.key), r);
        }
    }
    ne = function() {
        function t() {
            if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
            this.Zn = new Map(), this.Wn = new Map(), this.pi = new Map(), this.Vn = new Map(), 
            this.qn = new Map(), this.Yn = new Map(), this.zn = [ 2, 3 ], this.Xn = !1, this.Di = new Oe(), 
            this.Hn = new kn(), this.Qn = new tn();
        }
        var e, n;
        return e = t, (n = [ {
            key: "load",
            value: function(t, e) {
                this.Kn(t, e);
            }
        }, {
            key: "loadWhole",
            value: function(t, e) {
                this.Jn(t, e);
            }
        }, {
            key: "getDecode",
            value: function(t) {
                return t = void 0 !== t.buildingID ? t.buildingID : t.mapID, this.$n({
                    buildingID: t
                });
            }
        }, {
            key: "getData",
            value: function(t) {
                return t = void 0 !== t.buildingID ? t.buildingID : t.mapID, this.Zn.get(t);
            }
        }, {
            key: "setCache",
            value: function(t) {
                this.Zn = t[0], this.Wn = t[1];
            }
        }, {
            key: "getCache",
            value: function() {
                return [ this.Zn, this.Wn ];
            }
        } ]) && Vn(e.prototype, n), Object.defineProperty(e, "prototype", {
            writable: !1
        }), t;
    }();
    for (var Fn = (Object.assign(ne.prototype, {
        gi: function(t) {
            this.Qn.gi(t), this.tr();
        },
        tr: function() {
            this.Zn.clear(), this.Zn = null, this.Wn.clear(), this.Wn = null, this.pi.clear(), 
            this.pi = null, this.Vn.clear(), this.Vn = null, this.qn.clear(), this.qn = null, 
            this.Yn.clear(), this.Yn = null, this._delayDisposeCallback && this._delayDisposeCallback({
                name: "DataManager"
            });
        },
        ir: function(t) {
            this.Vn.set(t.buildingID + t.uuid, null), this.qn.set(t.buildingID + t.uuid, null), 
            this.Yn.set(t.buildingID + t.uuid, 0);
        },
        Kn: function(t, e) {
            var n = this;
            this.ir(t), this.sn(t, function(r, i) {
                e && e(r, i);
                var o = n.nr(t);
                i = t.loadNavi && o.buildings && 0 < o.buildings.length;
                n.un(t, i, function(r, i) {
                    e && e(r, i);
                    for (var s = void 0 !== t.level ? t.level : parseInt(o.defGid), a = (n.rr(t, s, e), 
                    t.visibleLevels || o.levels), u = 0; u < a.length; u++) a[u] === s || o.levels.indexOf(a[u]) < 0 || n.rr(t, a[u], e);
                    if (t.preLoad) for (var l = 0; l < o.levels.length; l++) o.levels[l] !== s && -1 === a.indexOf(o.levels[l]) && n.rr(t, o.levels[l], e);
                }, function(t) {
                    e && e(r, t);
                });
            }, function(t, n) {
                e && e(t, n);
            });
        },
        un: function(t, e, n, r) {
            var i = this;
            e ? (e = this.er(t)) ? n && n("gate", e) : this.Qn.un(t, function(e) {
                i.Wn.get(t.buildingID).gate = e, n && n("gate", e);
            }, function(e) {
                var o;
                t.navigationData ? ((o = i.Wn.get(t.buildingID)).gate = t.navigationData, n && n("gate", o.gate)) : r("error", e);
            }) : n && n("gate", null);
        },
        sn: function(t, e, n) {
            var r = this, i = this.nr(t);
            i ? (e && e("scene", i), t.justDecode || (i = this.Zn.get(t.buildingID), e && e("building", i))) : this.Qn.sn(t, function(n) {
                t.isOutdoor && r.sr(n), r.Wn.set(t.buildingID, {
                    scene: n
                }), e && e("scene", n), t.justDecode || (n = r.Hn.Pn(n), r.Zn.set(t.buildingID, n), 
                e && e("building", n));
            }, function(t) {
                n && n("error", t === Zt ? Bt : t);
            });
        },
        sr: function(t) {
            var e = t.fileVer;
            t.buildings && 1 < e && t.buildings.forEach(function(t) {
                t.floors && (t.levelChart = [], t.fids = [], t.floors.forEach(function(e) {
                    e.Tn = sn.mn(e.idxs, e.pts), e.pgid && t.levelChart.push(e.pgid, e.gid), e.baseLevel && (t.minlevel = e.minlevel, 
                    t.maxlevel = e.maxlevel), e.fids && t.fids.push.apply(t.fids, e.fids);
                }));
            });
        },
        rr: function(t, e, n, r) {
            var i = this.Vn.get(t.buildingID + t.uuid);
            i || this.Vn.set(t.buildingID + t.uuid, i = []), r ? i.unshift(e) : i.push(e), this.Xn && 1 !== i.length || this.ur(t, n);
        },
        ur: function(t, e) {
            var n, r, i, o = this, s = this.nr(t);
            s && (n = this.Vn.get(t.buildingID + t.uuid)) && 0 !== n.length && ((r = this.qn.get(t.buildingID + t.uuid)) || this.qn.set(t.buildingID + t.uuid, r = []), 
            i = n[0], -1 !== r.indexOf(i) ? (n.splice(n.indexOf(i), 1), this.ur(t, e)) : (r.push(i), 
            this.ar(t, i, function(r, a) {
                var u = o.Yn.get(t.buildingID + t.uuid);
                "layerGroup" === r && (e && e(r, a), o.Yn.set(t.buildingID + t.uuid, ++u), u === s.layerGroups.length && e && e("decode", o.$n(t)), 
                n.splice(n.indexOf(i), 1), o.ur(t, e)), "layer" === r && e && e(r, a), "floor" === r && (e && e(r, a), 
                u === s.layerGroups.length) && e && e("complete", o.hr(t));
            }, function(t, n) {
                e && e(t, n);
            })));
        },
        ar: function(t, e, n, r) {
            var i, o, s, a, u, l, h = this, f = this.nr(t), c = this.lr(f, e);
            c ? (i = c.gname, c = c.naviType || 0, o = this.zn[0], s = 0, a = new Map(), u = t.merge, 
            l = function(r) {
                var i, l, h;
                o === ++s && (i = a.get("geo"), l = a.get("biz"), u && u.merge(e, i, l, f.fileVer), 
                n && n("layerGroup", a), t.justDecode || ((h = r.cr(t, e))._n.forEach(function(t) {
                    r.Hn.Fn(t, i, l, f.fileVer), n && n("layer", t);
                }), n && n("floor", h)));
            }, t.loadNavi && ((0 != (c & Mn) || f.fileVer < 3) && (o++, this.cn(t, e, i, function(t, e) {
                a.set(t, e), n && n(t, e), l(h);
            }, function(t) {
                r && r(t);
            })), 0 != (c & Wn) && (o++, this.vn(t, e, i, function(t, e) {
                a.set(t, e), n && n(t, e), l(h);
            }, function(t) {
                r && r(t);
            })), 0 != (c & Un)) && (o++, this.yn(t, e, i, function(t, e) {
                a.set(t, e), n && n(t, e), l(h);
            }, function(t) {
                r && r(t);
            })), this.an(t, e, i, function(t, e) {
                a.set(t, e), n && n(t, e), l(h);
            }, function(t) {
                r && r(t);
            }), this.hn(t, e, i, function(t, e) {
                a.set(t, e), n && n(t, e), l(h);
            }, function(t) {
                r && r(t);
            })) : r && r("error", Ht);
        },
        an: function(t, e, n, r, i) {
            var o = this, s = this.vr(t, e, "geo");
            s ? r && r("geo", s) : this.Qn.an(t, n, function(n) {
                o.yr(t, e, "geo", n), r && r("geo", n);
            }, function(t) {
                i && i("error", t);
            });
        },
        hn: function(t, e, n, r, i) {
            var o = this, s = this.vr(t, e, "biz");
            s ? r && r("biz", s) : this.Qn.hn(t, n, function(n) {
                o.yr(t, e, "biz", n), r && r("biz", n);
            }, function(t) {
                i && i("error", t);
            });
        },
        cn: function(t, e, n, r, i) {
            var o = this, s = this.vr(t, e, "navi");
            s ? r && r("navi", s) : this.Qn.cn(t, n, function(n) {
                o.yr(t, e, "navi", n), r && r("navi", n);
            }, function(t) {
                i && i("error", t);
            });
        },
        vn: function(t, e, n, r, i) {
            var o = this, s = this.vr(t, e, "drive_navi");
            s ? r && r("drive_navi", s) : this.Qn.vn(t, n, function(n) {
                o.yr(t, e, "drive_navi", n), r && r("drive_navi", n);
            }, function(t) {
                i && i("error", t);
            });
        },
        yn: function(t, e, n, r, i) {
            var o = this, s = this.vr(t, e, "accessible_navi");
            s ? r && r("drive_navi", s) : this.Qn.yn(t, n, function(n) {
                o.yr(t, e, "accessible_navi", n), r && r("accessible_navi", n);
            }, function(t) {
                i && i("error", t);
            });
        },
        Jn: function(t, e) {
            this.rn(t, function(t, n) {
                e && e(t, n);
            }, function(t, n) {
                e && e(t, n);
            });
        },
        rn: function(t, e, n) {
            var r = this, i = this.$n(t);
            i ? e && e("decode", i) : this.Qn.rn(t, function(n) {
                r.dr(t, n), i = r.$n(t), e && e("decode", i), t.justDecode || (n = r.Hn.An(i), r.Zn.set(t.buildingID, n), 
                e && e("complete", n));
            }, function(t) {
                n && n("error", t);
            });
        },
        hr: function(t) {
            if (this.Zn) return this.Zn.get(t.buildingID) || null;
        },
        cr: function(t, e) {
            return (t = this.Zn.get(t.buildingID)) ? t._n.get(e) : null;
        },
        dr: function(t, e) {
            var n = {
                scene: null,
                floors: new Map()
            }, r = this.Di.Oi(e);
            t.isOutdoor && this.sr(r), n.scene = r, n.gate = this.Di.Ti(e);
            for (var i = 0; i < r.layerGroups.length; i++) {
                var o = r.layerGroups[i], s = this.Di.Ni(e, o.gid), a = this.Di.Mi(e, o.gid), u = this.Di.Ai(e, o.gid), l = this.Di.xi(e, o.gid), h = this.Di.Li(e, o.gid), f = (t.merge && t.merge.merge(o.gid, s, a, r.fileVer), 
                new Map());
                f.set("geo", s), f.set("biz", a), f.set("navi", u), f.set("drive_navi", l), f.set("accessible_navi", h), 
                n.floors.set(o.gid, f);
            }
            this.Wn.set(t.buildingID, n);
        },
        $n: function(t) {
            if (!(n = this.Wn.get(t.buildingID))) return null;
            for (var e = n.scene, n = n.gate, r = new Map(), i = (n = {
                scene: e,
                floors: r,
                gate: n
            }, 0); i < e.layerGroups.length; i++) {
                var o, s = e.layerGroups[i], a = s.gid, u = {
                    gid: a,
                    gname: s.gname,
                    level: a,
                    geo: [],
                    biz: [],
                    navi: [],
                    naviDrive: [],
                    naviAccessible: []
                };
                (o = ((o = ((o = (u.geo.push(this.vr(t, a, "geo")), u.biz.push(this.vr(t, a, "biz")), 
                this.vr(t, a, "navi"))) && u.navi.push(o), this.vr(t, a, "drive_navi"))) && u.naviDrive.push(o), 
                this.vr(t, a, "accessible_navi"))) && u.naviAccessible.push(o), r.set(s.gid, u);
            }
            return n;
        },
        nr: function(t) {
            return (t = this.Wn.get(t.buildingID)) ? t.scene : null;
        },
        er: function(t) {
            return (t = this.Wn.get(t.buildingID)) ? t.gate : null;
        },
        yr: function(t, e, n, r) {
            var i;
            (t = this.Wn.get(t.buildingID)) && ((i = t.floors) || (i = new Map(), t.floors = i), 
            (t = i.get(e)) || (t = new Map(), i.set(e, t)), t.set(n, r));
        },
        vr: function(t, e, n) {
            return (t = (t = this.Wn.get(t.buildingID)) && t.floors) && (t = t.get(e)) ? t.get(n) : null;
        },
        lr: function(t, e) {
            if (null != t) for (var n = t.layerGroups, r = 0; r < n.length; r++) if (n[r].gid == e) return n[r];
            return null;
        }
    }), ne), Yn = [], Gn = 0; Gn < 256; Gn++) Yn[Gn] = (Gn < 16 ? "0" : "") + Gn.toString(16);
    var qn = {
        DEG2RAD: Math.PI / 180,
        RAD2DEG: 180 / Math.PI,
        generateUUID: function() {
            var t = 4294967295 * Math.random() | 0, e = 4294967295 * Math.random() | 0, n = 4294967295 * Math.random() | 0, r = 4294967295 * Math.random() | 0;
            return (Yn[255 & t] + Yn[t >> 8 & 255] + Yn[t >> 16 & 255] + Yn[t >> 24 & 255] + "-" + Yn[255 & e] + Yn[e >> 8 & 255] + "-" + Yn[e >> 16 & 15 | 64] + Yn[e >> 24 & 255] + "-" + Yn[63 & n | 128] + Yn[n >> 8 & 255] + "-" + Yn[n >> 16 & 255] + Yn[n >> 24 & 255] + Yn[255 & r] + Yn[r >> 8 & 255] + Yn[r >> 16 & 255] + Yn[r >> 24 & 255]).toUpperCase();
        },
        clamp: function(t, e, n) {
            return Math.max(e, Math.min(n, t));
        },
        euclideanModulo: function(t, e) {
            return (t % e + e) % e;
        },
        mapLinear: function(t, e, n, r, i) {
            return r + (t - e) * (i - r) / (n - e);
        },
        lerp: function(t, e, n) {
            return (1 - n) * t + n * e;
        },
        smoothstep: function(t, e, n) {
            return t <= e ? 0 : n <= t ? 1 : (t = (t - e) / (n - e)) * t * (3 - 2 * t);
        },
        smootherstep: function(t, e, n) {
            return t <= e ? 0 : n <= t ? 1 : (t = (t - e) / (n - e)) * t * t * (t * (6 * t - 15) + 10);
        },
        randInt: function(t, e) {
            return t + Math.floor(Math.random() * (e - t + 1));
        },
        randFloat: function(t, e) {
            return t + Math.random() * (e - t);
        },
        randFloatSpread: function(t) {
            return t * (.5 - Math.random());
        },
        degToRad: function(t) {
            return t * qn.DEG2RAD;
        },
        radToDeg: function(t) {
            return t * qn.RAD2DEG;
        },
        isPowerOfTwo: function(t) {
            return 0 == (t & t - 1) && 0 !== t;
        },
        ceilPowerOfTwo: function(t) {
            return Math.pow(2, Math.ceil(Math.log(t) / Math.LN2));
        },
        floorPowerOfTwo: function(t) {
            return Math.pow(2, Math.floor(Math.log(t) / Math.LN2));
        },
        setQuaternionFromProperEuler: function(t, e, n, r, i) {
            var o = Math.cos, s = Math.sin, a = o(n / 2), u = (n = s(n / 2), o((e + r) / 2)), l = s((e + r) / 2), h = o((e - r) / 2), f = s((e - r) / 2);
            o = o((r - e) / 2), s = s((r - e) / 2);
            "XYX" === i ? t.set(a * l, n * h, n * f, a * u) : "YZY" === i ? t.set(n * f, a * l, n * h, a * u) : "ZXZ" === i ? t.set(n * h, n * f, a * l, a * u) : "XZX" === i ? t.set(a * l, n * s, n * o, a * u) : "YXY" === i ? t.set(n * o, a * l, n * s, a * u) : "ZYZ" === i ? t.set(n * s, n * o, a * l, a * u) : console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order.");
        }
    }, Bn = {
        aliceblue: 15792383,
        antiquewhite: 16444375,
        aqua: 65535,
        aquamarine: 8388564,
        azure: 15794175,
        beige: 16119260,
        bisque: 16770244,
        black: 0,
        blanchedalmond: 16772045,
        blue: 255,
        blueviolet: 9055202,
        brown: 10824234,
        burlywood: 14596231,
        cadetblue: 6266528,
        chartreuse: 8388352,
        chocolate: 13789470,
        coral: 16744272,
        cornflowerblue: 6591981,
        cornsilk: 16775388,
        crimson: 14423100,
        cyan: 65535,
        darkblue: 139,
        darkcyan: 35723,
        darkgoldenrod: 12092939,
        darkgray: 11119017,
        darkgreen: 25600,
        darkgrey: 11119017,
        darkkhaki: 12433259,
        darkmagenta: 9109643,
        darkolivegreen: 5597999,
        darkorange: 16747520,
        darkorchid: 10040012,
        darkred: 9109504,
        darksalmon: 15308410,
        darkseagreen: 9419919,
        darkslateblue: 4734347,
        darkslategray: 3100495,
        darkslategrey: 3100495,
        darkturquoise: 52945,
        darkviolet: 9699539,
        deeppink: 16716947,
        deepskyblue: 49151,
        dimgray: 6908265,
        dimgrey: 6908265,
        dodgerblue: 2003199,
        firebrick: 11674146,
        floralwhite: 16775920,
        forestgreen: 2263842,
        fuchsia: 16711935,
        gainsboro: 14474460,
        ghostwhite: 16316671,
        gold: 16766720,
        goldenrod: 14329120,
        gray: 8421504,
        green: 32768,
        greenyellow: 11403055,
        grey: 8421504,
        honeydew: 15794160,
        hotpink: 16738740,
        indianred: 13458524,
        indigo: 4915330,
        ivory: 16777200,
        khaki: 15787660,
        lavender: 15132410,
        lavenderblush: 16773365,
        lawngreen: 8190976,
        lemonchiffon: 16775885,
        lightblue: 11393254,
        lightcoral: 15761536,
        lightcyan: 14745599,
        lightgoldenrodyellow: 16448210,
        lightgray: 13882323,
        lightgreen: 9498256,
        lightgrey: 13882323,
        lightpink: 16758465,
        lightsalmon: 16752762,
        lightseagreen: 2142890,
        lightskyblue: 8900346,
        lightslategray: 7833753,
        lightslategrey: 7833753,
        lightsteelblue: 11584734,
        lightyellow: 16777184,
        lime: 65280,
        limegreen: 3329330,
        linen: 16445670,
        magenta: 16711935,
        maroon: 8388608,
        mediumaquamarine: 6737322,
        mediumblue: 205,
        mediumorchid: 12211667,
        mediumpurple: 9662683,
        mediumseagreen: 3978097,
        mediumslateblue: 8087790,
        mediumspringgreen: 64154,
        mediumturquoise: 4772300,
        mediumvioletred: 13047173,
        midnightblue: 1644912,
        mintcream: 16121850,
        mistyrose: 16770273,
        moccasin: 16770229,
        navajowhite: 16768685,
        navy: 128,
        oldlace: 16643558,
        olive: 8421376,
        olivedrab: 7048739,
        orange: 16753920,
        orangered: 16729344,
        orchid: 14315734,
        palegoldenrod: 15657130,
        palegreen: 10025880,
        paleturquoise: 11529966,
        palevioletred: 14381203,
        papayawhip: 16773077,
        peachpuff: 16767673,
        peru: 13468991,
        pink: 16761035,
        plum: 14524637,
        powderblue: 11591910,
        purple: 8388736,
        rebeccapurple: 6697881,
        red: 16711680,
        rosybrown: 12357519,
        royalblue: 4286945,
        saddlebrown: 9127187,
        salmon: 16416882,
        sandybrown: 16032864,
        seagreen: 3050327,
        seashell: 16774638,
        sienna: 10506797,
        silver: 12632256,
        skyblue: 8900331,
        slateblue: 6970061,
        slategray: 7372944,
        slategrey: 7372944,
        snow: 16775930,
        springgreen: 65407,
        steelblue: 4620980,
        tan: 13808780,
        teal: 32896,
        thistle: 14204888,
        tomato: 16737095,
        turquoise: 4251856,
        violet: 15631086,
        wheat: 16113331,
        white: 16777215,
        whitesmoke: 16119285,
        yellow: 16776960,
        yellowgreen: 10145074
    }, zn = {
        h: 0,
        s: 0,
        l: 0
    }, Xn = {
        h: 0,
        s: 0,
        l: 0
    };
    function Zn(t, e, n) {
        return void 0 === e && void 0 === n ? this.set(t) : this.setRGB(t, e, n);
    }
    function Hn(t, e, n) {
        return n < 0 && (n += 1), 1 < n && --n, n < 1 / 6 ? t + 6 * (e - t) * n : n < .5 ? e : n < 2 / 3 ? t + 6 * (e - t) * (2 / 3 - n) : t;
    }
    function Jn(t) {
        return t < .04045 ? .0773993808 * t : Math.pow(.9478672986 * t + .0521327014, 2.4);
    }
    function Kn(t) {
        return t < .0031308 ? 12.92 * t : 1.055 * Math.pow(t, .41666) - .055;
    }
    function Qn(t) {
        return (Qn = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function $n(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== Qn(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== Qn(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === Qn(t) ? t : String(t);
            }(r.key), r);
        }
    }
    Object.assign(Zn.prototype, {
        isColor: !0,
        r: 1,
        g: 1,
        b: 1,
        set: function(t) {
            return t && t.isColor ? this.copy(t) : "number" == typeof t ? this.setHex(t) : "string" == typeof t && this.setStyle(t), 
            this;
        },
        setScalar: function(t) {
            return this.r = t, this.g = t, this.b = t, this;
        },
        setHex: function(t) {
            return t = Math.floor(t), this.r = (t >> 16 & 255) / 255, this.g = (t >> 8 & 255) / 255, 
            this.b = (255 & t) / 255, this;
        },
        setRGB: function(t, e, n) {
            return this.r = t, this.g = e, this.b = n, this;
        },
        setHSL: function(t, e, n) {
            return t = qn.euclideanModulo(t, 1), e = qn.clamp(e, 0, 1), n = qn.clamp(n, 0, 1), 
            0 === e ? this.r = this.g = this.b = n : (this.r = Hn(e = 2 * n - (n = n <= .5 ? n * (1 + e) : n + e - n * e), n, t + 1 / 3), 
            this.g = Hn(e, n, t), this.b = Hn(e, n, t - 1 / 3)), this;
        },
        setStyle: function(t) {
            function e(e) {
                void 0 !== e && parseFloat(e) < 1 && console.warn("THREE.Color: Alpha component of " + t + " will be ignored.");
            }
            if (u = /^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)) {
                var n, r, i, o, s = u[1], a = u[2];
                switch (s) {
                  case "rgb":
                  case "rgba":
                    if (n = /^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)) return this.r = Math.min(255, parseInt(n[1], 10)) / 255, 
                    this.g = Math.min(255, parseInt(n[2], 10)) / 255, this.b = Math.min(255, parseInt(n[3], 10)) / 255, 
                    e(n[5]), this;
                    if (n = /^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)) return this.r = Math.min(100, parseInt(n[1], 10)) / 100, 
                    this.g = Math.min(100, parseInt(n[2], 10)) / 100, this.b = Math.min(100, parseInt(n[3], 10)) / 100, 
                    e(n[5]), this;
                    break;

                  case "hsl":
                  case "hsla":
                    if (n = /^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)) return r = parseFloat(n[1]) / 360, 
                    i = parseInt(n[2], 10) / 100, o = parseInt(n[3], 10) / 100, e(n[5]), this.setHSL(r, i, o);
                }
            } else if (u = /^\#([A-Fa-f0-9]+)$/.exec(t)) {
                var u = (s = u[1]).length;
                if (3 === u) return this.r = parseInt(s.charAt(0) + s.charAt(0), 16) / 255, this.g = parseInt(s.charAt(1) + s.charAt(1), 16) / 255, 
                this.b = parseInt(s.charAt(2) + s.charAt(2), 16) / 255, this;
                if (6 === u) return this.r = parseInt(s.charAt(0) + s.charAt(1), 16) / 255, this.g = parseInt(s.charAt(2) + s.charAt(3), 16) / 255, 
                this.b = parseInt(s.charAt(4) + s.charAt(5), 16) / 255, this;
            }
            return t && 0 < t.length ? this.setColorName(t) : this;
        },
        setColorName: function(t) {
            var e = Bn[t];
            return void 0 !== e ? this.setHex(e) : console.warn("THREE.Color: Unknown color " + t), 
            this;
        },
        clone: function() {
            return new this.constructor(this.r, this.g, this.b);
        },
        copy: function(t) {
            return this.r = t.r, this.g = t.g, this.b = t.b, this;
        },
        copyGammaToLinear: function(t, e) {
            return void 0 === e && (e = 2), this.r = Math.pow(t.r, e), this.g = Math.pow(t.g, e), 
            this.b = Math.pow(t.b, e), this;
        },
        copyLinearToGamma: function(t, e) {
            return e = 0 < (e = void 0 === e ? 2 : e) ? 1 / e : 1, this.r = Math.pow(t.r, e), 
            this.g = Math.pow(t.g, e), this.b = Math.pow(t.b, e), this;
        },
        convertGammaToLinear: function(t) {
            return this.copyGammaToLinear(this, t), this;
        },
        convertLinearToGamma: function(t) {
            return this.copyLinearToGamma(this, t), this;
        },
        copySRGBToLinear: function(t) {
            return this.r = Jn(t.r), this.g = Jn(t.g), this.b = Jn(t.b), this;
        },
        copyLinearToSRGB: function(t) {
            return this.r = Kn(t.r), this.g = Kn(t.g), this.b = Kn(t.b), this;
        },
        convertSRGBToLinear: function() {
            return this.copySRGBToLinear(this), this;
        },
        convertLinearToSRGB: function() {
            return this.copyLinearToSRGB(this), this;
        },
        getHex: function() {
            return 255 * this.r << 16 ^ 255 * this.g << 8 ^ 255 * this.b << 0;
        },
        getHexString: function() {
            return ("000000" + this.getHex().toString(16)).slice(-6);
        },
        getHSL: function(t) {
            void 0 === t && (console.warn("THREE.Color: .getHSL() target is now required"), 
            t = {
                h: 0,
                s: 0,
                l: 0
            });
            var e, n = this.r, r = this.g, i = this.b, o = Math.max(n, r, i), s = Math.min(n, r, i), a = (s + o) / 2;
            if (s === o) l = e = 0; else {
                var u = o - s, l = a <= .5 ? u / (o + s) : u / (2 - o - s);
                switch (o) {
                  case n:
                    e = (r - i) / u + (r < i ? 6 : 0);
                    break;

                  case r:
                    e = (i - n) / u + 2;
                    break;

                  case i:
                    e = (n - r) / u + 4;
                }
                e /= 6;
            }
            return t.h = e, t.s = l, t.l = a, t;
        },
        getStyle: function() {
            return "rgb(" + (255 * this.r | 0) + "," + (255 * this.g | 0) + "," + (255 * this.b | 0) + ")";
        },
        offsetHSL: function(t, e, n) {
            return this.getHSL(zn), zn.h += t, zn.s += e, zn.l += n, this.setHSL(zn.h, zn.s, zn.l), 
            this;
        },
        add: function(t) {
            return this.r += t.r, this.g += t.g, this.b += t.b, this;
        },
        addColors: function(t, e) {
            return this.r = t.r + e.r, this.g = t.g + e.g, this.b = t.b + e.b, this;
        },
        addScalar: function(t) {
            return this.r += t, this.g += t, this.b += t, this;
        },
        sub: function(t) {
            return this.r = Math.max(0, this.r - t.r), this.g = Math.max(0, this.g - t.g), this.b = Math.max(0, this.b - t.b), 
            this;
        },
        multiply: function(t) {
            return this.r *= t.r, this.g *= t.g, this.b *= t.b, this;
        },
        multiplyScalar: function(t) {
            return this.r *= t, this.g *= t, this.b *= t, this;
        },
        lerp: function(t, e) {
            return this.r += (t.r - this.r) * e, this.g += (t.g - this.g) * e, this.b += (t.b - this.b) * e, 
            this;
        },
        lerpHSL: function(t, e) {
            this.getHSL(zn), t.getHSL(Xn);
            t = qn.lerp(zn.h, Xn.h, e);
            var n = qn.lerp(zn.s, Xn.s, e);
            e = qn.lerp(zn.l, Xn.l, e);
            return this.setHSL(t, n, e), this;
        },
        equals: function(t) {
            return t.r === this.r && t.g === this.g && t.b === this.b;
        },
        fromArray: function(t, e) {
            return this.r = t[e = void 0 === e ? 0 : e], this.g = t[e + 1], this.b = t[e + 2], 
            this;
        },
        toArray: function(t, e) {
            return (t = void 0 === t ? [] : t)[e = void 0 === e ? 0 : e] = this.r, t[e + 1] = this.g, 
            t[e + 2] = this.b, t;
        }
    }), Zn.NAMES = Bn;
    var tr = function() {
        function t() {
            if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
        }
        var e, n;
        return e = t, n = [ {
            key: "round",
            value: function(t) {
                return 0 < t.toFixed(2) ? Math.ceil(t.toFixed(2)) : Math.floor(t.toFixed(2));
            }
        }, {
            key: "generateUUID",
            value: function() {
                for (var t = [], e = 0; e < 256; e++) t[e] = (e < 16 ? "0" : "") + e.toString(16);
                var n = 4294967295 * Math.random() | 0, r = 4294967295 * Math.random() | 0, i = 4294967295 * Math.random() | 0, o = 4294967295 * Math.random() | 0;
                n = t[255 & n] + t[n >> 8 & 255] + t[n >> 16 & 255] + t[n >> 24 & 255] + "-" + t[255 & r] + t[r >> 8 & 255] + "-" + t[r >> 16 & 15 | 64] + t[r >> 24 & 255] + "-" + t[63 & i | 128] + t[i >> 8 & 255] + "-" + t[i >> 16 & 255] + t[i >> 24 & 255] + t[255 & o] + t[o >> 8 & 255] + t[o >> 16 & 255] + t[o >> 24 & 255];
                return t.length = 0, n.toUpperCase();
            }
        }, {
            key: "findNearNthPowerOfTwo",
            value: function(t) {
                return t -= 1, (t = (t = (t = (t = (t |= t >> 1) | t >> 2) | t >> 4) | t >> 8) | t >> 16) < 0 ? 1 : 1 + t;
            }
        }, {
            key: "rgbToArray",
            value: function(t) {
                var e = new Zn();
                return e.setStyle(t), [ e.r, e.g, e.b ];
            }
        }, {
            key: "toRgba",
            value: function(t) {
                var e;
                return void 0 === t ? t : "number" != typeof t ? 3 <= (e = t.split(",")).length ? "rgba(" + parseInt(e[0]) + "," + parseInt(e[1]) + "," + parseInt(e[2]) + ",1)" : t : "rgba(" + parseInt(255 * new Zn(t).r) + "," + parseInt(255 * new Zn(t).g) + "," + parseInt(255 * new Zn(t).b) + ",1)";
            }
        }, {
            key: "toColor",
            value: function(t) {
                var e;
                return "number" == typeof t ? t : 3 <= (e = t.split(",")).length ? parseInt(e[0]) << 16 | parseInt(e[1]) << 8 | parseInt(e[2]) : (console.error("color format error", t), 
                0);
            }
        }, {
            key: "cov",
            value: function(t) {
                for (var e = [], n = [ 0, 0 ], r = [], i = 0; i < t.length; i++) n[0] += t[i].x, 
                n[1] += t[i].y;
                n[0] = n[0] / t.length, n[1] = n[1] / t.length;
                for (var o = 0; o < t.length; o++) r.push([ t[o].x - n[0], t[o].y - n[1] ]);
                for (var s = [], a = 0; a < r[0].length; a++) {
                    for (var u = [], l = 0; l < r.length; l++) u.push(r[l][a]);
                    s.push(u);
                }
                for (var h = 0; h < s.length; h++) {
                    for (var f = [], c = 0; c < r[0].length; c++) {
                        for (var p = 0, y = 0; y < s[h].length; y++) p += s[h][y] * r[y][c];
                        p /= t.length - 1, f.push(p);
                    }
                    e.push(f);
                }
                return e;
            }
        }, {
            key: "eig",
            value: function(t) {
                var e = (t[0][0] + t[1][1]) / 2, n = t[0][0] * t[1][1] - t[1][0] * t[0][1], r = e + Math.sqrt(e * e - n);
                e -= Math.sqrt(e * e - n);
                return 0 == t[0][1] && 0 == t[1][0] ? {
                    eigValue: [ r, e ],
                    eigVect: [ [ 1, 0 ], [ 0, 1 ] ]
                } : (n = (r - t[0][0]) / t[0][1], t = (e - t[0][0]) / t[0][1], {
                    eigValue: [ r, e ],
                    eigVect: [ [ 1 / Math.sqrt(1 + n * n), n / Math.sqrt(1 + n * n) ], [ 1 / Math.sqrt(1 + t * t), t / Math.sqrt(1 + t * t) ] ]
                });
            }
        } ], null && $n(e.prototype, null), n && $n(e, n), Object.defineProperty(e, "prototype", {
            writable: !1
        }), t;
    }();
    function er(t, e) {
        var n, r, i, o, s = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"];
        if (s) return r = !(n = !0), {
            s: function() {
                s = s.call(t);
            },
            n: function() {
                var t = s.next();
                return n = t.done, t;
            },
            e: function(t) {
                r = !0, i = t;
            },
            f: function() {
                try {
                    n || null == s.return || s.return();
                } finally {
                    if (r) throw i;
                }
            }
        };
        if (Array.isArray(t) || (s = function(t, e) {
            var n;
            if (t) return "string" == typeof t ? nr(t, e) : "Map" === (n = "Object" === (n = Object.prototype.toString.call(t).slice(8, -1)) && t.constructor ? t.constructor.name : n) || "Set" === n ? Array.from(t) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? nr(t, e) : void 0;
        }(t)) || e && t && "number" == typeof t.length) return s && (t = s), o = 0, {
            s: e = function() {},
            n: function() {
                return o >= t.length ? {
                    done: !0
                } : {
                    done: !1,
                    value: t[o++]
                };
            },
            e: function(t) {
                throw t;
            },
            f: e
        };
        throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }
    function nr(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r;
    }
    function rr(t) {
        return (rr = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function ir(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== rr(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== rr(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === rr(t) ? t : String(t);
            }(r.key), r);
        }
    }
    n = function() {
        function t(e, n, r) {
            if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
            this.pi = Object.assign({
                tile: !0,
                isPreview: !1
            }, e), this.pi.buildingID = e.mapID, this.br = !!e.map, this.pr = e.map ? e.map.getDataManager() : new Fn(), 
            this.bi = [], this.mr = {}, this.wr = e.statistics || null, this.gr = n, this._r = r, 
            this.jr = tr.generateUUID(), this.Sr();
        }
        var e, n;
        return e = t, (n = [ {
            key: "dispose",
            value: function() {
                this.pi = null, this.br || this.pr.gi(), this.pr = null, this.gr = null, this._r = null;
            }
        }, {
            key: "query",
            value: function(t, e) {
                if (this.Or(), null === t.buildings) {
                    for (var n = [], r = 0; r < this.bi.length; r++) n.push({
                        buildingID: this.bi[r].bid
                    });
                    t.buildings = n;
                }
                var i = [];
                if (!t.onlyInBuilding) {
                    t.buildingID = this.pi.mapID, null === t.buildingID && (t.buildingID = this.pi.mapID);
                    for (var o = this.Er(t), s = 0; s < o.length; s++) o[s].buildingID = null, i.push(o[s]);
                }
                for (var a = t.buildings, u = 0; u < a.length; u++) for (var l = this.Tr(a[u].buildingID), h = (t.buildingID = l, 
                t.levels = a[u].levels, this.Er(t)), f = 0; f < h.length; f++) h[f].buildingID = a[u].buildingID, 
                i.push(h[f]);
                e && e(i);
            }
        } ]) && ir(e.prototype, n), Object.defineProperty(e, "prototype", {
            writable: !1
        }), t;
    }(), Object.assign(n.prototype, {
        Sr: function() {
            this.bi = [], this.br && (t = this.pi.map.getMapOptions(), this.pi.mapID = t.mapID, 
            this.pi.buildingID = t.mapID, this.pi.appName = t.appName, this.pi.key = t.key, 
            this.pi.license = t.license, this.pi.mapURL = t.mapURL, this.pi.mapURLAbsolute = t.mapURLAbsolute, 
            this.pi.buildings = t.buildings, this.pi.buildingOptions = t.buildingOptions, this.pi.isPreview = "undefined" != typeof KjWzhWlSj && !!KjWzhWlSj.ProtoDef, 
            this.pi.tile = t.tile);
            var t = {
                mapID: this.pi.mapID,
                buildingID: this.pi.mapID,
                appName: this.pi.appName,
                key: this.pi.key,
                buildings: this.pi.buildings,
                license: this.pi.license,
                mapURL: this.pi.mapURL,
                mapURLAbsolute: this.pi.mapURLAbsolute,
                merge: this.pi.merge,
                tile: this.pi.tile,
                preLoad: !0,
                isPreview: "undefined" != typeof KjWzhWlSj && !!KjWzhWlSj.ProtoDef,
                uuid: this.jr,
                bid: this.pi.buildingID || null,
                isOutdoor: !0
            };
            this.Rr(t);
        },
        Rr: function(t) {
            var e = this;
            setTimeout(function() {
                e.pi.tile ? e.pr.load(t, function(n, r) {
                    e.Nr(n, r, t.isOutdoor), e.wr && e.wr._analyse(n, r, t);
                }) : e.pr.loadWhole(t, function(n, r) {
                    e.Nr(n, r, t.isOutdoor), e.wr && e.wr._analyse(n, r, t);
                });
            }, 0);
        },
        Or: function() {
            if (!(0 < this.bi.length)) {
                var t = this.pi.mapID, e = this.pr.getData({
                    buildingID: t
                });
                if (e && e.buildings) for (var n = 0; n < e.buildings.length; n++) this.bi.push(e.buildings[n]);
            }
        },
        Nr: function(t, e, n) {
            if ("error" == t && this._r && this._r(e), "decode" === t) {
                if (n && (this.mr["" + e.scene.mid] = !1, e.scene.buildings) && 0 < e.scene.buildings.length) for (var r = 0; r < e.scene.buildings.length; r++) {
                    var i = e.scene.buildings[r], o = ((o = {
                        mapID: this.pi.mapID,
                        buildingID: null,
                        appName: this.pi.appName,
                        key: this.pi.key,
                        license: this.pi.license,
                        mapURL: this.pi.mapURL,
                        mapURLAbsolute: this.pi.mapURLAbsolute,
                        merge: this.pi.merge,
                        loadNavi: !0,
                        preLoad: !0,
                        isPreview: "undefined" != typeof KjWzhWlSj,
                        tile: this.pi.tile,
                        type: this.pi.type,
                        bid: null,
                        isOutdoor: !1,
                        uuid: this.jr
                    }).buildingID = i.mid, o.bid = i.bid, Object.assign({}, o));
                    this.mr["" + i.mid] = !1, this.Rr(o);
                }
                if (this.br && !this.pi.tile) {
                    var s, a = this.mr["" + e.scene.mid] = !0;
                    for (s in this.mr) this.mr[s] || (a = !1);
                    a && this.gr && this.gr();
                }
            }
            if ("complete" == t) {
                var u, l = this.mr["" + e.mid] = !0;
                for (u in this.mr) this.mr[u] || (l = !1);
                l && this.gr && this.gr();
            }
        },
        kr: function(t) {
            var e = C.NONE;
            return 0 != (t.li & C.MODEL) && (e |= C.MODELGROUP), 0 != (t.li & C.LABEL) && (e |= C.LABELGROUP), 
            0 != (t.li & C.FACILITY) && (e |= C.FACILITYGROUP), 0 != (t.li & C.EXTERNALMODEL) && (e |= C.EXTERNALMODELGROUP), 
            e;
        },
        Mr: function(t) {
            if (Array.isArray(t.fi)) return t.fi;
            var e = this.pi;
            if (!(t = (null !== t.buildingID && (e = {
                buildingID: t.buildingID,
                mapID: t.buildingID
            }), this.pr.getData(e)))) return [];
            var n, r = [], i = er(t.getChildren());
            try {
                for (i.s(); !(n = i.n()).done; ) {
                    var o = n.value;
                    r.push(o[1].gid);
                }
            } catch (t) {
                i.e(t);
            } finally {
                i.f();
            }
            return r;
        },
        Ir: function(t, e, n, r) {
            if (0 != e) for (var i = 0; i < e; i++) {
                if (!t[i].C(n)) return !1;
                t[i].B(n, r);
            }
            return !0;
        },
        Ar: function(t, e, n) {
            return {
                level: t,
                type: e.getType(),
                FID: e.fid,
                name: e.name,
                ename: e.ename,
                eid: e.eid,
                typeID: e.type,
                center: void 0 !== e.getCenter ? Object.assign({
                    z: e.height
                }, e.getCenter()) : Object.assign({
                    z: e.height
                }, e.getCoordinates()[0]),
                distance: n.lt
            };
        },
        Pr: function(t) {
            t.sort(function(t, e) {
                return t.level == e.level && t.type == e.type && t.distance && e.distance ? t.distance - e.distance : 0;
            });
        },
        Er: function(t, e, n) {
            var r = this.pi;
            if (!(r = (null !== t.buildingID && (r = {
                buildingID: t.buildingID,
                mapID: t.buildingID
            }), this.pr.getData(r)))) return [];
            var i = this.Mr(t), o = this.kr(t);
            if (o === C.NONE) return [];
            var s, a = t.yi, u = a.length, l = [], h = er(r.getChildren());
            try {
                for (h.s(); !(s = h.n()).done; ) {
                    var f = s.value, c = f[0];
                    if (-1 !== i.indexOf(c)) {
                        var p, y = er(f[1].getChildren());
                        try {
                            for (y.s(); !(p = y.n()).done; ) {
                                var d = p.value[1];
                                if (0 != (d.getType() & o)) {
                                    var v, b = er(d.getChildren());
                                    try {
                                        for (b.s(); !(v = b.n()).done; ) {
                                            var g = v.value[1], m = {
                                                lt: void 0
                                            };
                                            this.Ir(a, u, g, m) && l.push(this.Ar(c, g, m));
                                        }
                                    } catch (t) {
                                        b.e(t);
                                    } finally {
                                        b.f();
                                    }
                                }
                            }
                        } catch (t) {
                            y.e(t);
                        } finally {
                            y.f();
                        }
                    }
                }
            } catch (t) {
                h.e(t);
            } finally {
                h.f();
            }
            return l;
        },
        Tr: function(t) {
            for (var e = null, n = this.bi, r = 0; r < n.length; r++) if (n[r].bid === t) {
                e = n[r].mid;
                break;
            }
            return e;
        }
    }), ne = n;
    var or = {
        NaviNodeType_NULL: -1,
        NaviNodeType_COMMON: 0,
        NaviNodeType_SIDE: 1,
        NaviNodeType_FLOOR: 2,
        NaviNodeType_EXTENT: 3,
        NaviLiftType_NULL: 0,
        NaviLiftType_Lift: 1,
        NaviLiftType_Stair: 2,
        NaviLiftType_Escalator: 3,
        NaviLiftType_Accessible: 4,
        NaviLiftType_Ramp: 5,
        NaviLiftEntry_BOTH: 0,
        NaviLiftEntry_UP: 1,
        NaviLiftEntry_DOWN: 2,
        NaviLiftEntry_FORBID: 3,
        NaviEntranceType_NULL: 0,
        NaviEntranceType_EXIT: 1,
        NaviEntranceType_ENTRANCE: 2,
        NaviEntranceType_ACCESS: 3,
        NaviRoadRank_MAIN: 1,
        NaviRoadRank_MINOR: 2,
        NaviRoadRank_NARROW: 3,
        NaviRoadEntry_BOTH: 0,
        NaviRoadEntry_FORWARD: 1,
        NaviRoadEntry_BACK: 2,
        NaviRoadEntry_FORBID: 3,
        NaviRoadPass_NULL: -1,
        NaviRoadPass_NOT_THROUGH: 0,
        NaviRoadPass_THROUGH: 1,
        NaviZoneType_NULL: -1,
        NaviZoneType_PASS_UNRESTRAINT: 0,
        NaviZoneType_PASS_THROUGH: 1,
        NaviZoneType_PASS_NOT_THROUGH: 2,
        NaviZoneType_NO_ENTRY: 3,
        NaviZoneType_CORRIDOR: 4,
        NaviModelPassType_PASS_THROUGH: 0,
        NaviModelPassType_PASS_NOT_THROUGH: 1,
        NaviModelPassType_NOT_PASS: 2,
        NaviModelPassType_DECORATE: 3,
        NaviRoadHinderType_HINDER_GENERAL: 0,
        NaviRoadHinderType_HINDER_HIGH: 1,
        NaviObstructType_MODEL: 0,
        NaviObstructType_EXTENT: 1
    }, sr = 1, ar = 0, ur = 0, lr = 1, hr = 2;
    function fr(t) {
        return (fr = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function cr(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== fr(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== fr(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === fr(t) ? t : String(t);
            }(r.key), r);
        }
    }
    n = function() {
        function t(e, n, r, i) {
            if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
            this.Lr = e, this.Dr = n, this.Fr = r || [], this.Gr = i || [];
        }
        var e, n;
        return e = t, (n = [ {
            key: "level",
            get: function() {
                return this.Lr;
            }
        }, {
            key: "length",
            get: function() {
                return this.Dr;
            }
        }, {
            key: "pointList",
            get: function() {
                for (var t = [], e = 0, n = this.Fr.length; e < n; e++) t.push({
                    x: this.Fr[e].x,
                    y: this.Fr[e].y,
                    level: this.Lr
                });
                return t;
            }
        } ]) && cr(e.prototype, n), Object.defineProperty(e, "prototype", {
            writable: !1
        }), t;
    }();
    var pr = (Object.assign(n.prototype, {
        gi: function() {
            this.Fr = [], this.Gr = [];
        }
    }), n);
    function yr(t) {
        return (yr = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function dr(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== yr(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== yr(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === yr(t) ? t : String(t);
            }(r.key), r);
        }
    }
    var vr = function() {
        function t() {
            var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : 0, n = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 0, r = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : 0, i = this, o = t;
            if (!(i instanceof o)) throw new TypeError("Cannot call a class as a function");
            Object.defineProperty(this, "isVector3", {
                value: !0
            }), this.x = e, this.y = n, this.z = r;
        }
        var e, n;
        return e = t, (n = [ {
            key: "set",
            value: function(t, e, n) {
                return void 0 === n && (n = this.z), this.x = t, this.y = e, this.z = n, this;
            }
        }, {
            key: "clone",
            value: function() {
                return new this.constructor(this.x, this.y, this.z);
            }
        }, {
            key: "copy",
            value: function(t) {
                return this.x = t.x, this.y = t.y, this.z = t.z, this;
            }
        }, {
            key: "sub",
            value: function(t, e) {
                return void 0 !== e ? (console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."), 
                this.subVectors(t, e)) : (this.x -= t.x, this.y -= t.y, this.z -= t.z, this);
            }
        }, {
            key: "subVectors",
            value: function(t, e) {
                return this.x = t.x - e.x, this.y = t.y - e.y, this.z = t.z - e.z, this;
            }
        }, {
            key: "multiplyScalar",
            value: function(t) {
                return this.x *= t, this.y *= t, this.z *= t, this;
            }
        }, {
            key: "dot",
            value: function(t) {
                return this.x * t.x + this.y * t.y + this.z * t.z;
            }
        }, {
            key: "lengthSq",
            value: function() {
                return this.x * this.x + this.y * this.y + this.z * this.z;
            }
        }, {
            key: "length",
            value: function() {
                return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);
            }
        }, {
            key: "cross",
            value: function(t, e) {
                return void 0 !== e ? (console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."), 
                this.crossVectors(t, e)) : this.crossVectors(this, t);
            }
        }, {
            key: "crossVectors",
            value: function(t, e) {
                var n = t.x, r = t.y, i = (t = t.z, e.x), o = e.y;
                e = e.z;
                return this.x = r * e - t * o, this.y = t * i - n * e, this.z = n * o - r * i, this;
            }
        }, {
            key: "angleTo",
            value: function(t) {
                var e = Math.sqrt(this.lengthSq() * t.lengthSq());
                return 0 === e ? Math.PI / 2 : (t = this.dot(t) / e, e = Math.max(-1, Math.min(1, t)), 
                Math.acos(e));
            }
        }, {
            key: "normalize",
            value: function() {
                return this.divideScalar(this.length() || 1);
            }
        }, {
            key: "divideScalar",
            value: function(t) {
                return this.multiplyScalar(1 / t);
            }
        } ]) && dr(e.prototype, n), Object.defineProperty(e, "prototype", {
            writable: !1
        }), t;
    }();
    function br(t) {
        return (br = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function gr(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== br(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== br(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === br(t) ? t : String(t);
            }(r.key), r);
        }
    }
    n = function(t, e, n) {
        return e && gr(t.prototype, e), n && gr(t, n), Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }(function t() {
        if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
        this.jn = 0, this.ai = {}, this.li = 0, this.Cr = [], this.Br = [], this.Ur = 0, 
        this.Zr = [], this.Wr = !1, this.Vr = !1, this.qr = 0, this.Yr = !1, this.zr = [];
    });
    var mr = (Object.assign(n.prototype, {
        set Xr(t) {
            -1 != t && (this.li |= t);
        },
        get Xr() {
            return 3 & this.li;
        },
        set Hr(t) {
            this.li |= t << 2;
        },
        get Hr() {
            return this.li >> 2 & 7;
        },
        set Qr(t) {
            this.li |= t << 5;
        },
        get Qr() {
            return this.li >> 5 & 3;
        },
        Sr: function(t) {
            this.jn = t, this.ai = {
                x: 0,
                y: 0
            }, this.li = 0, this.Ur = 0, this.Wr = !1, this.Vr = !1;
        },
        Kr: function(t) {
            return this.jn == t.jn;
        },
        Jr: function(t) {
            this.jn = t.jn, this.ai = Object.assign({}, t.ai), this.li = t.li, this.Cr = [];
            for (var e = 0; e < t.Cr.length; e++) this.Cr[e] = t.Cr[e];
            this.Br = [];
            for (var n = 0; n < t.Br.length; n++) this.Br[n] = t.Br[n];
            this.Ur = t.Ur, this.Zr = [];
            for (var r = 0; r < t.Zr.length; r++) this.Zr[r] = t.Zr[r];
            this.Wr = t.Wr, this.Vr = t.Vr;
        }
    }), n);
    function Or(t) {
        return (Or = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function xr(t, e) {
        return (xr = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t, e) {
            return t.__proto__ = e, t;
        })(t, e);
    }
    function Er(t) {
        return (Er = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t);
        })(t);
    }
    var _r = function() {
        var t = r, e = mr;
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
        t.prototype = Object.create(e && e.prototype, {
            constructor: {
                value: t,
                writable: !0,
                configurable: !0
            }
        }), Object.defineProperty(t, "prototype", {
            writable: !1
        }), e && xr(t, e);
        var n = function(t) {
            var e = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                if (Reflect.construct.sham) return !1;
                if ("function" == typeof Proxy) return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), 
                    !0;
                } catch (t) {
                    return !1;
                }
            }();
            return function() {
                var n, r = Er(t);
                n = e ? (n = Er(this).constructor, Reflect.construct(r, arguments, n)) : r.apply(this, arguments), 
                r = this;
                if (n && ("object" === Or(n) || "function" == typeof n)) return n;
                if (void 0 !== n) throw new TypeError("Derived constructors may only return object or undefined");
                if (void 0 !== r) return r;
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            };
        }(r);
        function r() {
            var t;
            if (this instanceof r) return (t = n.call(this)).$r = 0, t.Lr = 0, t.te = null, 
            t.qr = 0, t.ie = null, t.Hr = null, t;
            throw new TypeError("Cannot call a class as a function");
        }
        return t = r, Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }();
    function Tr(t) {
        return (Tr = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function wr(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== Tr(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== Tr(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === Tr(t) ? t : String(t);
            }(r.key), r);
        }
    }
    n = function(t, e, n) {
        return e && wr(t.prototype, e), n && wr(t, n), Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }(function t() {
        if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
        this.jn = 0, this.ne = -1, this.Wt = {}, this.re = -1, this.Vt = {}, this.Dr = 0, 
        this.li = 0, this.ee = [], this.oe = -1, this.se = !1, this.ue = 0;
    });
    var Sr = (Object.assign(n.prototype, {
        set ae(t) {
            this.li |= t;
        },
        get ae() {
            return 3 & this.li;
        },
        set fe(t) {
            this.li |= t << 2;
        },
        get fe() {
            return this.li >> 2 & 3;
        },
        set he(t) {
            this.li |= t << 4;
        },
        get he() {
            return this.li >> 4 & 3;
        },
        set le(t) {
            t ? this.li |= 16 : this.li &= -17;
        },
        get le() {
            return 16 & this.li ? 1 : 0;
        },
        ce: function(t) {
            this.jn = t.jn, this.ne = t.ne, this.Wt = Object.assign({}, t.Wt), this.re = t.re, 
            this.Vt = Object.assign({}, t.Vt), this.Dr = t.Dr, this.li = t.li, this.ee = [], 
            this.oe = t.oe;
            for (var e = 0; e < t.ee.Dr; e++) this.ee[e] = t.ee[e];
        },
        ve: function() {
            this.Dr = pt.distanceOfTwoPoints(this.Wt, this.Vt);
        },
        ye: function() {
            var t = this.Wt.x - this.Vt.x, e = this.Wt.y - this.Vt.y;
            this.Dr = Math.abs(t) + Math.abs(e);
        },
        de: function() {
            var t = {};
            return t.x = (this.Wt.x + this.Vt.x) / 2, t.y = (this.Wt.y + this.Vt.y) / 2, t;
        }
    }), n);
    function Rr(t) {
        return (Rr = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function jr(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== Rr(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== Rr(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === Rr(t) ? t : String(t);
            }(r.key), r);
        }
    }
    n = function() {
        function t(e, n, r, i) {
            if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
            this.jn = e, this.Lr = n || -1, this.li = r, this.be = i, this.pe = i && i.length ? i.length - 1 : 0, 
            this.me = 0, this.we = null, this.ge = null, this._e = [], this.je = [], this.Se = null, 
            this.Jt = new vt(), this.Jt.Qt(this.be);
        }
        var e, n;
        return e = t, (n = [ {
            key: "_pass",
            get: function() {
                return 3 & this.li;
            },
            set: function(t) {
                this.li |= t;
            }
        }, {
            key: "_area",
            get: function() {
                return null == this.Se && (this.Se = pt.wt(this.be, this.pe)), this.Se;
            }
        }, {
            key: "bound",
            get: function() {
                return this.Jt;
            }
        } ]) && jr(e.prototype, n), Object.defineProperty(e, "prototype", {
            writable: !1
        }), t;
    }();
    var Ar = (Object.assign(n.prototype, {
        Oe: function(t) {
            return !!pt.ot(t, this.Jt.zt, this.Jt.Xt) && pt.ft(this.be, t, this.pe);
        },
        gt: function(t, e) {
            for (var n = {}, r = 0; r < this.pe; r++) {
                var i = this.be[r], o = this.be[(r + 1) % this.pe];
                if (1 == pt.gt(i, o, t, e, n)) break;
            }
            return n;
        }
    }), n);
    function Lr(t) {
        return (Lr = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function Nr(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== Lr(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== Lr(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === Lr(t) ? t : String(t);
            }(r.key), r);
        }
    }
    n = function() {
        function t(e, n, r, i, o, s) {
            if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
            this.jn = e, this.Ee = "", this.be = i, this.pe = i && i.length ? i.length - 1 : 0, 
            this.ri = o, this.Te = s, this.li = r, this.Lr = n, this.Re = [], this.Ne = [], 
            this.ke = [], this.we = null, this.ge = null, this._e = [], this.Me = 0, this.me = 0, 
            this.Se = null, this.Ie = !1, this.Jt = new vt(), this.Jt.Qt(this.be);
        }
        var e, n;
        return e = t, (n = [ {
            key: "pass",
            get: function() {
                return 3 & this.li;
            },
            set: function(t) {
                this.li |= t;
            }
        }, {
            key: "area",
            get: function() {
                return null == this.Se && (this.Se = pt.wt(this.be, this.pe)), this.Se;
            }
        }, {
            key: "bound",
            get: function() {
                return this.Jt;
            }
        } ]) && Nr(e.prototype, n), Object.defineProperty(e, "prototype", {
            writable: !1
        }), t;
    }();
    var Ir = (Object.assign(n.prototype, {
        Oe: function(t) {
            if (this.Te) for (var e = 0; e < this.Te.length; e++) if (pt.ft(t, this.Te[e], this.Te[e].length - 1)) return !1;
            return pt.ft(t, this.be, this.pe);
        },
        toZone: function() {
            return new Ar(this.jn, this.Lr, this.li, this.be);
        }
    }), n);
    function Pr(t) {
        return (Pr = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function Dr(t, e) {
        return (Dr = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t, e) {
            return t.__proto__ = e, t;
        })(t, e);
    }
    function kr(t) {
        return (kr = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t);
        })(t);
    }
    n = function() {
        var t = r, e = mr;
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
        t.prototype = Object.create(e && e.prototype, {
            constructor: {
                value: t,
                writable: !0,
                configurable: !0
            }
        }), Object.defineProperty(t, "prototype", {
            writable: !1
        }), e && Dr(t, e);
        var n = function(t) {
            var e = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                if (Reflect.construct.sham) return !1;
                if ("function" == typeof Proxy) return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), 
                    !0;
                } catch (t) {
                    return !1;
                }
            }();
            return function() {
                var n, r = kr(t);
                n = e ? (n = kr(this).constructor, Reflect.construct(r, arguments, n)) : r.apply(this, arguments), 
                r = this;
                if (n && ("object" === Pr(n) || "function" == typeof n)) return n;
                if (void 0 !== n) throw new TypeError("Derived constructors may only return object or undefined");
                if (void 0 !== r) return r;
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            };
        }(r);
        function r() {
            var t;
            if (this instanceof r) return (t = n.call(this)).Lr = 0, t.oe = -1, t.Ae = [], t.te = null, 
            t;
            throw new TypeError("Cannot call a class as a function");
        }
        return t = r, Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }();
    var Mr = (Object.assign(n.prototype, {
        Pe: function(t, e, n) {
            if (!t) return [];
            var r = [];
            n = n || this.Ae;
            for (var i = 0; i < n.length; i++) {
                var o = n[i];
                t == o.Hr && (e && (o.qr = o.qr + e), r.push(o));
            }
            return r;
        }
    }), n);
    function Wr(t) {
        return (Wr = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function Ur(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== Wr(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== Wr(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === Wr(t) ? t : String(t);
            }(r.key), r);
        }
    }
    var Cr = function() {
        function t(e, n, r, i) {
            if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
            this.Lr = 0, this.li = i, this.xe = e, this.Le = n, this.De = [], this.Fe = [], 
            this.Ge = [], this.Ce = [], this.Be = new Map(), this.Ue = new Map(), this.Ze = [], 
            this.We = new Map(), this.Ve = new Map(), this.qe = 0, this.Ye = 0, this.ze();
        }
        var e, n;
        return e = t, (n = [ {
            key: "queryContainIdOfExtent",
            value: function(t) {
                return this.Xe(t);
            }
        }, {
            key: "queryContainExtentID",
            value: function(t) {
                return this.He(t);
            }
        } ]) && Ur(e.prototype, n), Object.defineProperty(e, "prototype", {
            writable: !1
        }), t;
    }(), Vr = (Object.assign(Cr.prototype, {
        gi: function() {
            this.xe = null, this.Le = null, this.De = null, this.Fe = null, this.Ge = null, 
            (this.Ce = null) != this.Be && (this.Be.clear(), this.Be = null), null != this.Ue && (this.Ue.clear(), 
            this.Ue = null), (this.Ze = null) != this.We && (this.We.clear(), this.We = null), 
            null != this.Ve && (this.Ve.clear(), this.Ve = null);
        },
        Qe: function() {
            this.Ce = [];
            for (var t = 0; t < this.Fe.length; t++) {
                var e = this.Fe[t].toZone();
                this.Ce.push(e);
            }
            for (var n = 0; n < this.De.length; n++) {
                var r = this.Fe[n].toZone();
                this.Ce.push(r);
            }
        },
        Ke: function(t) {
            for (var e = 0; e < this.Ce.length; e++) {
                var n = this.Ce[e];
                if (n && n.jn == t) return n;
            }
            return null;
        },
        Je: function(t) {
            for (var e = 0; e < this.Ce.length; e++) {
                var n = this.Ce[e];
                if (n && 1 == n.contain(t)) return n;
            }
            return null;
        },
        Xe: function(t) {
            if (0 !== this.Fe.length && t) for (var e = 0, n = this.Fe.length; e < n; e++) {
                var r = this.Fe[e];
                if (r.Oe(t)) return r.jn;
            }
            return 0;
        },
        He: function(t) {
            if (0 !== this.Fe.length && t) for (var e = 0, n = this.Fe.length; e < n; e++) {
                var r = this.Fe[e];
                if (r.Oe(t)) return r.oe;
            }
            return 0;
        },
        $e: function(t, e) {
            if (0 != this.Ge.length && t && e) for (var n = 0; n < this.Ge.length; n++) if (this.Ge[n].isCross(t, e)) return !0;
            return !1;
        },
        ze: function() {
            this.qe = 0;
            for (var t = this.Ye = 0; t < this.Le.length; ) null == this.Le[t] ? this.Le.splice(t, 1) : (this.Le[t].jn > this.Ye && (this.Ye = this.Le[t].jn), 
            t++);
            for (var e = 0; e < this.xe.length; ) null == this.xe[e] ? this.xe.splice(e, 1) : (this.xe[e].jn > this.qe && (this.qe = this.xe[e].jn), 
            e++);
        },
        io: function(t) {
            return void 0 === (t = this.We.get(t)) ? null : t;
        },
        no: function(t) {
            return void 0 === (t = this.Ve.get(t)) ? null : t;
        },
        ro: function(t) {
            for (var e = Number.MAX_VALUE, n = null, r = 0; r < this.Fe.length; ++r) {
                var i = this.Fe[r];
                i.contain(t) && i.area < e && (e = cur_area, n = i);
            }
            for (var o = 0; o < this.De.size(); ++o) {
                var s = this.De[o];
                s.contain(t) && s.area < e && (e = cur_area, n = s);
            }
            return n || null;
        },
        eo: function(t) {
            for (var e = Number.MAX_VALUE, n = null, r = 0; r < this.De.length; ++r) {
                var i = this.De[r];
                i.Oe(t) && i.area < e && (e = i.area, n = i);
            }
            return n || null;
        },
        oo: function() {
            return ++this.qe;
        },
        so: function() {
            return ++this.Ye;
        },
        uo: function(t) {
            this.qe = t;
        },
        ao: function(t) {
            this.Ye = t;
        },
        fo: function() {
            for (var t = 0; t < this.xe.length; t++) {
                var e = this.xe[t];
                e && (e instanceof Mr ? this.We.set(e.oe, t) : this.We.set(e.jn, t));
            }
        },
        ho: function() {
            for (var t = 0; t < this.Le.length; t++) {
                var e = this.Le[t];
                e && this.Ve.set(e.jn, t);
            }
        },
        co: function() {
            for (var t = this, e = (this.Ue.clear(), 0); e < this.Le.length; e++) !function() {
                var n = t.Le[e];
                if (null != n) {
                    var r, i, o = n.fe;
                    or.NaviRoadEntry_BOTH != o && or.NaviRoadEntry_FORWARD != o || (r = n.ne, (i = t.Ue.get(r)) || t.Ue.set(r, i = []), 
                    null == i.find(function(t) {
                        return t.vo == n.re;
                    }) && i.push({
                        vo: n.re,
                        Dr: n.Dr
                    })), or.NaviRoadEntry_BOTH != o && or.NaviRoadEntry_BACK != o || (r = n.re, (i = t.Ue.get(r)) || t.Ue.set(r, i = []), 
                    null == i.find(function(t) {
                        return t.vo == n.ne;
                    }) && i.push({
                        vo: n.ne,
                        Dr: n.Dr
                    }));
                }
            }();
        },
        yo: function(t) {
            for (var e = 0; e < this.xe.length; e++) if (this.xe[e].jn == t) return e;
            return -1;
        },
        do: function(t) {
            for (var e = 0; e < this.Le.length; e++) if (this.Le[e].jn == t) return e;
            return -1;
        },
        bo: function(t) {
            for (var e = [], n = this.Le, r = 0; r < n.length; r++) {
                var i = n[r], o = i.Wt, s = i.Vt, a = [];
                t.po([ o, s ], a) ? e.push({
                    road: i,
                    crss: a,
                    index: r
                }) : t.mo(o) && e.push({
                    road: i,
                    crss: [],
                    index: r
                });
            }
            return e;
        },
        wo: function(t) {
            for (var e = null, n = Number.MAX_VALUE, r = 0; r < this.De.length; r++) {
                var i = this.De[r];
                pt.ft(t, i.be, i.pe) && n > i.area && (n = (e = i).area);
            }
            return e;
        },
        _o: function(t) {
            for (var e = -1, n = 0; n < this.Ce.length; n++) {
                var r = this.Ce[n];
                if (pt.ft(t, r.be, r.pe)) {
                    e = r.jn;
                    break;
                }
            }
            return e;
        },
        jo: function() {
            var t = this.De.length;
            t = parseInt(Math.random() * t);
            return this.De[t];
        },
        So: function() {
            for (var t = 0; t < this.Ze.length; t++) this.Ze[t] = !1;
        },
        Oo: function() {
            for (var t = [], e = 0; e < this.xe.length; e++) {
                var n = this.xe[e];
                n.Hr != or.NaviLiftType_NULL && t.push(n);
            }
            return t;
        },
        Eo: function(t) {
            for (var e = null, n = 0; n < this.Fe.length; n++) if (t == this.Fe[n].jn) {
                e = this.Fe[n];
                break;
            }
            if (!e) return null;
            for (var r = [], i = 0; i < this.xe.length; i++) {
                var o = this.xe[i];
                pt.ft(o.ai, e.be, e.pe) && r.push(o);
            }
            for (var s = [], a = 0; a < this.Le.length; a++) {
                var u = this.Le[a];
                pt.ft(u.Wt, e.be, e.pe) && s.push(u);
            }
            for (var l = [], h = 0; h < this.De.length; h++) {
                var f = this.De[h];
                pt.ft(f.ri, e.be, e.pe) && l.push(f);
            }
            var c = new Cr(r, s, !0, 1);
            return c.De = l, c.Fe = [ e ], c;
        }
    }), Cr);
    function Fr(t) {
        return (Fr = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function Yr(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== Fr(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== Fr(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === Fr(t) ? t : String(t);
            }(r.key), r);
        }
    }
    n = function(t, e, n) {
        return e && Yr(t.prototype, e), n && Yr(t, n), Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }(function t() {
        if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
        this.To = null;
    });
    var Gr = (Object.assign(n.prototype, {
        gi: function() {
            this.To = null;
        },
        Ro: function(t) {
            this.To = t;
        },
        No: function(t, e) {
            var n = null;
            return 0 == e ? n = hn.bn(t) : 1 == e ? n = hn.pn(t) : 2 == e && (n = hn.mn(t)), 
            {
                points: n[0],
                holes: n.slice(1)
            };
        },
        ko: function(t, e, n) {
            var r = null;
            return 0 == n ? r = sn.bn(t, e) : 1 == n ? r = sn.pn(t, e) : 2 == n && (r = sn.mn(t, e)), 
            {
                points: r[0],
                holes: r.slice(1)
            };
        },
        Mo: function(t) {
            if (t && "string" != typeof t) for (var e in t) {
                var n = t[e];
                if ("vertices" == e || "vertex" == e) for (var r in n) r % 2 == 0 && (n[r] = -n[r]); else "scene_data" == e ? (n.x = -n.x, 
                n.defCenX = -n.defCenX) : this.Mo(n);
            }
        },
        Io: function(t) {
            var e, n;
            return "" != t && t ? (e = [], n = [], 0 <= (t = t).indexOf("|") || 0 <= t.indexOf("-") || 0 <= t.indexOf(",") ? (n = t.split(/[|,-]/), 
            e.push.apply(e, n)) : e.push(t), e) : [];
        },
        Ao: function(t, e, n, r) {
            for (var i = {}, o = [], s = [], a = [], u = [], l = [], h = this.To.fileVer, f = r.naviExtents && 0 < r.naviExtents.length ? r.naviExtents : e.extentLayer, c = 0, p = f.length; c < p; c++) {
                var y = f[c], d = 1 === h ? this.No(y.geo, 2) : this.ko(y.idxs, y.pts, 2);
                y = {
                    eid: y.id || y.eid,
                    geoArr: d.points,
                    holes: d.holes
                };
                s.push(y);
            }
            for (var v = 0, b = e.labelLayer.length; v < b; v++) i[e.labelLayer[v].eid] = e.labelLayer[v];
            for (var g = 0, m = e.modelLayer.length; g < m; g++) {
                var O = e.modelLayer[g], x = n.modelLayer[g], E = {};
                x = (E.fid = x.fid, E.eid = O.eid, E.pass = x.pass, E.ri = (1 === h ? this.No(i[O.eid].geo, 0) : this.ko(i[O.eid].idxs, i[O.eid].pts, 0)).points, 
                null), x = 1 === h ? this.No(O.geo, 2) : this.ko(O.idxs, O.pts, 2);
                E.geoArr = x.points, E.holes = x.holes, o.push(E);
            }
            if (r && r.naviNodes) for (var _ = 0, T = r.naviNodes.length; _ < T; _++) {
                var w = r.naviNodes[_];
                w.geoArr = (1 === h ? this.No(w.geo, 0) : this.ko(w.idxs, w.pts, 0)).points, w.linkSegArr = this.Io(w.linkSeg), 
                w.liftFloorArr = this.Io(w.liftFloor), a.push(w);
            }
            if (r && r.naviSegments) for (var S = 0, R = r.naviSegments.length; S < R; S++) {
                var j = r.naviSegments[S];
                j.geoArr = (1 === h ? this.No(j.geo, 1) : this.ko(j.idxs, j.pts, 1)).points, j.m_Id = r.mid, 
                u.push(j);
            }
            if (r && r.naviZones) for (var A = 0, L = r.naviZones.length; A < L; A++) {
                var N = r.naviZones[A], I = 1 === h ? this.No(N.geo, 2) : this.ko(N.idxs, N.pts, 2);
                N.geoArr = I.points, N.holes = I.holes, N.m_Id = r.mid, l.push(N);
            }
            return {
                level: t,
                extentLayer: s,
                modelLayer: o,
                naviSegments: u,
                naviNodes: a,
                naviZones: l
            };
        }
    }), n);
    function qr(t) {
        return (qr = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function Br(t, e) {
        var n, r, i, o, s = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"];
        if (s) return r = !(n = !0), {
            s: function() {
                s = s.call(t);
            },
            n: function() {
                var t = s.next();
                return n = t.done, t;
            },
            e: function(t) {
                r = !0, i = t;
            },
            f: function() {
                try {
                    n || null == s.return || s.return();
                } finally {
                    if (r) throw i;
                }
            }
        };
        if (Array.isArray(t) || (s = function(t, e) {
            var n;
            if (t) return "string" == typeof t ? zr(t, e) : "Map" === (n = "Object" === (n = Object.prototype.toString.call(t).slice(8, -1)) && t.constructor ? t.constructor.name : n) || "Set" === n ? Array.from(t) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? zr(t, e) : void 0;
        }(t)) || e && t && "number" == typeof t.length) return s && (t = s), o = 0, {
            s: e = function() {},
            n: function() {
                return o >= t.length ? {
                    done: !0
                } : {
                    done: !1,
                    value: t[o++]
                };
            },
            e: function(t) {
                throw t;
            },
            f: e
        };
        throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }
    function zr(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r;
    }
    function Xr(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== qr(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== qr(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === qr(t) ? t : String(t);
            }(r.key), r);
        }
    }
    n = function(t, e, n) {
        return e && Xr(t.prototype, e), n && Xr(t, n), Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }(function t(e) {
        if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
        this.Po = e, this.xo = null, this.Lo = null, this.Do = -1, this.Fo = -1, this.Go = o.MODULE_SHORTEST, 
        this.Co = [], this.Po.fo(), this.Po.ho(), this.Po.co(), this.Bo = 5e-4, this.Uo = 0;
    });
    var Zr = (Object.assign(n.prototype, {
        Zo: function(t, e) {
            if (null != this.Po.xe && 0 != this.Po.xe.length && this.Po.xe[0] instanceof Mr) {
                this.Uo = 10;
                for (var n = {}, r = 0; r < this.Po.xe.length; r++) {
                    var i = (a = this.Po.xe[r]).Wo.be, o = i.length - 1, s = this.Po.xe[r].oe, a = (o = (n[s] = [ 1, 1, Number.MAX_VALUE ], 
                    pt.ft(t, i, o) && (n[s][0] = 0, t.level == a.Lr) && a.oe, pt.ft(e, i, o) && (n[s][1] = 0, 
                    e.level == a.Lr) && a.oe, pt.Pt(i)), pt.lt(t, o) + pt.lt(e, o));
                    n[s][2] = a;
                }
                var u, l = this.Po.Ue, h = Br(l.keys());
                try {
                    for (h.s(); !(u = h.n()).done; ) {
                        var f = u.value;
                        l.get(f).sort(function(t, e) {
                            var r = n[t.vo][0] + n[t.vo][1] - (n[e.vo][0] + n[e.vo][1]);
                            return 0 == r ? n[t.vo][2] - n[e.vo][2] : r;
                        });
                    }
                } catch (t) {
                    h.e(t);
                } finally {
                    h.f();
                }
            }
        },
        Vo: function(t, e, n) {
            return this.qo(n), this.xo = t, this.Lo = e, this.Do = t.jn, this.Fo = e.jn, null != (n = this.Po.io(this.Do)) && null != (t = this.Po.io(e.jn)) && ((e = []).push(t), 
            this.Yo(this.Po, n, e)) ? a.ROUTE_SUCCESS : a.ROUTE_FAILED_CANNOT_ARRIVE;
        },
        zo: function(t, e, n, r) {
            return n && r && this.Zo(n, r), this.Do = t, this.Fo = e, null != (n = this.Po.io(t)) && null != (r = this.Po.io(e)) && ((t = []).push(r), 
            this.Yo(this.Po, n, t)) ? a.ROUTE_SUCCESS : a.ROUTE_FAILED_CANNOT_ARRIVE;
        },
        Xo: function() {
            var t = [], e = this.Po.io(this.Fo), n = [];
            n.push(e), e = [];
            return this.Ho(n, this.Po.xe, e, []), t.push.apply(t, e), t;
        },
        gi: function() {
            this.Po.gi(), this.Po = null, this.xo = null, this.Lo = null;
        },
        Yo: function(t, e, n) {
            if (null == t) return !1;
            var r = t.xe.length;
            if (e < 0 || r <= e) return !1;
            this.Qo(n, e);
            for (var i = 0; i < r; ++i) t.xe[i].qr = Number.MAX_VALUE, t.xe[i].Yr = !1, t.xe[i].zr = [];
            t.xe[e].qr = 0;
            for (var o = n.length, s = 0, a = [], u = (a.push(t.xe[e]), this.Ko.bind(this)); 0 < a.length; ) {
                var l = a[0] instanceof Mr ? a[0].oe : a[0].jn, h = (a.splice(0, 1), t.io(l));
                if (null != h) {
                    var f = t.xe[h];
                    if (!f.Yr) {
                        if (f.Yr = !0, -1 != n.indexOf(h) && ++s == o) return !0;
                        if (0 != t.Ue.size) {
                            var c = t.Ue.get(l);
                            if (c) for (var p = 0; p < c.length; p++) {
                                var y, d, v = c[p], b = v.vo;
                                null == (b = t.io(b)) || (v = v.Dr, y = t.xe[b], d = this.Uo + v + f.qr, d = Number(d.toFixed(3)), 
                                y.Yr) || (y.qr > d ? (y.qr = d, y.zr = [], y.zr.push(h), a.push(t.xe[b]), a.sort(u)) : Math.abs(y.qr - (v + f.qr)) < 1e-12 && -1 == y.zr.indexOf(h) && y.zr.push(h));
                            }
                        }
                    }
                }
            }
            return !(s < o);
        },
        Ko: function(t, e) {
            return t.qr - e.qr;
        },
        Qo: function(t, e) {
            for (var n = t.indexOf(e); -1 != n; ) t.splice(n, 1), n = t.indexOf(e);
        },
        qo: function(t) {
            if (this.Go != t) {
                for (var e = {}, n = 0; n < this.Po.Le.length; n++) {
                    var r = (s = this.Po.Le[n]).ne, i = s.re, s = s.ae;
                    e.hasOwnProperty(r) || (e[r] = {}), e[r][i] = s, e.hasOwnProperty(i) || (e[i] = {}), 
                    e[i][r] = s;
                }
                if (o.MODULE_SHORTEST == t) {
                    var a, u = Br(this.Po.Ue.keys());
                    try {
                        for (u.s(); !(a = u.n()).done; ) {
                            var l, h = a.value, f = Br(this.Po.Ue.get(h));
                            try {
                                for (f.s(); !(l = f.n()).done; ) {
                                    var c = l.value, p = c.vo, y = e[h][p];
                                    c.Dr = c.Dr / y;
                                }
                            } catch (t) {
                                f.e(t);
                            } finally {
                                f.f();
                            }
                        }
                    } catch (t) {
                        u.e(t);
                    } finally {
                        u.f();
                    }
                } else if (o.MODULE_BEST == t) {
                    var d, v = Br(this.Po.Ue.keys());
                    try {
                        for (v.s(); !(d = v.n()).done; ) {
                            var b, g = d.value, m = Br(this.Po.Ue.get(g));
                            try {
                                for (m.s(); !(b = m.n()).done; ) {
                                    var O = b.value, x = O.vo, E = e[g][x];
                                    O.Dr = O.Dr * E;
                                }
                            } catch (t) {
                                m.e(t);
                            } finally {
                                m.f();
                            }
                        }
                    } catch (t) {
                        v.e(t);
                    } finally {
                        v.f();
                    }
                }
                this.Go = t;
            }
        },
        Jo: function(t, e, n, r) {
            0 != e[t].zr.length && (t = e[t].zr[0], n.push(e[t]), r.count++, this.Jo(t, e, n, r));
        },
        Ho: function(t, e, n, r) {
            for (var i = 0; i < t.length; i++) {
                var o = t[i], s = (n.push(e[o]), {
                    count: 1
                });
                this.Jo(o, e, n, s), r.push(s.count);
            }
        }
    }), n);
    function Hr(t) {
        return (Hr = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function Jr(t, e) {
        return (Jr = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t, e) {
            return t.__proto__ = e, t;
        })(t, e);
    }
    function Kr(t) {
        return (Kr = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t);
        })(t);
    }
    var Qr = function() {
        var t = r, e = Ir;
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
        t.prototype = Object.create(e && e.prototype, {
            constructor: {
                value: t,
                writable: !0,
                configurable: !0
            }
        }), Object.defineProperty(t, "prototype", {
            writable: !1
        }), e && Jr(t, e);
        var n = function(t) {
            var e = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                if (Reflect.construct.sham) return !1;
                if ("function" == typeof Proxy) return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), 
                    !0;
                } catch (t) {
                    return !1;
                }
            }();
            return function() {
                var n, r = Kr(t);
                n = e ? (n = Kr(this).constructor, Reflect.construct(r, arguments, n)) : r.apply(this, arguments), 
                r = this;
                if (n && ("object" === Hr(n) || "function" == typeof n)) return n;
                if (void 0 !== n) throw new TypeError("Derived constructors may only return object or undefined");
                if (void 0 !== r) return r;
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            };
        }(r);
        function r() {
            var t;
            if (this instanceof r) return (t = n.call(this)).jn = -1, t.$o = [], t;
            throw new TypeError("Cannot call a class as a function");
        }
        return t = r, Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }();
    function $r(t) {
        return ($r = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function ti(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== $r(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== $r(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === $r(t) ? t : String(t);
            }(r.key), r);
        }
    }
    var ei = function(t, e, n) {
        return e && ti(t.prototype, e), n && ti(t, n), Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }(function t() {
        if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
        this.tt = null, this.Yt = null, this.ts = null, this.lt = 0, this.ns = !1, this.rs = or.NaviObstructType_MODEL;
    });
    function ni(t, e) {
        var n, r, i, o, s = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"];
        if (s) return r = !(n = !0), {
            s: function() {
                s = s.call(t);
            },
            n: function() {
                var t = s.next();
                return n = t.done, t;
            },
            e: function(t) {
                r = !0, i = t;
            },
            f: function() {
                try {
                    n || null == s.return || s.return();
                } finally {
                    if (r) throw i;
                }
            }
        };
        if (Array.isArray(t) || (s = ii(t)) || e && t && "number" == typeof t.length) return s && (t = s), 
        o = 0, {
            s: e = function() {},
            n: function() {
                return o >= t.length ? {
                    done: !0
                } : {
                    done: !1,
                    value: t[o++]
                };
            },
            e: function(t) {
                throw t;
            },
            f: e
        };
        throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }
    function ri(t) {
        return function(t) {
            if (Array.isArray(t)) return oi(t);
        }(t) || function(t) {
            if ("undefined" != typeof Symbol && null != t[Symbol.iterator] || null != t["@@iterator"]) return Array.from(t);
        }(t) || ii(t) || function() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
        }();
    }
    function ii(t, e) {
        var n;
        if (t) return "string" == typeof t ? oi(t, e) : "Map" === (n = "Object" === (n = Object.prototype.toString.call(t).slice(8, -1)) && t.constructor ? t.constructor.name : n) || "Set" === n ? Array.from(t) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? oi(t, e) : void 0;
    }
    function oi(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r;
    }
    function si(t) {
        return (si = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function ai(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== si(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== si(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === si(t) ? t : String(t);
            }(r.key), r);
        }
    }
    n = function() {
        function t(e) {
            if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
            this.jn = null, this.es = null, this.ss = null, this.Po = e, this.us = new Map(), 
            this.hs = new Map(), this.ls = new Map(), this.cs = new Map(), this.vs = new Map(), 
            this.ys = [], this.ds = Number.INT_MIN, this.bs = Number.INT_MIN, this.ps = -1, 
            this.xo = null, this.Lo = null, this.Go = o.MODULE_SHORTEST, this.ws = new Map(), 
            this.gs = new Map(), this._s = new Map(), this.js = [], this.Ss = [], this.Os = [], 
            this.Es = [], this.Ts = 100, this.Rs = -1, this.Ns = 15, this.ks = .1, this.Ms = [], 
            this.Is = [], this.As = [], this.Ps = [], this.xs = !0, this.Ls = [], this.li = null, 
            this.Ds(), this.Fs(), this.Gs(), this.Cs(), this.Bs(), this.Yr = !1, this.Us = [], 
            this.li = null;
        }
        var e, n;
        return e = t, (n = [ {
            key: "assignedPts",
            get: function() {
                return this.Is;
            },
            set: function(t) {
                this.Is = t;
            }
        }, {
            key: "obstruct",
            get: function() {
                return this.xs;
            },
            set: function(t) {
                this.xs = t;
            }
        }, {
            key: "level",
            get: function() {
                return this.Lr;
            },
            set: function(t) {
                this.Lr = t;
            }
        } ]) && ai(e.prototype, n), Object.defineProperty(e, "prototype", {
            writable: !1
        }), t;
    }();
    var ui = (Object.assign(n.prototype, {
        Zs: function(t) {
            var e, n = null == t.Ws ? null : t.Ws;
            t instanceof mr ? this.xo = t : (e = new mr(), this.Vs(t, e, n) || this._failedInsertPts.push(t), 
            this.xo = e);
        },
        qs: function(t) {
            var e, n = null == t.Ws ? null : t.Ws;
            t instanceof mr ? this.Lo = t : (e = new mr(), this.Vs(t, e, n) || this._failedInsertPts.push(t), 
            this.Lo = e);
        },
        Ys: function(t) {
            var e = this.Po.Fe[0].be;
            return !!pt.ft(t, e, e.length - 1);
        },
        Vo: function(t, e, n) {
            this.ds = t instanceof mr ? this.zs(t.ai) : this.zs(t), this.bs = e instanceof mr ? this.zs(e.ai) : this.zs(e), 
            n && (this.Go = n), !t.process && !t instanceof mr && (this.Xs(this.ds), this.Es = []), 
            !e.process && !e instanceof mr && (this.Xs(this.bs), this.Es = []);
            n = this.hs.get(this.ds);
            var r = this.hs.get(this.bs);
            if (t instanceof mr) this.xo = t; else if (!t.process && a.ROUTE_FAILED_NO_START_ARRIVAL == this.Hs(t, n)) return a.ROUTE_FAILED_NO_START_ARRIVAL;
            if (e instanceof mr) this.Lo = e; else if (!e.process && a.ROUTE_FAILED_NO_DEST_ARRIVAL == this.Qs(e, r)) return a.ROUTE_FAILED_NO_DEST_ARRIVAL;
            return null == this.xo ? a.ROUTE_FAILED_NO_DATA_START : null == this.Lo ? a.ROUTE_FAILED_NO_DATA_DEST : this.Ks();
        },
        Js: function() {
            var t;
            this.Ps = [];
            for (var e = 0; e < this.Is.length; e++) {
                var n = {
                    x: (n = this.Is[e])[0],
                    y: n[1]
                }, r = this.zs(n);
                r = this.$s(r, n);
                this.Ps.push(r);
            }
            (t = this.ys).push.apply(t, ri(this.Ps));
        },
        Xo: function() {
            return this.ys;
        },
        gi: function() {
            this.es = null, this.ss = null, this.Po.gi(), this.Po = null, this.us.clear(), this.us = null;
            var t, e = ni(this.hs);
            try {
                for (e.s(); !(t = e.n()).done; ) t.value[1].gi();
            } catch (t) {
                e.e(t);
            } finally {
                e.f();
            }
            this.hs.clear(), this.hs = null;
            var n, r = ni(this.cs);
            try {
                for (r.s(); !(n = r.n()).done; ) n.value[1].gi();
            } catch (t) {
                r.e(t);
            } finally {
                r.f();
            }
            this.cs.clear(), this.cs = null;
            var i, o = ni(this.ls);
            try {
                for (o.s(); !(i = o.n()).done; ) i.value[1].gi();
            } catch (t) {
                o.e(t);
            } finally {
                o.f();
            }
            this.ls.clear(), this.ls = null;
            var s, a = ni(this.vs);
            try {
                for (a.s(); !(s = a.n()).done; ) s.value[1].gi();
            } catch (t) {
                a.e(t);
            } finally {
                a.f();
            }
            this.vs.clear(), this.vs = null, this.ys = [], this.xo = null, this.Lo = null, this.ws.clear(), 
            this.ws = null, this.gs.clear(), this.gs = null, this._s.clear(), this.js = [], 
            this.Ss = [], this.Os = [], this.Es = [], this.Ls = [], this.xs = !1;
        },
        ir: function() {
            this.ys = [], this.tu(-1), this.tu(this.ds), this.ds = Number.INT_MIN, this.tu(this.bs), 
            this.bs = Number.INT_MIN, this.iu(), this.Ms = [];
            var t = this.Po.Le.length;
            this.ps < -2 * t && (this.ps = -1);
            for (var e = 0; e < this.js.length; e++) {
                var n = this.js[e];
                this.nu(n.ru, n.ts, or.NaviRoadHinderType_HINDER_HIGH);
            }
            this.js = [], this.Ss = [], this.Os = [], this.Es = [];
        },
        eu: function(t) {
            this.Ls = t, this.ls.clear(), this.vs.clear();
            for (var e = 0; e < this.Ls.length; e++) for (var n = this.Ls[e], r = this.ou(n), i = 0; i < r.length; i++) {
                var o = r[i], s = this.ls.get(o);
                s || (s = this.su(this.hs.get(o)), this.ls.set(o, s)), this.uu(s, n);
            }
            var a, u = ni(this.ls);
            try {
                for (u.s(); !(a = u.n()).done; ) {
                    var l = a.value;
                    this.vs.set(l[0], new Zr(l[1]));
                }
            } catch (t) {
                u.e(t);
            } finally {
                u.f();
            }
        },
        uu: function(t, e) {
            for (var n = t.bo(e), r = 0; r < n.length; r++) {
                var i = n[r], o = new Sr(), s = (o.ce(i.road), o.fe);
                o.fe = or.NaviRoadEntry_FORBID, t.Le[i.index] = o, 1 == i.crss.length && (e.mo(o.Wt) ? this.au(i.crss[0], this.oo(), o.Vt, this.oo(), s, t) : this.au(o.Wt, this.oo(), i.crss[0], this.oo(), s, t)), 
                2 <= i.crss.length && (this.au(o.Wt, this.oo(), i.crss[0], this.oo(), s, t), this.au(i.crss[i.crss.length - 1], this.oo(), o.Vt, this.oo(), s, t));
            }
            var a = new Qr();
            a.jn = this.fu(), a.be = e.be, a.pass = or.NaviModelPassType_NOT_PASS, t.De.push(a);
        },
        au: function(t, e, n, r, i, o) {
            var s, a;
            t instanceof mr ? s = t : ((s = new mr()).jn = e, s.ai = t, o.xe.push(s)), n instanceof mr ? a = n : ((a = new mr()).jn = r, 
            a.ai = n, o.xe.push(a)), (e = new Sr()).jn = this.so(), e.ne = s.jn, e.Wt = s.ai, 
            e.re = a.jn, e.Vt = a.ai, e.fe = i, e.jn, e.ne, e.Wt.x.toFixed(3), e.Wt.y.toFixed(3), 
            e.re, e.Vt.x.toFixed(3), e.Vt.y.toFixed(3), o.Le.push(e);
        },
        fu: function() {
            return this.ps--;
        },
        hu: function(t) {
            var e = {
                ts: null
            };
            if (1 !== this.li) {
                var n = this.zs(t), r = this.lu(n).eo(t, -0);
                if (r && (e.ts = r).pass != or.NaviModelPassType_NOT_PASS && (r.pass === or.NaviModelPassType_PASS_THROUGH || r.pass === or.NaviModelPassType_PASS_NOT_THROUGH)) {
                    if (0 < r.Re.length) return e;
                    for (var i = {}, o = [], s = [], a = this.lu(n).Le, u = !0, l = 0; l < r.pe; l++) for (var h = r.be[l], f = r.be[l + 1], c = 0; c < a.length; c++) {
                        var p = a[c];
                        1 === pt.gt(h, f, p.Wt, p.Vt, i) && or.NaviRoadEntry_FORBID !== p.fe && (u = !1, 
                        (p = {}).x = i.x, p.y = i.y, o.push(p), s.push(a[c]));
                    }
                    if (!u) {
                        r.Re = [], r.ke = [], r.Ne = [];
                        for (var y = 0; y < o.length; y++) {
                            var d = s[y], v = this.cu(n, o[y], d);
                            v.vu.push(d.jn), v.Xr = or.NaviNodeType_COMMON, d.fe === or.NaviRoadEntry_BOTH ? v.entranceType = or.NaviEntranceType_ACCESS : pt.ft(d.Wt, r.be, r.pe) ? (d.fe === or.NaviRoadEntry_FORWARD && (v.entranceType = or.NaviEntranceType_EXIT), 
                            d.fe === or.NaviRoadEntry_BACK && (v.entranceType = or.NaviEntranceType_ENTRANCE)) : (d.fe === or.NaviRoadEntry_FORWARD && (v.entranceType = or.NaviEntranceType_ENTRANCE), 
                            d.fe === or.NaviRoadEntry_BACK && (v.entranceType = or.NaviEntranceType_EXIT)), 
                            r.Re.push(v), r.ke.push(v.entranceType), r.Ne.push(v.Xr);
                        }
                    }
                }
            }
            return e;
        },
        yu: function(t) {
            var e, n = null, r = Number.MAX_VALUE, i = ni(t.values());
            try {
                for (i.s(); !(e = i.n()).done; ) {
                    var o = e.value;
                    0 < o.length && o[0].lt < r && (n = o[0], r = o[0].lt);
                }
            } catch (t) {
                i.e(t);
            } finally {
                i.f();
            }
            return n;
        },
        du: function(t, e) {
            for (var n = [], r = 0; r < e.length; r++) {
                Number.MAX_VALUE;
                var i = pt.yt(t, e[r].Wt, e[r].Vt, {});
                n.push({
                    qt: e[r].jn,
                    Wt: e[r].Wt,
                    Vt: e[r].Vt,
                    lt: i,
                    Yt: e[r]
                });
            }
            return n.sort(function(t, e) {
                return t.lt - e.lt;
            }), n;
        },
        bu: function(t, e, n) {
            var r = [], i = [], o = [], s = [], a = [], u = [], l = (u.push(t), u.push(e.Wt), 
            u.push(e.Vt), []), h = (l.push(t), 1e7 / Math.sqrt((e.Wt.x - t.x) * (e.Wt.x - t.x) + (e.Wt.y - t.y) * (e.Wt.y - t.y)));
            l.push({
                x: t.x + (e.Wt.x - t.x) * h,
                y: t.y + (e.Wt.y - t.y) * h
            }), h = 1e7 / Math.sqrt((e.Vt.x - t.x) * (e.Vt.x - t.x) + (e.Vt.y - t.y) * (e.Vt.y - t.y));
            l.push({
                x: t.x + (e.Vt.x - t.x) * h,
                y: t.y + (e.Vt.y - t.y) * h
            });
            for (var f, c, p, y, d, v = 0; v < n.length; v++) n[v].qt == e.qt ? (n[v].lt = pt.yt(t, n[v].Wt, n[v].Vt, {}), 
            o.push({
                qt: n[v].qt,
                Wt: n[v].Wt,
                Vt: n[v].Vt,
                lt: n[v].lt,
                Yt: n[v].Yt
            })) : (d = pt.Ct(n[v].Wt, n[v].Vt, u)).isintersect ? 1 == d.type ? .01 < pt.distanceOfTwoPoints(d.start, d.end) && o.push({
                qt: n[v].qt,
                Wt: d.start,
                Vt: d.end,
                lt: n[v].lt,
                Yt: n[v].Yt
            }) : 2 == d.type ? ("start" == d.outer ? (n[v].Vt = d.start, n[v].lt = pt.lt(d.start, t)) : "end" == d.outer && (n[v].Wt = d.end, 
            n[v].lt = pt.lt(d.end, t)), .01 < pt.distanceOfTwoPoints(d.start, d.end) && o.push({
                qt: n[v].qt,
                Wt: d.start,
                Vt: d.end,
                lt: n[v].lt,
                Yt: n[v].Yt
            }), r.push({
                qt: n[v].qt,
                Wt: n[v].Wt,
                Vt: n[v].Vt,
                lt: n[v].lt,
                Yt: n[v].Yt
            })) : 3 == d.type ? ("start" == d.outer ? (n[v].Vt = d.start, n[v].lt = pt.lt(d.start, t)) : "end" == d.outer && (n[v].Wt = d.end, 
            n[v].lt = pt.lt(d.end, t)), .01 < pt.distanceOfTwoPoints(d.end, d.start) && o.push({
                qt: n[v].qt,
                Wt: d.start,
                Vt: d.end,
                lt: n[v].lt,
                Yt: n[v].Yt
            }), i.push({
                qt: n[v].qt,
                Wt: n[v].Wt,
                Vt: n[v].Vt,
                lt: n[v].lt,
                Yt: n[v].Yt
            })) : 4 == d.type && (.01 < pt.distanceOfTwoPoints(d.start, d.end) && o.push({
                qt: n[v].qt,
                Wt: d.start,
                Vt: d.end,
                lt: n[v].lt,
                Yt: n[v].Yt
            }), pt.distanceOfTwoPoints(n[v].Wt, d.start) < pt.distanceOfTwoPoints(n[v].Wt, d.end) ? (c = {
                x: d.start.x - t.x,
                y: d.start.y - t.y
            }, f = {
                x: n[v].Wt.x - t.x,
                y: n[v].Wt.y - t.y
            }, 0 < (c = (c = pt.Mt(c, f)) < 180 ? c : c - 360) ? (.01 < pt.distanceOfTwoPoints(n[v].Wt, d.start) && r.push({
                qt: n[v].qt,
                Wt: n[v].Wt,
                Vt: d.start,
                lt: pt.lt(d.start, t),
                Yt: n[v].Yt
            }), .01 < pt.distanceOfTwoPoints(n[v].Vt, d.end) && i.push({
                qt: n[v].qt,
                Wt: d.end,
                Vt: n[v].Vt,
                lt: pt.lt(d.end, t),
                Yt: n[v].Yt
            })) : (.01 < pt.distanceOfTwoPoints(n[v].Wt, d.start) && i.push({
                qt: n[v].qt,
                Wt: n[v].Wt,
                Vt: d.start,
                lt: pt.lt(d.start, t),
                Yt: n[v].Yt
            }), .01 < pt.distanceOfTwoPoints(n[v].Vt, d.end) && r.push({
                qt: n[v].qt,
                Wt: d.end,
                Vt: n[v].Vt,
                lt: pt.lt(d.end, t),
                Yt: n[v].Yt
            }))) : (f = {
                x: d.end.x - t.x,
                y: d.end.y - t.y
            }, c = {
                x: n[v].Wt.x - t.x,
                y: n[v].Wt.y - t.y
            }, 0 < (p = (p = pt.Mt(f, c)) < 180 ? p : p - 360) ? (.01 < pt.distanceOfTwoPoints(n[v].Wt, d.end) && r.push({
                qt: n[v].qt,
                Wt: n[v].Wt,
                Vt: d.end,
                lt: pt.lt(d.end, t),
                Yt: n[v].Yt
            }), .01 < pt.distanceOfTwoPoints(n[v].Vt, d.start) && i.push({
                qt: n[v].qt,
                Wt: d.start,
                Vt: n[v].Vt,
                lt: pt.lt(d.start, t),
                Yt: n[v].Yt
            })) : (.01 < pt.distanceOfTwoPoints(n[v].Wt, d.end) && i.push({
                qt: n[v].qt,
                Wt: n[v].Wt,
                Vt: d.end,
                lt: pt.lt(d.end, t),
                Yt: n[v].Yt
            }), .01 < pt.distanceOfTwoPoints(n[v].Vt, d.start) && r.push({
                qt: n[v].qt,
                Wt: d.start,
                Vt: n[v].Vt,
                lt: pt.lt(d.start, t),
                Yt: n[v].Yt
            })))) : (p = pt.Ct(n[v].Wt, n[v].Vt, l)).isintersect ? 1 == p.type ? .01 < pt.distanceOfTwoPoints(p.start, p.end) && a.push({
                qt: n[v].qt,
                Wt: p.start,
                Vt: p.end,
                lt: n[v].lt,
                Yt: n[v].Yt
            }) : 2 == p.type ? ("start" == p.outer ? (n[v].Vt = p.start, n[v].lt = pt.lt(p.start, t)) : "end" == p.outer && (n[v].Wt = p.end, 
            n[v].lt = pt.lt(p.end, t)), .01 < pt.distanceOfTwoPoints(p.start, p.end) && a.push({
                qt: n[v].qt,
                Wt: p.start,
                Vt: p.end,
                lt: n[v].lt,
                Yt: n[v].Yt
            }), r.push({
                qt: n[v].qt,
                Wt: n[v].Wt,
                Vt: n[v].Vt,
                lt: n[v].lt,
                Yt: n[v].Yt
            })) : 3 == p.type ? ("start" == p.outer ? (n[v].Vt = p.start, n[v].lt = pt.lt(p.start, t)) : "end" == p.outer && (n[v].Wt = p.end, 
            n[v].lt = pt.lt(p.end, t)), .01 < pt.distanceOfTwoPoints(p.start, p.end) && a.push({
                qt: n[v].qt,
                Wt: p.start,
                Vt: p.end,
                lt: n[v].lt,
                Yt: n[v].Yt
            }), i.push({
                qt: n[v].qt,
                Wt: n[v].Wt,
                Vt: n[v].Vt,
                lt: n[v].lt,
                Yt: n[v].Yt
            })) : 4 == p.type && (.01 < pt.distanceOfTwoPoints(p.start, p.end) && a.push({
                qt: n[v].qt,
                Wt: p.start,
                Vt: p.end,
                lt: n[v].lt,
                Yt: n[v].Yt
            }), pt.distanceOfTwoPoints(n[v].Wt, p.start) < pt.distanceOfTwoPoints(n[v].Wt, p.end) ? (d = {
                x: p.start.x - t.x,
                y: p.start.y - t.y
            }, y = {
                x: n[v].Wt.x - t.x,
                y: n[v].Wt.y - t.y
            }, 0 < (d = (d = pt.Mt(d, y)) < 180 ? d : d - 360) ? (.01 < pt.distanceOfTwoPoints(n[v].Wt, p.start) && r.push({
                qt: n[v].qt,
                Wt: n[v].Wt,
                Vt: p.start,
                lt: pt.lt(p.start, t),
                Yt: n[v].Yt
            }), .01 < pt.distanceOfTwoPoints(n[v].Vt, p.end) && i.push({
                qt: n[v].qt,
                Wt: p.end,
                Vt: n[v].Vt,
                lt: pt.lt(p.end, t),
                Yt: n[v].Yt
            })) : (.01 < pt.distanceOfTwoPoints(n[v].Wt, p.start) && i.push({
                qt: n[v].qt,
                Wt: n[v].Wt,
                Vt: p.start,
                lt: pt.lt(p.start, t),
                Yt: n[v].Yt
            }), .01 < pt.distanceOfTwoPoints(n[v].Vt, p.end) && r.push({
                qt: n[v].qt,
                Wt: p.end,
                Vt: n[v].Vt,
                lt: pt.lt(p.end, t),
                Yt: n[v].Yt
            }))) : (y = {
                x: p.end.x - t.x,
                y: p.end.y - t.y
            }, d = {
                x: n[v].Wt.x - t.x,
                y: n[v].Wt.y - t.y
            }, 0 < (d = (d = pt.Mt(y, d)) < 180 ? d : d - 360) ? (.01 < pt.distanceOfTwoPoints(n[v].Wt, p.end) && r.push({
                qt: n[v].qt,
                Wt: n[v].Wt,
                Vt: p.end,
                lt: pt.lt(p.end, t),
                Yt: n[v].Yt
            }), .01 < pt.distanceOfTwoPoints(n[v].Vt, p.start) && i.push({
                qt: n[v].qt,
                Wt: p.start,
                Vt: n[v].Vt,
                lt: pt.lt(p.start, t),
                Yt: n[v].Yt
            })) : (.01 < pt.distanceOfTwoPoints(n[v].Wt, p.end) && i.push({
                qt: n[v].qt,
                Wt: n[v].Wt,
                Vt: p.end,
                lt: pt.lt(p.end, t),
                Yt: n[v].Yt
            }), .01 < pt.distanceOfTwoPoints(n[v].Vt, p.start) && r.push({
                qt: n[v].qt,
                Wt: p.start,
                Vt: n[v].Vt,
                lt: pt.lt(p.start, t),
                Yt: n[v].Yt
            })))) : s.push({
                qt: n[v].qt,
                Wt: n[v].Wt,
                Vt: n[v].Vt,
                lt: n[v].lt,
                Yt: n[v].Yt
            });
            return {
                left: r,
                right: i,
                inside: o,
                invalid: a,
                other: s
            };
        },
        Xs: function(t) {
            var e, n = this.hs.get(t), r = ni(n.Ue.keys());
            try {
                for (r.s(); !(e = r.n()).done; ) {
                    var i = e.value;
                    i < 0 && n.Ue.delete(i);
                }
            } catch (t) {
                r.e(t);
            } finally {
                r.f();
            }
            var o, s = ni(n.We.keys());
            try {
                for (s.s(); !(o = s.n()).done; ) {
                    var a = o.value;
                    a < 0 && n.We.delete(a);
                }
            } catch (t) {
                s.e(t);
            } finally {
                s.f();
            }
            var u, l = ni(n.Ve.keys());
            try {
                for (l.s(); !(u = l.n()).done; ) {
                    var h = u.value;
                    h < 0 && n.Ve.delete(h);
                }
            } catch (t) {
                l.e(t);
            } finally {
                l.f();
            }
            for (var f = [], c = 0; c < n.xe.length && 0 < n.xe[c].jn; c++) f.push(n.xe[c]);
            n.xe = f;
            for (var p = [], y = 0; y < n.Le.length && 0 < n.Le[y].jn; y++) p.push(n.Le[y]);
            n.Le = p, this.hs.delete(t), this.hs.set(t, n);
        },
        pu: function(t, e) {
            Number.MAX_VALUE;
            for (var n = this.du(t, e.Le), r = [], i = [], o = n[0], s = [], a = 0; a < n.length; a++) {
                if (n[a].lt < .01) return s.push(n[a]), s;
                if (!(n[a].qt < 0)) {
                    o = n[a], n.splice(0, a);
                    break;
                }
            }
            var u = 0, l = 0, h = {
                x: null,
                y: null
            };
            pt.St(t, o.Wt, o.Vt, h) || (h = pt.lt(t, o.Wt) <= pt.lt(t, o.Vt) ? o.Wt : o.Vt);
            for (var f, c, p = 0; p < n.length; p++) n[p].qt < 0 || (f = n[p].Wt, c = n[p].Vt, 
            f = (f = pt.Mt({
                x: h.x - t.x,
                y: h.y - t.y
            }, {
                x: f.x - t.x,
                y: f.y - t.y
            })) < 180 ? f : f - 360, c = (c = pt.Mt({
                x: h.x - t.x,
                y: h.y - t.y
            }, {
                x: c.x - t.x,
                y: c.y - t.y
            })) < 180 ? c : c - 360, (0 < f && 0 < c ? r : (f < 0 && c < 0 || r.push(n[p]), 
            i)).push(n[p]));
            for (var y = [], d = []; ;) {
                var v = this.bu(t, o, r);
                if (v.inside && 0 < v.inside.length) {
                    v.inside.sort(function(t, e) {
                        return t.lt - e.lt;
                    });
                    for (var b = 0; b < v.inside.length; b++) {
                        for (var g, m, O, x, E = [], _ = 0; _ < v.inside.length; _++) b == _ || v.inside[_].remain && 0 === v.inside[_].remain.length || ((g = []).push(t), 
                        g.push(v.inside[b].Wt), g.push(v.inside[b].Vt), pt.Ct(v.inside[_].Wt, v.inside[_].Vt, g).isintersect && v.inside[_].lt < v.inside[b].lt && (g = (v.inside[_].Wt.x - t.x) / Math.sqrt((v.inside[_].Wt.x - t.x) * (v.inside[_].Wt.x - t.x) + (v.inside[_].Wt.y - t.y) * (v.inside[_].Wt.y - t.y)) * 1e7, 
                        O = (v.inside[_].Wt.y - t.y) / Math.sqrt((v.inside[_].Wt.x - t.x) * (v.inside[_].Wt.x - t.x) + (v.inside[_].Wt.y - t.y) * (v.inside[_].Wt.y - t.y)) * 1e7, 
                        g = {
                            x: t.x + g,
                            y: t.y + O
                        }, O = (v.inside[_].Vt.x - t.x) / Math.sqrt((v.inside[_].Vt.x - t.x) * (v.inside[_].Vt.x - t.x) + (v.inside[_].Vt.y - t.y) * (v.inside[_].Vt.y - t.y)) * 1e7, 
                        m = (v.inside[_].Vt.y - t.y) / Math.sqrt((v.inside[_].Vt.x - t.x) * (v.inside[_].Vt.x - t.x) + (v.inside[_].Vt.y - t.y) * (v.inside[_].Vt.y - t.y)) * 1e7, 
                        O = {
                            x: t.x + O,
                            y: t.y + m
                        }, m = {
                            x: null,
                            y: null
                        }, pt.gt(t, g, v.inside[b].Wt, v.inside[b].Vt, g = {
                            x: null,
                            y: null
                        }), pt.gt(t, O, v.inside[b].Wt, v.inside[b].Vt, m), g.x) && g.y && m.x && m.y && (O = pt.distanceOfTwoPoints(g, v.inside[b].Wt), 
                        x = pt.distanceOfTwoPoints(m, v.inside[b].Wt), E.push({
                            qt: v.inside[b].qt,
                            Wt: O < x ? g : m,
                            Vt: O < x ? m : g,
                            lt: v.inside[b].lt,
                            Yt: v.inside[b].Yt
                        })));
                        var T = pt.Ut(v.inside[b], E);
                        v.inside[b].remain = T, y.push.apply(y, ri(T));
                    }
                }
                if (r = [], o = null, !(v.left && 0 < v.left.length)) break;
                v.left.sort(function(t, e) {
                    return t.lt - e.lt;
                });
                for (var w = 0; w < v.left.length; w++) {
                    var S = {
                        x: v.left[w].Wt.x - t.x,
                        y: v.left[w].Wt.y - t.y
                    }, R = {
                        x: v.left[w].Vt.x - t.x,
                        y: v.left[w].Vt.y - t.y
                    }, j = {
                        x: h.x - t.x,
                        y: h.y - t.y
                    };
                    S = pt.Mt(j, S);
                    if (u < (R = (j = (j = pt.Mt(j, R)) < 180 ? j : j - 360) < (S = S < 180 ? S : S - 360) ? S : j)) {
                        o = v.left[w], u = R;
                        break;
                    }
                }
                if (!o) break;
                r.push.apply(r, ri(v.left)), r.push.apply(r, ri(v.other));
            }
            for (o = n[0]; ;) {
                var A = this.bu(t, o, i);
                if (A.inside && 0 < A.inside.length) {
                    A.inside.sort(function(t, e) {
                        return t.lt - e.lt;
                    });
                    for (var L = 0; L < A.inside.length; L++) {
                        for (var N, I, P, D, k = [], M = 0; M < A.inside.length; M++) L == M || A.inside[M].remain && 0 === A.inside[M].remain.length || ((N = []).push(t), 
                        N.push(A.inside[L].Wt), N.push(A.inside[L].Vt), pt.Ct(A.inside[M].Wt, A.inside[M].Vt, N).isintersect && A.inside[M].lt < A.inside[L].lt && (N = (A.inside[M].Wt.x - t.x) / Math.sqrt((A.inside[M].Wt.x - t.x) * (A.inside[M].Wt.x - t.x) + (A.inside[M].Wt.y - t.y) * (A.inside[M].Wt.y - t.y)) * 1e7, 
                        P = (A.inside[M].Wt.y - t.y) / Math.sqrt((A.inside[M].Wt.x - t.x) * (A.inside[M].Wt.x - t.x) + (A.inside[M].Wt.y - t.y) * (A.inside[M].Wt.y - t.y)) * 1e7, 
                        N = {
                            x: t.x + N,
                            y: t.y + P
                        }, P = (A.inside[M].Vt.x - t.x) / Math.sqrt((A.inside[M].Vt.x - t.x) * (A.inside[M].Vt.x - t.x) + (A.inside[M].Vt.y - t.y) * (A.inside[M].Vt.y - t.y)) * 1e7, 
                        I = (A.inside[M].Vt.y - t.y) / Math.sqrt((A.inside[M].Vt.x - t.x) * (A.inside[M].Vt.x - t.x) + (A.inside[M].Vt.y - t.y) * (A.inside[M].Vt.y - t.y)) * 1e7, 
                        P = {
                            x: t.x + P,
                            y: t.y + I
                        }, I = {
                            x: null,
                            y: null
                        }, pt.gt(t, N, A.inside[L].Wt, A.inside[L].Vt, N = {
                            x: null,
                            y: null
                        }), pt.gt(t, P, A.inside[L].Wt, A.inside[L].Vt, I), N.x) && N.y && I.x && I.y && (P = pt.distanceOfTwoPoints(N, A.inside[L].Wt), 
                        D = pt.distanceOfTwoPoints(I, A.inside[L].Wt), k.push({
                            qt: A.inside[L].qt,
                            Wt: P < D ? N : I,
                            Vt: P < D ? I : N,
                            lt: A.inside[L].lt,
                            Yt: A.inside[L].Yt
                        })));
                        var W = pt.Ut(A.inside[L], k);
                        A.inside[L].remain = W, d.push.apply(d, ri(W));
                    }
                }
                if (i = [], o = null, !(A.right && 0 < A.right.length)) break;
                A.right.sort(function(t, e) {
                    return t.lt - e.lt;
                });
                for (var U = 0; U < A.right.length; U++) {
                    var C = {
                        x: A.right[U].Wt.x - t.x,
                        y: A.right[U].Wt.y - t.y
                    }, V = {
                        x: A.right[U].Vt.x - t.x,
                        y: A.right[U].Vt.y - t.y
                    }, F = {
                        x: h.x - t.x,
                        y: h.y - t.y
                    };
                    if ((V = (C = (C = pt.Mt(F, C)) < 180 ? C : C - 360) < (F = (F = pt.Mt(F, V)) < 180 ? F : F - 360) ? C : F) < l) {
                        o = A.right[U], l = V;
                        break;
                    }
                }
                if (!o) break;
                i.push.apply(i, ri(A.right)), i.push.apply(i, ri(A.other));
            }
            return y.push.apply(y, d), s.push.apply(s, y), s;
        },
        mu: function(t, e, n, r, i) {
            if (1 != this.li) for (var o = {}, s = 0; s < n.De.length; s++) {
                var a = n.De[s];
                if (null != a && a != i && or.NaviModelPassType_DECORATE != a.pass && (null == i || i.pass == or.NaviModelPassType_DECORATE || !pt.ft(i.ri, a.be, a.be.length - 1))) for (var u = a.be.length, l = 0; l < u - 1; l++) {
                    if (pt.gt(t, e, a.be[l], a.be[l + 1], o) && !(pt.distanceOfTwoPoints(t, o) < .01)) return !1;
                }
            }
            for (var h = {}, f = n.Fe, c = 0; c < f.length; c++) {
                f[c];
                for (var p = f[c].Te, y = 0; y < p.length; y++) for (var d = p[y], v = 0; v < d.length - 1; v++) if (pt.gt(t, e, d[v], d[v + 1], h)) return !1;
                for (var b = f[c].be, g = 0; g < b.length - 1; g++) if (pt.gt(t, e, b[g], b[g + 1], h)) return !1;
            }
            for (var m = 0; m < n.Le.length; m++) {
                var O = n.Le[m];
                if (!(O.jn == r.jn || O.jn < 0)) if (pt.gt(t, e, O.Wt, O.Vt, {}) && .01 < pt.distanceOfTwoPoints(e, O.Wt) && .01 < pt.distanceOfTwoPoints(e, O.Vt)) return !1;
            }
            return !0;
        },
        wu: function(t, e) {
            for (var n = this.lu(this.ds), r = new Map(), i = 0; i < e.length; i++) {
                var o = !0, s = new ei(), a = pt.Lt(e[i].Wt, e[i].Vt, t), u = (pt.it(t, a, e[i].Wt, e[i].Vt).isintersect || (a = pt.lt(t, e[i].Wt) <= pt.lt(t, e[i].Vt) ? e[i].Wt : e[i].Vt), 
                s.tt = Object.assign({}, a), s.Yt = Object.assign({}, n.Le[n.do(e[i].jn)]), pt.lt(t, a));
                if (1 != this.li) for (var l = 0; l < n.De.length; l++) {
                    var h = n.De[l];
                    if (null != h && h != obstruct && or.NaviModelPassType_DECORATE != h.pass && (null == obstruct || obstruct.pass == or.NaviModelPassType_DECORATE || !pt.ft(obstruct.ri, h.be, h.be.length - 1))) for (var f = h.be.length, c = 0; c < f - 1; c++) {
                        var p = pt.it(t, a, h.be[c], h.be[c + 1]);
                        p.isintersect && (p = pt.lt(t, p.point)) < u && (u = p, s.ts = h, s.lt = Number.MAX_VALUE, 
                        s.ns = !1, s.rs = or.NaviObstructType_MODEL, o = !1);
                    }
                }
                for (var y, d = n.Fe, v = 0; v < d.length; v++) {
                    for (var b = d[v], g = d[v].Te, m = 0; m < g.length; m++) for (var O = g[m], x = 0; x < O.length - 1; x++) {
                        var E = pt._t(t, a, O[x], O[x + 1]);
                        E.isintersect && (E = pt.lt(t, E.point)) < u && (u = E, s.ts = b, s.lt = Number.MAX_VALUE, 
                        s.ns = !1, s.rs = or.NaviObstructType_EXTENT, o = !1);
                    }
                    for (var _ = d[v].be, T = 0; T < _.length - 1; T++) {
                        var w = pt._t(t, a, _[T], _[T + 1]);
                        w.isintersect && (w = pt.lt(t, w.point)) < u && (u = w, s.ts = b, s.lt = Number.MAX_VALUE, 
                        s.ns = !1, s.rs = or.NaviObstructType_EXTENT, o = !1);
                    }
                }
                o && ((y = r.get(s.Yt.jn)) ? y.push(s) : ((y = []).push(s), r.set(s.Yt.jn, y)));
            }
        },
        Hs: function(t, e) {
            for (var n, r = 0; r < this.Ls.length; r++) if (pt.ft(t, this.Ls[r].be, this.Ls[r].gu)) return a.ROUTE_FAILED_NO_DEST_ARRIVAL;
            if (1 === this.li) return (n = this._u(t, e)).road ? (n = this.ju(this.ds, n.coords, n.road), 
            void (this.xo = n)) : a.ROUTE_FAILED_NO_START_ARRIVAL;
            for (var i = this.pu(t, e), o = new Map(), s = 0; s < i.length; s++) {
                var u, l = {
                    x: null,
                    y: null
                }, h = i[s];
                if (pt.St(t, h.Wt, h.Vt, l) ? l.lt = 0 : (pt.distanceOfTwoPoints(t, h.Wt) < pt.distanceOfTwoPoints(t, h.Vt) ? (l.x = h.Wt.x, 
                l.y = h.Wt.y) : (l.x = h.Vt.x, l.y = h.Vt.y), f = pt.St(t, h.Yt.Wt, h.Yt.Vt, u = {
                    x: null,
                    y: null
                }), l.lt = f ? pt.lt(l, u) : Number.MAX_VALUE), pt.distanceOfTwoPoints(l, h.Yt.Wt) < .001 ? (l.id = h.Yt.ne, 
                l.newNode = !1) : pt.distanceOfTwoPoints(l, h.Yt.Vt) < .001 ? (l.id = h.Yt.re, l.newNode = !1) : l.newNode = !0, 
                null != this.es && this.es.pass == or.NaviModelPassType_PASS_THROUGH && 0 == this.es.Re.length ? this.mu(t, l, e, h.Yt, this.es) : this.mu(t, l, e, h.Yt)) {
                    var f = {
                        tt: l,
                        Yt: h.Yt,
                        lt: i[s].lt
                    };
                    if (o.has(h.qt)) {
                        for (var c = o.get(h.qt), p = !1, y = 0; y < c.length; y++) if (pt.distanceOfTwoPoints(c[y].tt, l) < .01) {
                            p = !0;
                            break;
                        }
                        p || o.get(h.qt).push(f);
                    } else o.set(h.qt, [ f ]);
                }
            }
            var d, v = !0, b = (this.xo = this.$s(this.ds, t), null == this.es && (v = !1), 
            new Map()), g = new Map(), m = ni(o);
            try {
                for (m.s(); !(d = m.n()).done; ) {
                    var O, x = d.value, E = !1, _ = ni(x[1]);
                    try {
                        for (_.s(); !(O = _.n()).done; ) {
                            var T = O.value;
                            if (T.tt.newNode && T.tt.lt < .01) {
                                b.set(x[0], [ T ]), E = !0;
                                break;
                            }
                        }
                    } catch (t) {
                        _.e(t);
                    } finally {
                        _.f();
                    }
                    E || g.set(x[0], x[1]);
                }
            } catch (t) {
                m.e(t);
            } finally {
                m.f();
            }
            if (null != (o = 0 < b.size ? b : g) && 0 < o.size) {
                v = !1;
                var w, S = ni(o);
                try {
                    for (S.s(); !(w = S.n()).done; ) for (var R = w.value[1], j = 0; j < R.length; j++) 0 != R[j].Yt.fe && (v = !0);
                } catch (t) {
                    S.e(t);
                } finally {
                    S.f();
                }
                var A, L = ni(o);
                try {
                    for (L.s(); !(A = L.n()).done; ) {
                        var N = A.value[1];
                        if (N.sort(function(t, e) {
                            return t.tt.lt - e.tt.lt;
                        }), N[0].Yt, N[0].tt.lt == Number.MAX_VALUE) {
                            var I, P = ni(N);
                            try {
                                for (P.s(); !(I = P.n()).done; ) {
                                    var D = I.value, k = this.ju(this.ds, D.tt, D.Yt);
                                    this.Su(this.ds, this.xo, k, D.Yt.fe);
                                }
                            } catch (t) {
                                P.e(t);
                            } finally {
                                P.f();
                            }
                        } else {
                            var M = this.ju(this.ds, N[0].tt, N[0].Yt);
                            this.Su(this.ds, this.xo, M, N[0].Yt.fe);
                        }
                    }
                } catch (t) {
                    L.e(t);
                } finally {
                    L.f();
                }
            }
            if (v && null != this.es && this.es.Re && 0 < this.es.Re.length) for (var W = null, U = this.hs.get(this.ds), C = 0; C < this.es.Re.length; C++) {
                W = this.es.Re[C];
                var V = this.es.ke[C];
                if (V == or.NaviEntranceType_EXIT || V == or.NaviEntranceType_ACCESS) {
                    for (var F = this.es.Te, Y = !0, G = 0; G < F.length; G++) {
                        for (var q = F[G], B = 0; B < q.length - 1; B++) if (pt.et(t, W.ai, q[B], q[B + 1])) {
                            Y = !1;
                            break;
                        }
                        if (0 == Y) break;
                    }
                    var z = [];
                    this.gs && this.gs.get(this.ds) && z.push.apply(z, ri(this.gs.get(this.ds))), this.ws && this.ws.get(this.ds) && z.push.apply(z, ri(this.ws.get(this.ds)));
                    for (var X = 0; X < z.length; X++) {
                        for (var Z = z[X], H = Z.be.length, J = {}, K = 0; K < H - 1; K++) {
                            if (pt.gt(t, W.ai, Z.be[K], Z.be[K + 1], J) && !(pt.distanceOfTwoPoints(W.ai, J) < .01)) {
                                Y = !1;
                                break;
                            }
                        }
                        if (!Y) break;
                    }
                    if (0 != Y) {
                        for (var Q = 0; Q < U.Le.length; Q++) {
                            var $ = U.Le[Q];
                            if (0 != $.fe && pt.et(t, W.ai, $.Wt, $.Vt) && 0 < $.jn && 0 == W.vu.includes($.jn)) {
                                Y = !1;
                                break;
                            }
                        }
                        0 != Y && this.Su(this.ds, this.xo, W);
                    }
                }
            }
        },
        Qs: function(t, e) {
            for (var n, r = 0; r < this.Ls.length; r++) if (pt.ft(t, this.Ls[r].be, this.Ls[r].gu)) return a.ROUTE_FAILED_NO_DEST_ARRIVAL;
            if (1 === this.li) return (n = this._u(t, e)).road ? (n = this.ju(this.bs, n.coords, n.road), 
            t.Ws && (n.Ws = t.Ws), void (this.Lo = n)) : a.ROUTE_FAILED_NO_DEST_ARRIVAL;
            for (var i = this.pu(t, e), o = new Map(), s = 0; s < i.length; s++) {
                var u, l = {
                    x: null,
                    y: null
                }, h = i[s];
                if (pt.St(t, h.Wt, h.Vt, l) ? l.lt = 0 : (pt.distanceOfTwoPoints(t, h.Wt) < pt.distanceOfTwoPoints(t, h.Vt) ? (l.x = h.Wt.x, 
                l.y = h.Wt.y) : (l.x = h.Vt.x, l.y = h.Vt.y), f = pt.St(t, h.Yt.Wt, h.Yt.Vt, u = {
                    x: null,
                    y: null
                }), l.lt = f ? pt.lt(l, u) : Number.MAX_VALUE), pt.distanceOfTwoPoints(l, h.Yt.Wt) < .001 ? (l.id = h.Yt.ne, 
                l.newNode = !1) : pt.distanceOfTwoPoints(l, h.Yt.Vt) < .001 ? (l.id = h.Yt.re, l.newNode = !1) : l.newNode = !0, 
                null != this.ss && this.ss.pass == or.NaviModelPassType_PASS_THROUGH && 0 == this.ss.Re.length ? this.mu(t, l, e, h.Yt, this.ss) : this.mu(t, l, e, h.Yt)) {
                    var f = {
                        tt: l,
                        Yt: h.Yt
                    };
                    if (o.has(h.qt)) {
                        for (var c = o.get(h.qt), p = !1, y = 0; y < c.length; y++) if (pt.distanceOfTwoPoints(c[y].tt, l) < .01) {
                            p = !0;
                            break;
                        }
                        p || o.get(h.qt).push(f);
                    } else o.set(h.qt, [ f ]);
                }
            }
            var d, v = !0, b = (this.Lo = this.$s(this.bs, t), t.Ws && (this.Lo.Ws = t.Ws), 
            null == this.ss && (v = !1), new Map()), g = new Map(), m = ni(o);
            try {
                for (m.s(); !(d = m.n()).done; ) {
                    var O, x = d.value, E = !1, _ = ni(x[1]);
                    try {
                        for (_.s(); !(O = _.n()).done; ) {
                            var T = O.value;
                            if (T.tt.newNode && T.tt.lt < .01) {
                                b.set(x[0], [ T ]), E = !0;
                                break;
                            }
                        }
                    } catch (t) {
                        _.e(t);
                    } finally {
                        _.f();
                    }
                    E || g.set(x[0], x[1]);
                }
            } catch (t) {
                m.e(t);
            } finally {
                m.f();
            }
            if (null != (o = 0 < b.size ? b : g) && 0 < o.size) {
                v = !1;
                var w, S = ni(o);
                try {
                    for (S.s(); !(w = S.n()).done; ) for (var R = w.value[1], j = 0; j < R.length; j++) 0 != R[j].Yt.fe && (v = !0);
                } catch (t) {
                    S.e(t);
                } finally {
                    S.f();
                }
                var A, L = ni(o);
                try {
                    for (L.s(); !(A = L.n()).done; ) {
                        var N = A.value[1];
                        if (N.sort(function(t, e) {
                            return t.tt.lt - e.tt.lt;
                        }), N[0].Yt, N[0].tt.lt == Number.MAX_VALUE) {
                            var I, P = ni(N);
                            try {
                                for (P.s(); !(I = P.n()).done; ) {
                                    var D = I.value, k = this.ju(this.bs, D.tt, D.Yt);
                                    this.Su(this.bs, this.Lo, k, D.Yt.fe);
                                }
                            } catch (t) {
                                P.e(t);
                            } finally {
                                P.f();
                            }
                        } else {
                            var M = this.ju(this.bs, N[0].tt, N[0].Yt);
                            this.Su(this.bs, this.Lo, M, N[0].Yt.fe);
                        }
                    }
                } catch (t) {
                    L.e(t);
                } finally {
                    L.f();
                }
            }
            if (v && null != this.ss && this.ss.Re && 0 < this.ss.Re.length) for (var W = null, U = this.hs.get(this.bs), C = 0; C < this.ss.Re.length; C++) {
                W = this.ss.Re[C];
                var V = this.ss.ke[C];
                if (V == or.NaviEntranceType_ENTRANCE || V == or.NaviEntranceType_ACCESS) {
                    for (var F = this.ss.Te, Y = !0, G = 0; G < F.length; G++) {
                        for (var q = F[G], B = 0; B < q.length - 1; B++) if (pt.et(t, W.ai, q[B], q[B + 1])) {
                            Y = !1;
                            break;
                        }
                        if (0 == Y) break;
                    }
                    var z = [];
                    this.gs && this.gs.get(this.bs) && z.push.apply(z, ri(this.gs.get(this.bs))), this.ws && this.ws.get(this.bs) && z.push.apply(z, ri(this.ws.get(this.bs)));
                    for (var X = 0; X < z.length; X++) {
                        for (var Z = z[X], H = Z.be.length, J = {}, K = 0; K < H - 1; K++) {
                            if (pt.gt(t, W.ai, Z.be[K], Z.be[K + 1], J) && !(pt.distanceOfTwoPoints(W.ai, J) < .01)) {
                                Y = !1;
                                break;
                            }
                        }
                        if (!Y) break;
                    }
                    if (0 != Y) {
                        for (var Q = 0; Q < U.Le.length; Q++) {
                            var $ = U.Le[Q];
                            if (0 != $.fe && pt.et(t, W.ai, $.Wt, $.Vt) && 0 < $.jn && 0 == W.vu.includes($.jn)) {
                                Y = !1;
                                break;
                            }
                        }
                        0 != Y && this.Su(this.bs, this.Lo, W);
                    }
                }
            }
        },
        Vs: function(t, e, n) {
            var r, i, o = this, s = t instanceof Array && 2 == t.length && (t = {
                x: t[0],
                y: t[1]
            }), a = !0, u = this.zs(t), l = this.Po.wo(t), h = this.Po._o(t);
            s = null != l && l.pass == or.NaviModelPassType_PASS_THROUGH && 0 == l.Re.length ? this.Ou(h, t, 30, l) : this.Ou(h, t);
            if (1 === this.li) return (f = this.yu(s)) ? (r = f.Yt, i = null, (i = 0 == (r = this.Eu(h, t, r, [ f ], l)).length ? this.ju(h, f.tt, f.Yt) : this.ju(h, r[0].tt, r[0].Yt)).Ws = void 0 !== n && n, 
            n && (Object.assign(t, i.ai), i.ai = t), Object.assign(e, i), !0) : void 0;
            var f = this.$s(h, t);
            if (f.Ws = void 0 !== n && n, Object.assign(e, f), null == l && (a = !1), 0 < s.size) {
                a = !1;
                var c, p = ni(s);
                try {
                    for (p.s(); !(c = p.n()).done; ) for (var y = c.value[1], d = 0; d < y.length; d++) 0 != y[d].Yt.fe && (a = !0);
                } catch (t) {
                    p.e(t);
                } finally {
                    p.f();
                }
                var v, b = !1, g = [], m = ni(s);
                try {
                    for (m.s(); !(v = m.n()).done; ) {
                        var O, x = v.value[1], E = x[0].Yt, _ = this.Eu(h, t, E, x, l);
                        if (0 == _.length) {
                            var T, w = ni(x);
                            try {
                                for (w.s(); !(T = w.n()).done; ) {
                                    var S = T.value, R = this.ju(h, S.tt, S.Yt);
                                    this.Su(h, e, R);
                                }
                            } catch (t) {
                                w.e(t);
                            } finally {
                                w.f();
                            }
                        } else Math.abs(_[0].Tu) > pt.Y() ? g.push.apply(g, ri(_)) : (b = !0, O = this.ju(h, _[0].tt, _[0].Yt), 
                        this.Su(h, e, O));
                    }
                } catch (t) {
                    m.e(t);
                } finally {
                    m.f();
                }
                b || g.forEach(function(t) {
                    t = o.ju(h, t.tt, t.Yt), o.Su(h, e, t);
                });
            }
            if (l && l.pass != or.NaviModelPassType_NOT_PASS) {
                if (l.pass === or.NaviModelPassType_PASS_THROUGH || l.pass === or.NaviModelPassType_PASS_NOT_THROUGH) {
                    for (var j = {}, A = [], L = [], N = this.Po.Le, I = !0, P = 0; P < l.pe; P++) for (var D = l.be[P], k = l.be[P + 1], M = 0; M < N.length; M++) {
                        var W = N[M];
                        1 === pt.gt(D, k, W.Wt, W.Vt, j) && or.NaviRoadEntry_FORBID !== W.fe && (I = !1, 
                        (W = {}).x = j.x, W.y = j.y, A.push(W), L.push(N[M]));
                    }
                    if (!I) {
                        l.Re = [], l.ke = [], l.Ne = [];
                        for (var U = 0; U < A.length; U++) {
                            var C = L[U], V = this.cu(u, A[U], C);
                            V.vu.push(C.jn), V.Xr = or.NaviNodeType_COMMON, C.fe === or.NaviRoadEntry_BOTH ? V.entranceType = or.NaviEntranceType_ACCESS : pt.ft(C.Wt, l.be, l.pe) ? (C.fe === or.NaviRoadEntry_FORWARD && (V.entranceType = or.NaviEntranceType_EXIT), 
                            C.fe === or.NaviRoadEntry_BACK && (V.entranceType = or.NaviEntranceType_ENTRANCE)) : (C.fe === or.NaviRoadEntry_FORWARD && (V.entranceType = or.NaviEntranceType_ENTRANCE), 
                            C.fe === or.NaviRoadEntry_BACK && (V.entranceType = or.NaviEntranceType_EXIT)), 
                            l.Re.push(V), l.ke.push(V.entranceType), l.Ne.push(V.Xr);
                        }
                    }
                }
                if (a && null != l && l.Re && 0 < l.Re.length) {
                    for (var F = !1, Y = 0; Y < l.Re.length; Y++) {
                        var G = l.Re[Y], q = l.ke[Y];
                        q != or.NaviEntranceType_EXIT && q != or.NaviEntranceType_ACCESS || (this.Su(h, e, G), 
                        F = !0);
                    }
                    if (!F) return !1;
                }
                return !0;
            }
        },
        Ks: function() {
            if ((t = ((t = this.Ru(this.xo.ai)) && (this.nu(this.ds, t, or.NaviRoadHinderType_HINDER_GENERAL), 
            this.js.push({
                ru: this.ds,
                ts: t
            })), this.Ru(this.Lo.ai))) && (this.nu(this.bs, t, or.NaviRoadHinderType_HINDER_GENERAL), 
            this.js.push({
                ru: this.bs,
                ts: t
            })), this.ys = [], this.ds === this.bs) {
                if ((n = (t = this.Nu(this.ds)).Vo(this.xo, this.Lo, this.Go)) !== a.ROUTE_SUCCESS) return n;
                n = t.Xo(), this.ys = [], n.reverse(), (t = this.ys).push.apply(t, ri(n));
            } else {
                if (-1 !== this.ds && -1 === this.bs) {
                    var t = this.ku(this.xo.ai, this.ds, or.NaviEntranceType_EXIT);
                    if ((r = (n = this.cs.get(this.ds)).Vo(this.xo, t, this.Go)) != a.ROUTE_SUCCESS) return r;
                    var e = n.Xo(e);
                    if ((r = (n = this._contain_zoneIdDijkstras.get(-1)).Vo(t, this.Lo, this.Go)) != a.ROUTE_SUCCESS) return r;
                    t = n.Xo(), e.reverse(), t.reverse(), (r = this.ys).push.apply(r, ri(e)), (n = this.ys).push.apply(n, ri(t));
                }
                if (-1 === this.ds && -1 !== this.bs) {
                    var n, r = this.ku(this.Lo.ai, this.bs, or.NaviEntranceType_ENTRANCE);
                    if ((n = (e = this.cs.get(this.bs)).Vo(r, this.Lo, this.Go)) != a.ROUTE_SUCCESS) return n;
                    if (t = e.Xo(), (n = (e = this.cs.get(-1)).Vo(this.xo, r, this.Go)) != a.ROUTE_SUCCESS) return n;
                    (r = e.Xo()).reverse(), t.reverse(), (n = this.ys).push.apply(n, ri(r)), (e = this.ys).push.apply(e, ri(t));
                }
                if (-1 !== this.ds && -1 !== this.bs) {
                    if (n = this.ku(this.xo.ai, this.ds, or.NaviEntranceType_EXIT), (e = (r = this.cs.get(this.ds)).Vo(this.xo, n, this.Go)) != a.ROUTE_SUCCESS) return e;
                    var i = r.Xo(i);
                    t = this.ku(this.Lo.ai, this.bs, or.NaviEntranceType_ENTRANCE);
                    if ((e = (r = this.cs(this.bs)).Vo(t, this.Lo, this.Go)) != a.ROUTE_SUCCESS) return e;
                    var o = r.Xo(o);
                    if ((e = (r = this.cs(-1)).Vo(n, t, this.Go)) != a.ROUTE_SUCCESS) return e;
                    n = r.Xo(), i.reverse(), n.reverse(), o.reverse(), (t = this.ys).push.apply(t, ri(i)), 
                    (e = this.ys).push.apply(e, ri(n)), (r = this.ys).push.apply(r, ri(o));
                }
            }
            return a.ROUTE_SUCCESS;
        },
        Mu: function(t, e, n) {
            for (var r = 0; r < e; r++) if (null != t[r] && t[r].jn == n) return r;
            return -1;
        },
        zs: function(t) {
            for (var e = this.Po.Ce, n = 0; n < e.length; n++) {
                var r = e[n];
                if (r.Oe(t)) return r.jn;
            }
            return -1;
        },
        Ds: function() {
            for (var t = this.Po.Ce, e = 0; e < t.length; e++) {
                var n = t[e], r = this.Iu(this.Po, n);
                this.hs.set(n.jn, r);
            }
            this.hs.set(-1, this.Po);
            var i, o = ni(this.hs);
            try {
                for (o.s(); !(i = o.n()).done; ) {
                    var s = i.value;
                    s[1].ze(), this.cs.set(s[0], new Zr(s[1]));
                }
            } catch (t) {
                o.e(t);
            } finally {
                o.f();
            }
        },
        Iu: function(t, e) {
            if (t && e) {
                for (var n, r = 0, i = 0, o = t.Le.length, s = t.xe.length, a = t.Le, u = t.xe, l = 0, h = new Int8Array(o), f = 0; f < o; f++) a[f] && a[f].fe != or.NaviRoadEntry_FORBID && (n = a[f], 
                r = e.contain(n.Wt), i = e.contain(n.Vt), 0 == r && 0 == i || (l = !0), 1 == r && 1 == i && (h[f] = 1), 
                1 == r && 0 == i && (h[f] = 2), 0 == r && 1 == i && (h[f] = 3), 0 == r && 0 == i && (h[f] = 4), 
                2 == r && 0 == i && (h[f] = 6), 2 == r && 1 == i && (h[f] = 7), 0 == r && 2 == i && (h[f] = 8), 
                1 == r) && 2 == i && (h[f] = 9);
                if (0 == l) return null;
                for (var c, p, y, d, v, b, g = new Array(s), m = new Array(o), O = 0, x = new Int8Array(s), E = 0, _ = j = h.length; E < _; E++) 0 != h[E] && 6 != h[E] && 8 != h[E] && 1 != h[E] && a[E] && (b = (c = a[E]).fe, 
                v = [ c.jn ], 2 == h[E] || 9 == h[E] ? (p = null, p = 2 == h[E] ? e.gt(c.Wt, c.Vt) : Object.assign({}, c.Vt), 
                (y = new mr()).jn = this.oo(), y.Xr = or.NaviNodeType_COMMON, y.Hr = or.NaviLiftType_NULL, 
                y.entranceType = or.NaviEntranceType_ACCESS, y.ai = Object.assign({}, p), (p = new Sr()).setRoad(c), 
                p.jn = this.so(), v.push(p.jn), y.segLinks = v, (d = new mr()).setNode(y), b == or.NaviRoadEntry_FORWARD ? d.entranceType = or.NaviEntranceType_EXIT : b == or.NaviRoadEntry_BACK && (d.entranceType = or.NaviEntranceType_ENTRANCE), 
                e.je.push(d), O = this.Mu(u, s, p.re), p.Vt = Object.assign({}, d.ai), p.ee[1] = Object.assign({}, d.ai), 
                p.re = d.jn, p.ve(), m[E] = p, g[O] = d, g[O = this.Mu(u, s, p.ne)] = u[O], g[O].segLinks.splice(g[O].segLinks.indexOf(c.jn), 1, p.jn), 
                (d = new mr()).setNode(y), c.ne = d.jn, c.Wt = Object.assign({}, d.ai), c.ee[0] = Object.assign({}, d.ai), 
                c.ve(), u[O].segLinks.splice(u[O].segLinks.indexOf(c.jn), 1), u.push(d), x[O] = 2) : 3 != h[E] && 7 != h[E] || (p = null, 
                p = 3 == h[E] ? e.gt(c.Wt, c.Vt) : Object.assign({}, c.Wt), (y = new mr()).jn = this.oo(), 
                y.Xr = or.NaviNodeType_COMMON, y.Hr = or.NaviLiftType_NULL, y.entranceType = or.NaviEntranceType_ACCESS, 
                y.ai = Object.assign({}, p), (d = new Sr()).setRoad(c), d.jn = this.so(), v.push(d.jn), 
                y.segLinks = v, (v = new mr()).setNode(y), b == or.NaviRoadEntry_FORWARD ? v.entranceType = or.NaviEntranceType_ENTRANCE : b == or.NaviRoadEntry_BACK && (v.entranceType = or.NaviEntranceType_EXIT), 
                e.je.push(v), O = this.Mu(u, s, d.ne), d.Wt = Object.assign({}, v.ai), d.ee[0] = Object.assign({}, v.ai), 
                d.ne = v.jn, d.ve(), m[E] = d, g[O] = v, g[O = this.Mu(u, s, d.re)] = u[O], g[O].segLinks.splice(g[O].segLinks.indexOf(c.jn), 1, d.jn), 
                (b = new mr()).setNode(y), c.re = b.jn, c.Vt = Object.assign({}, b.ai), c.ee[1] = Object.assign({}, b.ai), 
                c.ve(), u[O].segLinks.splice(u[O].segLinks.indexOf(c.jn), 1), u.push(b), x[O] = 2));
                for (var T, w = 0, S = j; w < S; w++) 1 == h[w] && (T = a[w]) && (m[w] = T, 2 != x[O = this.Mu(u, s, T.ne)] && (g[O] = u[O], 
                x[O] = 1), 2 != x[O = this.Mu(u, s, T.re)] && (g[O] = u[O], x[O] = 1), a[w] = null);
                for (var R = 0; R < s; R++) 1 == x[R] && (u[R] = null);
                for (var j = new Vr(g, m, !0, 1), A = [], L = t.De, N = 0; N < L.length; N++) {
                    var I = L[N];
                    I && this.Au(I, e) && A.push(I);
                }
                return (t = j.De).push.apply(t, A), j;
            }
        },
        Fs: function() {
            var t, e = ni(this.hs);
            try {
                for (e.s(); !(t = e.n()).done; ) for (var n = t.value, r = n[0], i = n[1].De, o = 0; o < i.length; o++) {
                    var s, a = i[o];
                    or.NaviModelPassType_PASS_NOT_THROUGH == a.pass && ((s = this.ws.get(r)) || (s = [], 
                    this.ws.set(r, s)), s.push(a));
                }
            } catch (t) {
                e.e(t);
            } finally {
                e.f();
            }
        },
        Gs: function() {
            var t, e = ni(this.hs);
            try {
                for (e.s(); !(t = e.n()).done; ) for (var n = t.value, r = n[0], i = n[1].De, o = 0; o < i.length; o++) {
                    var s, a = i[o];
                    or.NaviModelPassType_NOT_PASS == a.pass && ((s = this.gs.get(r)) || (s = [], this.gs.set(r, s)), 
                    s.push(a));
                }
            } catch (t) {
                e.e(t);
            } finally {
                e.f();
            }
        },
        Cs: function() {
            var t, e = ni(this.ws);
            try {
                for (e.s(); !(t = e.n()).done; ) for (var n = t.value, r = n[0], i = n[1], o = this.lu(r).Le, s = 0; s < i.length; s++) {
                    for (var a = i[s], u = 0; u < o.length; u++) {
                        var l, h = o[u].de();
                        pt.ft(h, a.be, a.pe) && (o[u].Dr = o[u].Dr * this.Ts, (l = this._s.get(a.jn)) || (l = [], 
                        this._s.set(a.jn, l)), l.push(o[u]));
                    }
                    this.nu(r, a, or.NaviRoadHinderType_HINDER_HIGH);
                }
            } catch (t) {
                e.e(t);
            } finally {
                e.f();
            }
        },
        Bs: function() {
            var t, e = ni(this.gs);
            try {
                for (e.s(); !(t = e.n()).done; ) for (var n = t.value, r = n[0], i = n[1], o = this.lu(r).Le, s = 0; s < i.length; s++) for (var a = i[s], u = 0; u < o.length; u++) {
                    var l = o[u], h = l.fe, f = l.de();
                    if (pt.ft(f, a.be, a.pe)) {
                        if (l.Dr = Number.MAX_VALUE, h == or.NaviRoadEntry_BOTH || h == or.NaviRoadEntry_FORWARD) {
                            var c = this.lu(r).Ue.get(l.ne);
                            if (c) for (var p = 0; p < c.length; p++) c[p].vo == l.re && (c[p].Dr = l.Dr);
                        }
                        if (l.fe == or.NaviRoadEntry_BOTH || l.fe == or.NaviRoadEntry_BACK) {
                            var y = this.lu(r).Ue.get(l.re);
                            if (y) for (var d = 0; d < y.length; d++) y[d].vo == l.ne && (y[d].Dr = l.Dr);
                        }
                    }
                }
            } catch (t) {
                e.e(t);
            } finally {
                e.f();
            }
        },
        nu: function(t, e, n) {
            var r = this._s.get(e.jn);
            if (r) {
                if (or.NaviRoadHinderType_HINDER_HIGH == n) for (var i = 0; i < r.length; i++) {
                    var o = r[i];
                    if (o.ve(), o.Dr = o.Dr * this.Ts, o.fe == or.NaviRoadEntry_BOTH || o.fe == or.NaviRoadEntry_FORWARD) {
                        var s = this.lu(t).Ue.get(o.ne);
                        if (s) for (var a = 0; a < s.length; a++) s[a].vo == o.re && (s[a].Dr = o.Dr);
                    }
                    if (o.fe == or.NaviRoadEntry_BOTH || o.fe == or.NaviRoadEntry_BACK) {
                        var u = this.lu(t).Ue.get(o.re);
                        if (u) for (var l = 0; l < u.length; l++) u[l].vo == o.ne && (u[l].Dr = o.Dr);
                    }
                }
                if (or.NaviRoadHinderType_HINDER_GENERAL == n) for (var h = 0; h < r.length; h++) {
                    var f = r[h];
                    if (f.ve(), f.fe == or.NaviRoadEntry_BOTH || f.fe == or.NaviRoadEntry_FORWARD) {
                        var c = this.lu(t).Ue.get(f.ne);
                        if (c) for (var p = 0; p < c.length; p++) c[p].vo == f.re && (c[p].Dr = f.Dr);
                    }
                    if (f.fe == or.NaviRoadEntry_BOTH || f.fe == or.NaviRoadEntry_BACK) {
                        var y = this.lu(t).Ue.get(f.re);
                        if (y) for (var d = 0; d < y.length; d++) y[d].vo == f.ne && (y[d].Dr = f.Dr);
                    }
                }
            }
        },
        ku: function(t, e, n) {
            var r = this.Po.Ke(e);
            if (null == r) return null;
            for (var i = this.lu(e).eo(t, void 0), o = (i.area, Number.MAX_VALUE), s = null, a = 0; a < r.je.length; a++) {
                var u, l = r.je[a], h = pt.lt(l.ai, t);
                l.entranceType != or.NaviEntranceType_ACCESS && l.entranceType != n || h < o && ((u = this.Pu(e, l.ai)) == i || u.pass != or.NaviModelPassType_PASS_NOT_THROUGH) && (o = h, 
                s = l);
            }
            return s;
        },
        Pu: function(t, e) {
            for (var n = null, r = (t = this.lu(t), Number.MAX_VALUE), i = Number.MAX_VALUE, o = null, s = t.De, a = 0; a < s.length; a++) {
                var u, l = s[a];
                (u = pt._pointToPolygon2d(l.be, e, l.be.length - 1)) < i && (i = u, o = l), this.ks > u && (u = l.area) < r && (r = u, 
                n = l);
            }
            return null == n ? o : n;
        },
        Au: function(t, e) {
            return !!t.bound.isCross(e.bound) && (t = t.ri, !!pt.ft(t, e.be, e.pe));
        },
        ju: function(t, e, n) {
            for (var r = this.Ms.find(function(t) {
                return t == n.ne;
            }), i = this.Ms.find(function(t) {
                return t == n.re;
            }), o = (null == r && this.Ms.push(n.ne), null == i && this.Ms.push(n.re), this.Es), s = null, a = 0; a < o.length; a++) if (o[a].xu == n) {
                s = o[a];
                break;
            }
            if (null == s) (s = {}).xu = n, o.push(s); else for (;null != s.Lu; ) {
                var u = s.Lu.xu;
                s = pt.st(e, u.Wt, u.Vt) ? s.Lu : s.Du;
            }
            n = s.xu;
            var l, h, f;
            r = new mr();
            return e.id ? r.jn = e.id : r.jn = this.fu(), r.ai.x = e.x, r.ai.y = e.y, r.Fu = !1 !== e.newNode, 
            !r.Fu && 1 !== this.li || ((i = new Sr()).jn = this.fu(), i.ne = n.ne, i.Wt = n.Wt, 
            i.re = r.jn, i.Vt = r.ai, i.ee = [ n.Wt, r.ai ], i.ae = n.ae, (l = new Sr()).jn = this.fu(), 
            l.ne = r.jn, l.Wt = r.ai, l.re = n.re, l.Vt = n.Vt, l.ee = [ r.ai, n.Vt ], l.ae = n.ae, 
            this.Ss.push(i), this.Ss.push(l), (f = {}).xu = i, (h = {}).xu = l, s.Lu = f, s.Du = h, 
            r.tempType = 1, i.tempType = 1, l.tempType = 1, i.ve(), l.ve(), i.fe = n.fe, l.fe = n.fe, 
            (f = this.lu(t)).xe.push(r), f.Le.push(i), f.Le.push(l), (h = this.Nu(t).Po).We.set(r.jn, f.xe.length - 1), 
            n.fe == or.NaviRoadEntry_BOTH && ((t = []).push({
                vo: n.ne,
                Dr: i.Dr
            }), t.push({
                vo: n.re,
                Dr: l.Dr
            }), h.Ue.set(r.jn, t), (t = h.Ue.get(n.ne)) || h.Ue.set(n.ne, t = []), t.push({
                vo: r.jn,
                Dr: i.Dr
            }), (t = h.Ue.get(n.re)) || h.Ue.set(n.re, t = []), t.push({
                vo: r.jn,
                Dr: l.Dr
            })), n.fe == or.NaviRoadEntry_FORWARD && ((f = []).push({
                vo: n.re,
                Dr: l.Dr
            }), h.Ue.set(r.jn, f), (f = h.Ue.get(n.ne)) || h.Ue.set(n.ne, f = []), f.push({
                vo: r.jn,
                Dr: i.Dr
            })), n.fe != or.NaviRoadEntry_BACK) || ((t = []).push({
                vo: n.ne,
                Dr: i.Dr
            }), h.Ue.set(r.jn, t), (t = h.Ue.get(n.re)) || h.Ue.set(n.re, t = []), t.push({
                vo: r.jn,
                Dr: l.Dr
            })), r;
        },
        Gu: function(t, e) {
            for (var n = e.length - 1; 0 <= n; n--) if (e[n].jn && 0 < e[n].jn) return e.splice(n + 1, 0, t), 
            n + 1;
            return -1;
        },
        cu: function(t, e, n, r) {
            var i, o, s;
            return r ? this.ju(t, e, n) : (r = this.lu(t), (t = new mr()).jn = this.oo(), t.ai = e, 
            (e = new Sr()).jn = this.so(), e.ne = n.ne, e.Wt = n.Wt, e.re = t.jn, e.Vt = t.ai, 
            e.ae = n.ae, e.ee = [ n.Wt, t.ai ], (i = new Sr()).jn = this.so(), i.ne = t.jn, 
            i.Wt = t.ai, i.re = n.re, i.Vt = n.Vt, i.ae = n.ae, i.ee = [ t.ai, n.Vt ], (o = []).push(e.jn), 
            o.push(i.jn), t.segLinks = o, e.ve(), i.ve(), e.fe = n.fe, i.fe = n.fe, o = r.xe, 
            s = r.Le, o = this.Gu(t, o), this.Gu(e, s), this.Gu(i, s), r.We.set(t.jn, o), n.fe == or.NaviRoadEntry_BOTH && ((s = []).push({
                vo: n.ne,
                Dr: e.Dr
            }), s.push({
                vo: n.re,
                Dr: i.Dr
            }), r.Ue.set(t.jn, s), (s = r.Ue.get(n.ne)) || r.Ue.set(n.ne, s = []), s.push({
                vo: t.jn,
                Dr: e.Dr
            }), (s = r.Ue.get(n.re)) || r.Ue.set(n.re, s = []), s.push({
                vo: t.jn,
                Dr: i.Dr
            })), n.fe == or.NaviRoadEntry_FORWARD && ((o = []).push({
                vo: n.re,
                Dr: i.Dr
            }), r.Ue.set(t.jn, o), (o = r.Ue.get(n.ne)) || r.Ue.set(n.ne, o = []), o.push({
                vo: t.jn,
                Dr: e.Dr
            })), n.fe == or.NaviRoadEntry_BACK && ((s = []).push({
                vo: n.ne,
                Dr: e.Dr
            }), r.Ue.set(t.jn, s), (s = r.Ue.get(n.re)) || r.Ue.set(n.re, s = []), s.push({
                vo: t.jn,
                Dr: i.Dr
            })), t.vu = [], t.vu.push(e.jn), t.vu.push(i.jn), t);
        },
        Cu: function(t) {
            if (null != t) {
                for (var e = this.lu(t), n = e.xe.length - 1; 0 <= n; n--) {
                    var r = e.xe[n];
                    if (null == r || 0 <= r.jn) break;
                    e.xe.splice(n, 1);
                }
                for (var i = e.Le.length - 1; 0 <= i; i--) {
                    var o = e.Le[i];
                    if (null == o || 0 <= o.jn) break;
                    e.Le.splice(i, 1);
                }
            }
        },
        Bu: function(t, e) {
            var n = t.get(e);
            if (n) for (var r = 0; r < n.length; r++) n[r].vo < 0 && (n.splice(r, 1), r--);
        },
        Uu: function(t, e) {
            for (var n = t.get(e), r = 0; r < n.length; r++) this.Bu(t, n[r].vo);
            t.delete(e);
        },
        Zu: function(t, e, n, r, i) {
            r.lt = Number.MAX_VALUE, r.ns = !1, r.Tu = n;
            for (var o = Number.MAX_VALUE, s = {}, a = this.lu(t), u = Number.MAX_VALUE, l = 0; l < a.Le.length; l++) {
                var h, f = a.Le[l];
                null == f || f.jn < 0 || (f.fe == or.NaviRoadEntry_FORBID ? pt._t(e, n, f.Wt, f.Vt, s) && (h = pt.lt(e, s)) <= u && (u = h) : pt._t(e, n, f.Wt, f.Vt, s) && (h = pt.lt(e, s)) < o && (o = h, 
                r.tt = Object.assign({}, s), r.lt = o, r.Yt = f, r.ns = !0));
            }
            if (r.lt >= u) return r.lt = Number.MAX_VALUE, r.ns = !1;
            if (!r.ns) return !1;
            if (1 != this.li) for (var c = {}, p = 0; p < a.De.length; p++) {
                var y = a.De[p];
                if (null != y && y != i && or.NaviModelPassType_DECORATE != y.pass && (null == i || i.pass == or.NaviModelPassType_DECORATE || !pt.ft(i.ri, y.be, y.be.length - 1))) for (var d = y.be.length, v = 0; v < d - 1; v++) if (pt._t(e, n, y.be[v], y.be[v + 1], c)) {
                    var b = pt.lt(e, c);
                    if (b < o) return o = b, r.ts = y, r.lt = Number.MAX_VALUE, r.ns = !1, r.rs = or.NaviObstructType_MODEL, 
                    !1;
                }
            }
            for (var g = {}, m = a.Fe, O = 0; O < m.length; O++) {
                for (var x = m[O], E = m[O].Te, _ = 0; _ < E.length; _++) for (var T = E[_], w = 0; w < T.length - 1; w++) if (pt._t(e, n, T[w], T[w + 1], g)) {
                    var S = pt.lt(e, g);
                    if (S < o) return o = S, r.ts = x, r.lt = Number.MAX_VALUE, r.ns = !1, r.rs = or.NaviObstructType_EXTENT, 
                    !1;
                }
                for (var R = m[O].be, j = 0; j < R.length - 1; j++) if (pt._t(e, n, R[j], R[j + 1], g)) {
                    var A = pt.lt(e, g);
                    if (A < o) return o = A, r.ts = x, r.lt = Number.MAX_VALUE, r.ns = !1, r.rs = or.NaviObstructType_EXTENT, 
                    !1;
                }
            }
            return !0;
        },
        Wu: function(t, e) {
            return t.lt - e.lt;
        },
        Vu: function(t, e) {
            return e.Tu - t.Tu;
        },
        tu: function(t) {
            if (t = this.lu(t)) {
                for (var e = t.xe, n = t.We, r = e.length - 1; 0 <= r; r--) {
                    var i = e[r];
                    if (null == i || 0 <= i.jn) break;
                    n.delete(i.jn), e.splice(r, 1);
                }
                for (var o = t.Le, s = t.Ve, a = o.length - 1; 0 <= a; a--) {
                    var u = o[a];
                    if (null == u || 0 <= u.jn) break;
                    s.delete(u.jn), o.splice(a, 1);
                }
            }
        },
        iu: function() {
            this.qu(this.vs), this.qu(this.cs);
        },
        qu: function(t) {
            var e, n = ni(t);
            try {
                for (n.s(); !(e = n.n()).done; ) {
                    var r, i = e.value[1], o = [], s = i.Po.Ue, a = ni(s);
                    try {
                        for (a.s(); !(r = a.n()).done; ) {
                            var u = r.value;
                            u[0] < 0 && o.push(u[0]);
                        }
                    } catch (t) {
                        a.e(t);
                    } finally {
                        a.f();
                    }
                    for (var l = 0; l < o.length; l++) this.Uu(i.Po.Ue, o[l]);
                    for (var h = 0; h < this.Ms.length; h++) this.Bu(s, this.Ms[h]);
                }
            } catch (t) {
                n.e(t);
            } finally {
                n.f();
            }
        },
        Eu: function(t, e, n, r, i) {
            var o = [], s = {
                x: 0,
                y: 0
            };
            if (pt.St(e, n.Wt, n.Vt, s) && this.Yu(e, s, {}, i)) (i = {}).tt = s, i.ns = !0, 
            i.Yt = n, i.Tu = 0, i.lt = pt.lt(e, s), o.push(i); else {
                for (var a = {
                    x: s.x - e.x,
                    y: s.y - e.y
                }, u = 0; u < r.length; u++) {
                    var l = r[u], h = {
                        x: l.tt.x - e.x,
                        y: l.tt.y - e.y
                    };
                    h = pt.Mt(h, a);
                    l.Tu = 270 < h ? h - 360 : h;
                }
                r.sort(this.Vu);
                var f, c = null;
                if (r[r.length - 1].Tu < 0) c = r[r.length - 1], o.push(c); else for (var p = 0; p < r.length; p++) if (0 < r[p].Tu) return c = r[p], 
                0 == p ? o.push(c) : (f = r[p - 1], pt.lt(c.tt, n.Wt) > pt.lt(f.tt, n.Wt) ? (o.push(f), 
                o.push(c)) : (o.push(c), o.push(f))), o;
            }
            return o;
        },
        zu: function(t, e, n, r, i) {
            for (var o = r || 30, s = 0; s < 360; s += o) {
                var a = new ei();
                this.Zu(t, e, s, a, i), 1 == a.ns && n.push(a);
            }
            n.sort(this.Wu);
        },
        Ou: function(t, e, n, r) {
            var i = new Map(), o = [];
            for (this.zu(t, e, o, n, r); 0 != o.length; ) {
                var s = o[0], a = i.get(s.Yt.jn);
                a ? a.push(s) : ((a = []).push(s), i.set(s.Yt.jn, a)), o.splice(0, 1);
            }
            return i;
        },
        $s: function(t, e) {
            var n = new mr();
            return (e = (n.jn = this.fu(), n.ai = Object.assign({}, e), this.lu(t))).xe.push(n), 
            e.We.set(n.jn, e.xe.length - 1), this.Nu(t).Po = e, n;
        },
        Xu: function(t, e, n) {
            return n ? this.$s(t, e) : ((n = new mr()).jn = this.oo(), n.ai = Object.assign({}, e), 
            t = (e = this.lu(t)).xe, t = this.Gu(n, t), e.We.set(n.jn, t), n);
        },
        Yu: function(t, e, n, r) {
            for (var i, o = this.lu(-1), s = 0; s < o.De.length; s++) if (null != (i = o.De[s]) && i != r && or.NaviModelPassType_DECORATE != i.pass) for (var a = i.be, u = 0; u < a.length - 1; u++) if (pt.gt(t, e, a[u], a[u + 1], n)) {
                var l = pt.lt(t, n), h = pt.lt(e, n);
                if (!(l <= pt.Y() || h <= pt.Y())) return !1;
            }
            for (var f = o.Fe, c = 0; c < f.length; c++) {
                for (var p = f[c], y = p.Te, d = 0; d < y.length; d++) for (var v = y[d], b = 0; b < v.length - 1; b++) if (pt.gt(t, e, v[b], v[b + 1], n)) return !1;
                for (var g = p.be, m = 0; m < g.length - 1; m++) if (pt.gt(t, e, g[m], g[m + 1], n)) return !1;
            }
            return !0;
        },
        Su: function(t, e, n, r, i, o) {
            for (var s = 0; s < this.Os.length; s++) {
                var a = this.Os[s], u = {};
                if (1 == pt.gt(a.Wt, a.Vt, e.ai, n.ai, u) && .001 < pt.lt(e.ai, u) && .001 < pt.lt(n.ai, u)) {
                    var l, h, f = !0;
                    if (!this.Lo || e.jn != this.Lo.jn || a.ne != this.xo.jn && a.re != this.xo.jn || (l = {
                        x: a.Vt.x - a.Wt.x,
                        y: a.Vt.y - a.Wt.y
                    }, h = {
                        x: n.ai.x - e.ai.x,
                        y: n.ai.y - e.ai.y
                    }, Math.abs(pt.Rt(l, h)) < 1e-4 && (f = !1)), f) return null;
                    n = this.ju(this.ds, u, a);
                    break;
                }
            }
            void 0 === r && (r = or.NaviRoadEntry_BOTH), void 0 === i && (i = !0), void 0 === o && (o = !0);
            var c = new Sr();
            return c.ne = e.jn, c.Wt = e.ai, c.re = n.jn, c.Vt = n.ai, c.ee = [ e.ai, n.ai ], 
            c.ae = 1, this.Ms.push(e.jn), this.Ms.push(n.jn), c.jn = i ? this.fu() : this.so(), 
            c.fe = r, c.ve(), o && this.Os.push(c), this.lu(t).Le.push(c), i = this.Nu(t), or.NaviRoadEntry_BOTH == r && (o = {
                vo: n.jn,
                Dr: c.Dr
            }, (t = i.Po.Ue.get(e.jn)) ? t.push(o) : ((t = []).push(o), i.Po.Ue.set(e.jn, t)), 
            o = {
                vo: e.jn,
                Dr: c.Dr
            }, (t = i.Po.Ue.get(n.jn)) ? t.push(o) : ((t = []).push(o), i.Po.Ue.set(n.jn, t))), 
            or.NaviRoadEntry_FORWARD == r && (o = {
                vo: n.jn,
                Dr: c.Dr
            }, (t = i.Po.Ue.get(e.jn)) ? t.push(o) : ((t = []).push(o), i.Po.Ue.set(e.jn, t))), 
            or.NaviRoadEntry_BACK == r && (o = {
                vo: e.jn,
                Dr: c.Dr
            }, (t = i.Po.Ue.get(n.jn)) ? t.push(o) : ((t = []).push(o), i.Po.Ue.set(n.jn, t))), 
            c;
        },
        Ru: function(t) {
            var e = this.zs(t), n = this.ws.get(e);
            if (n) for (var r = 0; r < n.length; r++) {
                var i = n[r];
                if (pt.ft(t, i.be, i.pe)) return i;
            }
            return null;
        },
        lu: function(t) {
            var e = null;
            return (e = this.xs ? this.ls.get(t) : e) || this.hs.get(t);
        },
        Nu: function(t) {
            var e = null;
            return (e = this.xs ? this.vs.get(t) : e) || this.cs.get(t);
        },
        Hu: function() {
            return this.xs ? this.vs : this.cs;
        },
        oo: function() {
            return this.Po.oo();
        },
        so: function() {
            return this.Po.so();
        },
        su: function(t) {
            var e = ((n = []).push.apply(n, ri(t.xe)), []), n = (e.push.apply(e, ri(t.Le)), 
            new Vr(n, e, !0, 1));
            return (e = n.De).push.apply(e, ri(t.De)), n;
        },
        ou: function(t) {
            for (var e = [ -1 ], n = this.Po.Ce, r = 0; r < n.length; r++) {
                var i = n[r];
                t.Qu(i.Jt.zt, i.Jt.Xt) && e.push(i.jn);
            }
            return e;
        },
        _u: function(t, e, n) {
            var r = null, i = e.Le;
            if (!i || i.length <= 0) return null;
            var o = e.Xe(t);
            if (o <= 0) return null;
            var s, a = {}, u = (r = {
                distance: Number.MAX_VALUE,
                road: null,
                coords: {
                    level: t.level
                }
            }, []), l = ni(i);
            try {
                for (l.s(); !(s = l.n()).done; ) {
                    var h = s.value;
                    h.fe === or.NaviRoadEntry_FORBID && o === h.oe && u.push(h);
                }
            } catch (t) {
                l.e(t);
            } finally {
                l.f();
            }
            var f, c = ni(i);
            try {
                for (c.s(); !(f = c.n()).done; ) {
                    var p = f.value;
                    if (p.fe !== or.NaviRoadEntry_FORBID && o === p.oe) {
                        var y = !1;
                        if (n) {
                            if (!(n.indexOf(p.ae) < 0)) {
                                m = pt.yt(t, p.Wt, p.Vt, a);
                                var d, v = ni(u);
                                try {
                                    for (v.s(); !(d = v.n()).done; ) {
                                        var b = d.value;
                                        if (pt.gt(t, a, b.Wt, b.Vt, {
                                            x: 0,
                                            y: 0
                                        })) {
                                            y = !0;
                                            break;
                                        }
                                    }
                                } catch (t) {
                                    v.e(t);
                                } finally {
                                    v.f();
                                }
                                y || m < r.distance && (r.distance = m, r.road = p, Object.assign(r.coords, a));
                            }
                        } else {
                            var g, m = pt.yt(t, p.Wt, p.Vt, a), O = ni(u);
                            try {
                                for (O.s(); !(g = O.n()).done; ) {
                                    var x = g.value;
                                    if (pt.gt(t, a, x.Wt, p.Vt, {
                                        x: 0,
                                        y: 0
                                    })) {
                                        y = !0;
                                        break;
                                    }
                                }
                            } catch (t) {
                                O.e(t);
                            } finally {
                                O.f();
                            }
                            y || m < r.distance && (r.distance = m, r.road = p, Object.assign(r.coords, a));
                        }
                    }
                }
            } catch (t) {
                c.e(t);
            } finally {
                c.f();
            }
            return r;
        }
    }), n);
    function li(t) {
        return (li = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function hi(t, e) {
        var n, r, i, o, s = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"];
        if (s) return r = !(n = !0), {
            s: function() {
                s = s.call(t);
            },
            n: function() {
                var t = s.next();
                return n = t.done, t;
            },
            e: function(t) {
                r = !0, i = t;
            },
            f: function() {
                try {
                    n || null == s.return || s.return();
                } finally {
                    if (r) throw i;
                }
            }
        };
        if (Array.isArray(t) || (s = function(t, e) {
            var n;
            if (t) return "string" == typeof t ? fi(t, e) : "Map" === (n = "Object" === (n = Object.prototype.toString.call(t).slice(8, -1)) && t.constructor ? t.constructor.name : n) || "Set" === n ? Array.from(t) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? fi(t, e) : void 0;
        }(t)) || e && t && "number" == typeof t.length) return s && (t = s), o = 0, {
            s: e = function() {},
            n: function() {
                return o >= t.length ? {
                    done: !0
                } : {
                    done: !1,
                    value: t[o++]
                };
            },
            e: function(t) {
                throw t;
            },
            f: e
        };
        throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }
    function fi(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r;
    }
    function ci(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== li(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== li(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === li(t) ? t : String(t);
            }(r.key), r);
        }
    }
    n = function(t, e, n) {
        return e && ci(t.prototype, e), n && ci(t, n), Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }(function t(e, n) {
        if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
        this.Ku = [], this.Ju = new Map(), this.li = n || null, this.$u(e);
    });
    var pi = (Object.assign(n.prototype, {
        $u: function(t) {
            var e, n = hi(t);
            try {
                for (n.s(); !(e = n.n()).done; ) for (var r = e.value, i = r[1], o = i.Fe, s = 0; s < o.length; s++) {
                    var a = o[s].jn, u = i.Eo(a), l = o[s].oe, h = new ui(u);
                    h.jn = l, h.li = this.li, h.Lr = r[0], this.Ku.push(h), this.Ju.set(l, h);
                }
            } catch (t) {
                n.e(t);
            } finally {
                n.f();
            }
        },
        Dr: function() {
            return this.Ku.length;
        },
        ta: function(t) {
            if (this.Ku) for (var e = this.Ku, n = 0; n < e.length; n++) {
                var r = e[n];
                if (t.level == r.Lr && r.Ys(t)) return r;
            }
            return null;
        },
        ia: function(t) {
            var e, n = hi(this.Ku);
            try {
                for (n.s(); !(e = n.n()).done; ) {
                    var r = e.value;
                    if (r.jn == t) return r;
                }
            } catch (t) {
                n.e(t);
            } finally {
                n.f();
            }
            return null;
        }
    }), n);
    function yi(t) {
        return function(t) {
            if (Array.isArray(t)) return bi(t);
        }(t) || function(t) {
            if ("undefined" != typeof Symbol && null != t[Symbol.iterator] || null != t["@@iterator"]) return Array.from(t);
        }(t) || vi(t) || function() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
        }();
    }
    function di(t, e) {
        var n, r, i, o, s = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"];
        if (s) return r = !(n = !0), {
            s: function() {
                s = s.call(t);
            },
            n: function() {
                var t = s.next();
                return n = t.done, t;
            },
            e: function(t) {
                r = !0, i = t;
            },
            f: function() {
                try {
                    n || null == s.return || s.return();
                } finally {
                    if (r) throw i;
                }
            }
        };
        if (Array.isArray(t) || (s = vi(t)) || e && t && "number" == typeof t.length) return s && (t = s), 
        o = 0, {
            s: e = function() {},
            n: function() {
                return o >= t.length ? {
                    done: !0
                } : {
                    done: !1,
                    value: t[o++]
                };
            },
            e: function(t) {
                throw t;
            },
            f: e
        };
        throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }
    function vi(t, e) {
        var n;
        if (t) return "string" == typeof t ? bi(t, e) : "Map" === (n = "Object" === (n = Object.prototype.toString.call(t).slice(8, -1)) && t.constructor ? t.constructor.name : n) || "Set" === n ? Array.from(t) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? bi(t, e) : void 0;
    }
    function bi(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r;
    }
    function gi(t) {
        return (gi = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function mi(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== gi(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== gi(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === gi(t) ? t : String(t);
            }(r.key), r);
        }
    }
    n = function() {
        function t(e) {
            if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
            this.pi = e, this.Wt = null, this.Vt = null, this.Go = o.MODULE_SHORTEST, this.na = s.PRIORITY_DEFAULT, 
            this.ra = new Map(), this.ea = new Map(), this.oa = null, this.sa = null, this.ua = [], 
            this.aa = [], this.fa = [], this.ha = [], this.la = [], this.ca = [], this.En = [], 
            this.va = .1, this.ya = 1, this.da = 10, this.ba = .1, this.pa = 1, this.ma = 10, 
            this.wa = .1, this.ga = 1, this._a = 10, this.ja = 1, this.Sa = 10, this.To = null, 
            this.Oa = null, this.Ea = null, this.Ta = null, this.es = null, this.ss = null, 
            this.Ra = null, this.Na = !1, this.ka = [], this.xs = !0, this.Ls = new Map(), this.Ma = null, 
            this.li = e.type, this.barrierFree = !1, this.Ia = !1, this.Aa = 0, this.Pa = 0, 
            this.xa = [];
        }
        var e, n;
        return e = t, (n = [ {
            key: "assginedInfos",
            get: function() {
                return this.ka;
            },
            set: function(t) {
                this.ka = t;
            }
        }, {
            key: "passPts",
            set: function(t) {
                this.La = t;
            }
        }, {
            key: "failedInsertedPts",
            get: function() {
                return this._failedInsertedPts;
            }
        }, {
            key: "toDoors",
            get: function() {
                return this.Na;
            },
            set: function(t) {
                this.Na = t;
            }
        }, {
            key: "obstruct",
            get: function() {
                return this.xs;
            },
            set: function(t) {
                this.xs = t;
            }
        } ]) && mi(e.prototype, n), Object.defineProperty(e, "prototype", {
            writable: !1
        }), t;
    }();
    var Oi = (Object.assign(n.prototype, {
        Sr: function(t) {
            if (t && t.scene && t.floors && (this.To = t.scene, this.Oa = new Gr(), 0 != (t = t.floors).size)) {
                this.Da(t), this.Fa(), this.Ea = new pi(this.ra, this.li), this.Ea.li = this.li;
                var e, n = di(t);
                try {
                    for (n.s(); !(e = n.n()).done; ) {
                        var r = e.value;
                        if (null != r[1].gid) {
                            var i = r[1].naviAccessible;
                            if (i && i[0] && 0 < i[0].naviNodes.length) {
                                this.Ia = !0;
                                break;
                            }
                        }
                    }
                } catch (t) {
                    n.e(t);
                } finally {
                    n.f();
                }
                this.Ia && (this.Da(t), this.Fa(), this.Ta = new pi(this.ea, this.li), this.Ta.li = this.li);
            }
        },
        gi: function() {
            this.pi = null, this.To = null, this.Oa && (this.Oa.gi(), this.Oa = null);
            var t, e = di(this.ra);
            try {
                for (e.s(); !(t = e.n()).done; ) t.value[1].gi();
            } catch (t) {
                e.e(t);
            } finally {
                e.f();
            }
            if (this.ra.clear(), this.ra = null, this.oa.gi(), this.oa = null, this.ua = null, 
            this.fa = null, this.Ia) {
                var n, r = di(this.ea);
                try {
                    for (r.s(); !(n = r.n()).done; ) n.value[1].gi();
                } catch (t) {
                    r.e(t);
                } finally {
                    r.f();
                }
                this.ea.clear(), this.ea = null, this.sa.gi(), this.sa = null, this.aa = null, this.ha = null;
            }
            this.la = null, this.ca = null, this.En = null;
        },
        Ga: function(t, e) {
            if (this.ir(), (n = this.Ca([ t ])).length < 1) return a.ROUTE_FAILED_NO_DATA_START;
            var n = n[0];
            if ((r = (t.extentID = n, this.Ca([ e ]))).length < 1) return a.ROUTE_FAILED_NO_DATA_DEST;
            for (var r = r[0], i = (e.endExtentID = r, this.La), o = 0; o < i.length; o++) i[o].Ws = !0;
            var s = this.Ca(i);
            if ((n = this.Ba(n, r, s)).rst != a.ROUTE_SUCCESS) return n.rst;
            for (var u = new Map(), l = 0; l < s.length; l++) u.has(s[l]) ? u.get(s[l]).push(i[l]) : u.set(s[l], [ i[l] ]);
            return r = n.extentPath, n = this.Ua(t, e, u, r), this.Za(n.nodePath), n.rst;
        },
        Wa: function(t, e, n, r) {
            this.ir();
            var i = null, o = (i = this.Ia && this.barrierFree ? this.Ta : this.Ea).ta(t);
            if (!o) return a.ROUTE_FAILED_NO_DATA_START;
            if ((h = o.hu(t)) && h.ts && h.ts.pass == or.NaviModelPassType_NOT_PASS) return a.ROUTE_FAILED_NO_START_ARRIVAL;
            if (!(l = i.ta(e))) return a.ROUTE_FAILED_NO_DATA_DEST;
            if ((f = l.hu(e)) && f.ts && f.ts.pass == or.NaviModelPassType_NOT_PASS) return a.ROUTE_FAILED_NO_DEST_ARRIVAL;
            this.Go = n, this.Wt = t, this.es = h.ts, this.Vt = e, this.ss = f.ts;
            var s = o.jn, u = l.jn, l = h.ts, h = f.ts, f = a.ROUTE_FAILED_CANNOT_ARRIVE;
            if (this.En = [], 1 !== this.li && this.Va(r), s === u) r = t.level, o.es = l, o.ss = h, 
            (f = o.Vo(t, e, n)) === a.ROUTE_SUCCESS && (l = o.Xo(), this.En.push({
                Lr: r,
                En: l
            })); else {
                if (this.qa(s, u, t, e) != a.ROUTE_SUCCESS && (f = a.ROUTE_FAILED_OUTLINE), this.la.reverse(), 
                (h = this.Ya(i, t, e)) == a.ROUTE_SUCCESS) return h;
                f = h;
            }
            if (f != a.ROUTE_SUCCESS) for (;2 < this.za(s, u, t, e).length; ) {
                if (this.Ya(i, t, e) === a.ROUTE_SUCCESS) return this.Xa(), a.ROUTE_SUCCESS;
                s === u && 0 < this.la.length && (u = this.la[this.la.length - 1].oe);
            }
            return this.Xa(), f;
        },
        za: function(t, e, n, r) {
            var i = null;
            if (i = this.Ia && this.barrierFree ? this.sa : this.oa, t === e) {
                var o = this.ua.length + 1, s = new Mr(), u = i.Po.io(t);
                u = i.Po.xe[u], u = (s.jn = u.jn, s.Lr = u.Lr, s.oe = o, s.Wo = u.Wo, s.Ae = u.Ae, 
                s.Ur = u.Ur, s.Cr = u.Cr, this.ua.push(s), this.Ha(), new Vr(this.ua, this.fa));
                if (s = (e = o, (i = new Zr(u)).Po.Ue.get(t))) {
                    var l, h = di(s.values());
                    try {
                        for (h.s(); !(l = h.n()).done; ) {
                            var f = l.value;
                            f.vo === e && (f.Dr = Number.MAX_VALUE);
                        }
                    } catch (t) {
                        h.e(t);
                    } finally {
                        h.f();
                    }
                }
            } else for (var c = 0; c < this.xa.length; c++) {
                var p = this.xa[c].from.oe, y = this.xa[c].to.oe;
                if (p = i.Po.Ue.get(p)) {
                    var d, v = di(p.values());
                    try {
                        for (v.s(); !(d = v.n()).done; ) {
                            var b = d.value;
                            b.vo === y && (b.Dr = Number.MAX_VALUE);
                        }
                    } catch (t) {
                        v.e(t);
                    } finally {
                        v.f();
                    }
                }
            }
            return this.oa = i, this.qa(t, e, n, r) != a.ROUTE_SUCCESS && (this.la = []), this.la.reverse(), 
            this.la;
        },
        Xa: function() {
            var t;
            this.Ia && this.barrierFree ? (this.Qa(), this.Ha(), t = new Vr(this.aa, this.ha), 
            this.sa = new Zr(t)) : (this.Qa(), this.Ha(), t = new Vr(this.ua, this.fa), this.oa = new Zr(t)), 
            this.xa = [];
        },
        Ya: function(t, e, n) {
            this.En = [];
            for (var r = [], i = [ this.Wt ], o = a.ROUTE_FAILED_CANNOT_ARRIVE, s = 0; s < this.la.length - 1; s++) {
                var u = [], l = [];
                if (null == this.li || 0 === this.li) {
                    if (!this.Ka(this.la[s], this.la[s + 1], i[i.length - 1], u, l)) return this.xa.push({
                        from: this.la[s],
                        to: this.la[s + 1]
                    }), a.ROUTE_FAILED_CANNOT_ARRIVE;
                } else if (!this.Ja(this.la[s], this.la[s + 1], i[i.length - 1], u, l)) return this.xa.push({
                    from: this.la[s],
                    to: this.la[s + 1]
                }), a.ROUTE_FAILED_CANNOT_ARRIVE;
                for (var h = !1, f = 0; f < u.length; f++) {
                    var c = u[f].ie, p = l[f].ie, y = u[f].Lr, d = l[f].Lr, v = {
                        x: c.ai.x,
                        y: c.ai.y,
                        level: y
                    }, b = {
                        x: p.ai.x,
                        y: p.ai.y,
                        level: d
                    };
                    v = t.ta(v);
                    if (0 == s ? (v.es = this.es, o = v.Vo(e, c, this.Go), e.process || (e.process = !0)) : o = v.Vo(r[r.length - 1], c, this.Go), 
                    a.ROUTE_SUCCESS == o) {
                        if (c = v.Xo(), this.En.push({
                            Lr: y,
                            En: c
                        }), r.push(p), i.push(p.ai), h = !0, this.la.length - 2 == s) {
                            if ((v = t.ta(b)).ss = this.ss, o = v.Vo(p, n, this.Go), n.process || (n.process = !0), 
                            a.ROUTE_SUCCESS != o) {
                                this.En.splice(this.En.length - 1, 1), h = !1, i.splice(i.length - 1, 1), r.splice(r.length - 1, 1);
                                continue;
                            }
                            y = v.Xo(), this.En.push({
                                Lr: d,
                                En: y
                            });
                        }
                        if (a.ROUTE_SUCCESS == o) break;
                    }
                }
                if (!h) return 0 == s ? this.xa.push({
                    from: this.la[s],
                    to: this.la[s + 1]
                }) : this.xa.push({
                    from: this.la[s - 1],
                    to: this.la[s]
                }), a.ROUTE_FAILED_CANNOT_ARRIVE;
                o !== a.ROUTE_SUCCESS && this.xa.push({
                    from: this.la[s],
                    to: this.la[s + 1]
                });
            }
            return o;
        },
        $a: function() {
            if (this.Na && (this.Ra = null, this.ss) && 0 < this.En.length) {
                for (var t, e, n = this.En[this.En.length - 1].En, r = null, i = {
                    x: -1,
                    y: -1
                }, o = n.length - 1; 0 < o; o--) {
                    var s = n[o], a = n[o - 1];
                    if (pt.It(s.ai, a.ai, this.ss.be, i)) {
                        r = o;
                        break;
                    }
                }
                null != r && (t = n[n.length - 1], n.splice(r, n.length - r), (e = new mr()).jn = -1, 
                e.ai = i, (t.Ws || t.ai.Ws) && (e.Ws = !0), n.push(e), this.Ra = i);
            }
            for (var u = [], l = 0; l < this.En.length; l++) 1 < this.En[l].En.length && u.push(this.En[l]);
            for (var h = [], f = 0; f < u.length; f++) {
                this.tf(u[f]);
                for (var c = (b = u[f]).Lr, p = b.En, y = [], d = 0, v = 0; v < p.length; v++) y.push(p[v].ai), 
                v != p.length - 1 && (d += pt.lt(p[v].ai, p[v + 1].ai));
                var b;
                (b = new pr()).Lr = c, b.Gr = p, b.Fr = y, b.Dr = d, h.push(b), f != u.length - 1 && (c = this.if(u[f]), 
                b = this.nf(u[f + 1]), h.push(c), h.push(b));
            }
            return h;
        },
        tf: function(t) {
            if (null != t && t.En) {
                var e = t.En;
                if ((a = e.length) && !(a < 2)) {
                    var n = [], r = (n.push(e[0]), e[0]), i = e[a - 1];
                    pt.lt(r.ai, i.ai);
                    for (var o = 1; o < a - 1; o++) {
                        var s = e[o];
                        null != r && pt.lt(r.ai, s.ai) < .001 || null != i && pt.lt(i.ai, s.ai) < .001 || n.push(s);
                    }
                    n.push(i);
                    for (var a = n.length, u = new Array(a), l = 0; l < a; l++) u[l] = 0;
                    for (var h = 1; h < a - 1; h++) {
                        for (var f = n[h], c = h - 1; 0 != u[c]; ) c--;
                        !pt.ht(f.ai, n[c].ai, n[h + 1].ai) || f.Ws || (u[h] = 1);
                    }
                    for (var p = [], y = 0; y < a; y++) 0 == u[y] && p.push(n[y]);
                    t.En = p;
                }
            }
        },
        ir: function() {
            this.la = [], this.ca = [];
            var t, e = this.Ea.Ju, n = di(e.keys());
            try {
                for (n.s(); !(t = n.n()).done; ) {
                    var r = t.value, i = e.get(r);
                    i.ir(), i.obstruct = this.xs;
                }
            } catch (t) {
                n.e(t);
            } finally {
                n.f();
            }
            var o, s = this.Ea.Ju, a = di(s.keys());
            try {
                for (a.s(); !(o = a.n()).done; ) {
                    var u = o.value, l = s.get(u);
                    l.ir(), l.obstruct = this.xs;
                }
            } catch (t) {
                a.e(t);
            } finally {
                a.f();
            }
        },
        rf: function(t, e) {
            var n = null, r = null;
            if (null == (r = (this.Ia && this.barrierFree ? this.Ta : this.Ea).ta(t))) return null;
            r = r.Po;
            for (var i = [], o = (i.push.apply(i, yi(r.Le)), n = {
                distance: Number.MAX_VALUE,
                road: null,
                angle: null,
                coords: {
                    level: t.level
                }
            }, {}), s = 0; s < i.length; s++) {
                var a, u = i[s];
                u.fe === or.NaviRoadEntry_FORBID || Array.isArray(e) && 0 < e.length && e.indexOf(u.ae) < 0 || (a = pt.yt(t, u.Wt, u.Vt, o)) < n.distance && (n.distance = a, 
                n.road = u, n.angle = this.ef(u.Wt, u.Vt), Object.assign(n.coords, o));
            }
            return null != n.road && (r = {
                id: (r = n.road).jn,
                extentID: r.oe,
                roadEntry: r.fe,
                roadRank: r.ae,
                startID: r.ne,
                startPoint: r.Wt,
                endID: r.re,
                endPoint: r.Vt
            }, n.road = r), n;
        },
        ef: function(t, e) {
            var n = new vr(0, 0, 1);
            t = new vr(t.x, 0, t.y), t = (e = new vr(e.x, 0, e.y).clone().sub(t).normalize()).angleTo(n) * pt.H();
            return 0 < e.clone().cross(n).y ? 360 - t : t;
        },
        Da: function(t) {
            this.Ia ? this.ea = new Map() : this.ra = new Map(), this.Oa.Ro(this.To);
            var e, n = di(t);
            try {
                for (n.s(); !(e = n.n()).done; ) {
                    var r = e.value, i = r[1].gid;
                    if (null != i) {
                        var o = r[1].geo[0], s = r[1].biz[0], a = null;
                        if (1 == this.li ? 0 < r[1].naviDrive.length && (a = r[1].naviDrive[0]) : this.Ia ? 0 < r[1].naviAccessible.length && (a = r[1].naviAccessible[0]) : 0 < r[1].navi.length && (a = r[1].navi[0]), 
                        a) {
                            var u = this.Oa.Ao(i, o, s, a);
                            if (0 != u.naviNodes.length && 0 != u.naviSegments.length) {
                                var l = new Map(), h = this.sf(u, l), f = this.uf(u), c = this.af(u), p = this.ff(u), y = this.hf(u), d = (this.lf(y, h, a, l), 
                                new Vr(h, f, !0, 1));
                                d.Lr = i, 0 != p.length && (d.Fe = p), 0 != c.length && (d.Ce = c), 0 != y.length && (d.De = y);
                                for (var v = 0; v < f.length; v++) f[v].oe = d.Xe(f[v].Wt);
                                (0 == this.Ia ? this.ra : this.ea).set(u.level, d);
                            }
                        }
                    }
                }
            } catch (t) {
                n.e(t);
            } finally {
                n.f();
            }
        },
        sf: function(t, e) {
            var n, r = [];
            for (n in t.naviNodes) !function() {
                var i = t.naviNodes[n];
                if (null != i.nodeId) {
                    var o = new mr();
                    o.jn = i.nodeId, o.ai = {
                        x: parseFloat(i.geoArr.x.toFixed(3)),
                        y: parseFloat(i.geoArr.y.toFixed(3))
                    }, o.Xr = i.nodeType, o.Hr = i.liftType, o.Ur = i.liftFlag, o.Qr = i.liftEntry, 
                    i.accessible && (o.cf = i.accessible), i.linkSegArr.forEach(function(t) {
                        o.Br.push(parseInt(t));
                    }), i.liftFloorArr.forEach(function(t) {
                        o.Cr.push(parseInt(t));
                    }), r.push(o), e.set(i.nodeId, n);
                }
            }();
            return r;
        },
        uf: function(t) {
            var e, n = [];
            for (e in t.naviSegments) {
                var r, i = t.naviSegments[e], o = i.geoArr;
                o && ((r = new Sr()).jn = i.segmentId, r.ne = i.snode, r.Wt = {
                    x: parseFloat(o[0].x.toFixed(3)),
                    y: parseFloat(o[0].y.toFixed(3))
                }, r.re = i.enode, r.Vt = {
                    x: parseFloat(o[1].x.toFixed(3)),
                    y: parseFloat(o[1].y.toFixed(3))
                }, r.Dr = i.length, r.fe = i.entry, r.ae = i.rank, n.push(r));
            }
            return n;
        },
        ff: function(t) {
            for (var e = [], n = 0, r = t.extentLayer.length; n < r; n++) {
                var i = t.extentLayer[n], o = (o = i.geoArr) || [];
                (o = new Ir(i.eid, t.gid, 0, o, i.ri, i.holes)).fid = i.fid, e.push(o);
            }
            return e;
        },
        hf: function(t) {
            for (var e = [], n = 0, r = t.modelLayer.length; n < r; n++) {
                var i = t.modelLayer[n], o = (o = i.geoArr) || [];
                (o = new Ir(i.eid, t.gid, 0, o, i.ri, i.holes)).fid = i.fid, o.pass = i.pass, e.push(o);
            }
            return e;
        },
        af: function(t) {
            for (var e = [], n = 0, r = t.naviZones.length; n < r; n++) {
                var i = t.naviZones[n];
                i = new Ar(i.jn, t.gid, i.type, i.geoArr);
                e.push(i);
            }
            return e;
        },
        lf: function(t, e, n, r) {
            for (var i = new Map(), o = 0; o < t.length; o++) {
                var s = t[o];
                i.set(s.jn, o);
            }
            for (var a = 0; a < n.naviModels.length; a++) for (var u = n.naviModels[a], l = u.modelid, h = t[i.get(l)], f = 0; f < u.doorids.length; f++) {
                var c = u.doorids[f], p = (c = e[r.get(c)], c = (h.Re.push(c), u.nodetypes[f]), 
                u.entrytypes[f]);
                h.Ne.push(c), h.ke.push(p);
            }
        },
        Fa: function() {
            var t;
            this.Ia ? (this.Qa(), this.Ha(), t = new Vr(this.aa, this.ha), this.sa = new Zr(t)) : (this.Qa(), 
            this.Ha(), t = new Vr(this.ua, this.fa), this.oa = new Zr(t));
        },
        Qa: function() {
            var t, e = 0, n = 0, r = di(this.Ia ? (this.aa = [], this.ea) : (this.ua = [], this.ra));
            try {
                for (r.s(); !(t = r.n()).done; ) for (var i = t.value, o = i[1], s = o.Fe, a = 0; a < s.length; a++) {
                    var u = s[a], l = new Mr();
                    l.jn = u.jn, l.Lr = i[0], l.oe = ++e, u.oe = l.oe, l.Wo = u;
                    for (var h = 0; h < o.xe.length; h++) {
                        var f, c, p = o.xe[h];
                        p.Hr != or.NaviLiftType_NULL && pt.ft(p.ai, u.be, u.pe) && (f = new _r(), c = o.Je(p.ai), 
                        f.te = c, f.Jr(p), f.$r = ++n, f.Lr = i[0], f.ie = p, f.Qr = p.Qr, f.Hr = p.Hr, 
                        f.Ur = p.Ur, f.oe = l.oe, this.Ia ? 1 === p.cf && (f.cf = p.cf, l.Ae.push(f)) : (1 === p.cf && (f.cf = p.cf), 
                        l.Ae.push(f)));
                    }
                    (this.Ia ? this.aa : this.ua).push(l);
                }
            } catch (t) {
                r.e(t);
            } finally {
                r.f();
            }
        },
        Ha: function() {
            for (var t = 0, e = this.Ia ? this.aa : this.ua, n = [], r = 0; r < e.length; r++) for (var i = e[r], o = 0; o < e.length; o++) {
                var s, a, u = e[o];
                r != o && (a = void 0, null != (a = null == this.li || 0 == this.li ? this.vf(i, u) : this.yf(i, u))) && (a *= 0 == (s = Math.abs(i.Lr - u.Lr)) ? 1 : s, 
                (s = new Sr()).ne = i.oe, s.re = u.oe, s.Dr = a, s.fe = or.NaviRoadEntry_FORWARD, 
                s.jn = t, t += 1, n.push(s));
            }
            this.Ia ? this.ha = n : this.fa = n;
        },
        vf: function(t, e) {
            for (var n = Number.MAX_VALUE, r = !1, i = t.Lr, o = e.Lr, a = i < o ? or.NaviLiftEntry_DOWN : or.NaviLiftEntry_UP, u = 0; u < t.Ae.length; u++) {
                var l = t.Ae[u], h = l.Qr;
                if (h != or.NaviLiftEntry_FORBID && h != a) {
                    var f = l.Hr;
                    if (s.PRIORITY_LIFTONLY == this.na) {
                        if (or.NaviLiftType_Lift != f) continue;
                    } else if (s.PRIORITY_ESCALATORONLY == this.na) {
                        if (or.NaviLiftType_Escalator != f) continue;
                    } else if (s.PRIORITY_STAIRONLY == this.na) {
                        if (or.NaviLiftType_Stair != f) continue;
                    } else if (s.PRIORITY_ACCESSIBLEONLY == this.na && or.NaviLiftType_Accessible != f) continue;
                    if (f == or.NaviLiftType_Stair || -1 != l.Cr.indexOf(o)) for (var c = 0; c < e.Ae.length; c++) {
                        var p = e.Ae[c];
                        if (null != p && l.Ur == p.Ur) if (s.PRIORITY_LIFTFIRST == this.na || s.PRIORITY_DEFAULT == this.na) {
                            if (or.NaviLiftType_Lift == f || or.NaviLiftType_Accessible == f) return this.va;
                            if (or.NaviLiftType_Escalator == f) {
                                (p = this.pa) < n && (n = p), r = !0;
                                break;
                            }
                            if (or.NaviLiftType_Stair == f) {
                                (p = this._a) < n && (n = p), r = !0;
                                break;
                            }
                        } else if (s.PRIORITY_ESCALATORFIRST == this.na) {
                            if (or.NaviLiftType_Lift == f || or.NaviLiftType_Accessible == f) {
                                (p = this.ya) < n && (n = p), r = !0;
                                break;
                            }
                            if (or.NaviLiftType_Escalator == f) return this.ba;
                            if (or.NaviLiftType_Stair == f) {
                                (p = this._a) < n && (n = p), r = !0;
                                break;
                            }
                        } else if (s.PRIORITY_STAIRFIRST == this.na) {
                            if (or.NaviLiftType_Lift == f) {
                                (p = this.ya) < n && (n = p), r = !0;
                                break;
                            }
                            if (or.NaviLiftType_Escalator == f || or.NaviLiftType_Accessible == f) {
                                (p = this.ma) < n && (n = p), r = !0;
                                break;
                            }
                            if (or.NaviLiftType_Stair == f) return this.wa;
                        } else {
                            if (s.PRIORITY_LIFTFIRST1 == this.na || s.PRIORITY_STAIRFIRST1 == this.na || s.PRIORITY_ESCALATORFIRST1 == this.na) return this.ja;
                            if (s.PRIORITY_LIFTONLY == this.na || s.PRIORITY_ESCALATORONLY == this.na || s.PRIORITY_STAIRONLY == this.na || s.PRIORITY_ACCESSIBLEONLY == this.na) return this.ja;
                        }
                    }
                }
            }
            return r ? n : null;
        },
        yf: function(t, e) {
            for (var n = Number.MAX_VALUE, r = !1, i = t.Lr < e.Lr ? or.NaviLiftEntry_DOWN : or.NaviLiftEntry_UP, o = 0; o < t.Ae.length; o++) {
                var s = t.Ae[o], a = s.Qr;
                if (a != or.NaviLiftEntry_FORBID && a != i) {
                    for (var u = 0; u < e.Ae.length; u++) {
                        var l = e.Ae[u];
                        if (s.Ur == l.Ur) {
                            n = this.Sa, r = !0;
                            break;
                        }
                    }
                    if (r) break;
                }
            }
            return r ? n : null;
        },
        Va: function(t) {
            this.na !== t && (this.na = t, this.barrierFree ? (this.Ha(), t = new Vr(this.aa, this.ha), 
            this.sa = new Zr(t)) : (this.Ha(), t = new Vr(this.ua, this.fa), this.oa = new Zr(t)));
        },
        nf: function(t) {
            var e = t.En, n = new pr();
            return n.Lr = t.Lr, n.Gr.push(e[0]), n.Fr.push(e[0].ai), n.Dr = 0, n;
        },
        if: function(t) {
            var e = t.En, n = new pr();
            return n.Lr = t.Lr, n.Gr.push(e[e.length - 1]), n.Fr.push(e[e.length - 1].ai), n.Dr = 0, 
            n;
        },
        df: function(t, e) {
            for (var n = this.Ia && this.barrierFree ? this.aa : this.ua, r = 0; r < n.length; r++) if (null != t && n[r].Lr == t && n[r].jn == e) return n[r];
            return null;
        },
        bf: function(t) {
            for (var e = null, n = this.Ia && this.barrierFree ? this.aa : this.ua, r = 0; r < n.length; r++) if (n[r].oe == t) return n[r];
            return e;
        },
        qa: function(t, e, n, r) {
            var i, o = null;
            if ((t = (o = this.Ia && this.barrierFree ? this.sa : this.oa).zo(t, e, n, r)) == a.ROUTE_SUCCESS) {
                i = o.Xo(), this.la = [];
                for (var s = 0; s < i.length; s++) this.la.push(i[s]);
            }
            return t;
        },
        Ka: function(t, e, n, r, i) {
            var o = null, a = (o = (this.Ia && this.barrierFree ? (o = this.Ta.ta(n), this.Ma = (o || this.Ta.Ju.get(t.Lr)).Po.Je(n)) : (o = this.Ea.ta(n), 
            this.Ma = (o || this.Ea.Ju.get(t.Lr)).Po.Je(n)), Math.abs(t.Lr - e.Lr)), []);
            function u(e, n) {
                e = t.Pe(e, n, l), a.push.apply(a, yi(e));
            }
            var l = [];
            if (0 == this.Ia && 1 == this.barrierFree) for (var h = 0; h < t.Ae.length; h++) 1 == t.Ae[h].cf && l.push(t.Ae[h]); else l = t.Ae;
            for (var f = 0; f < l.length; f++) {
                var c = l[f];
                c.qr = pt.lt(c.ai, this.Vt) + pt.lt(c.ai, n);
            }
            var p, y = (y = t.Wo.Jt.size).x + y.y, d = (s.PRIORITY_LIFTONLY !== this.na && s.PRIORITY_ESCALATORONLY !== this.na && s.PRIORITY_STAIRONLY !== this.na && s.PRIORITY_ACCESSIBLEONLY !== this.na || (p = null, 
            s.PRIORITY_LIFTONLY === this.na && (p = or.NaviLiftType_Lift), s.PRIORITY_ESCALATORONLY === this.na && (p = or.NaviLiftType_Escalator), 
            s.PRIORITY_STAIRONLY === this.na && (p = or.NaviLiftType_Stair), s.PRIORITY_ACCESSIBLEONLY === this.na && (p = or.NaviLiftType_Accessible), 
            a = t.Pe(p, null, l)), s.PRIORITY_LIFTFIRST !== this.na && s.PRIORITY_ESCALATORFIRST !== this.na && s.PRIORITY_STAIRFIRST !== this.na && s.PRIORITY_DEFAULT !== this.na || (s.PRIORITY_LIFTFIRST !== this.na && s.PRIORITY_DEFAULT !== this.na || (u(or.NaviLiftType_Lift, -15 * o), 
            u(or.NaviLiftType_Escalator, -8 * o), u(or.NaviLiftType_Stair, 0)), s.PRIORITY_ESCALATORFIRST === this.na && (u(or.NaviLiftType_Lift, -8 * o), 
            u(or.NaviLiftType_Escalator, -15 * o), u(or.NaviLiftType_Stair, 0)), s.PRIORITY_STAIRFIRST === this.na && (u(or.NaviLiftType_Lift, -8 * o), 
            u(or.NaviLiftType_Escalator, 0), u(or.NaviLiftType_Stair, -15 * o))), s.PRIORITY_LIFTFIRST1 !== this.na && s.PRIORITY_ESCALATORFIRST1 !== this.na && s.PRIORITY_STAIRFIRST1 !== this.na || (s.PRIORITY_LIFTFIRST1 === this.na && (u(or.NaviLiftType_Lift, -y), 
            u(or.NaviLiftType_Escalator, 0), u(or.NaviLiftType_Stair, 0)), s.PRIORITY_ESCALATORFIRST1 === this.na && (u(or.NaviLiftType_Lift, 0), 
            u(or.NaviLiftType_Escalator, -y), u(or.NaviLiftType_Stair, 0)), s.PRIORITY_STAIRFIRST1 === this.na && (u(or.NaviLiftType_Lift, 0), 
            u(or.NaviLiftType_Escalator, 0), u(or.NaviLiftType_Stair, -y))), this);
            a.sort(function(t, e) {
                if (t.zone !== e.zone) {
                    if (t.zone === d.Ma) return -1;
                    if (e.zone === d.Ma) return 1;
                }
                return t.qr - e.qr;
            });
            for (var v = 0; v < a.length; v++) {
                var b = a[v];
                if (!(1 === b.Qr && e.Lr < t.Lr || 2 === b.Qr && e.Lr > t.Lr || 3 === b.Qr)) for (var g = 0; g < e.Ae.length; g++) {
                    var m = e.Ae[g];
                    if (b.Ur === m.Ur) {
                        r.push(b), i.push(m);
                        break;
                    }
                }
            }
            return 0 !== r.length;
        },
        Ja: function(t, e, n, r, i) {
            this.Ma = this.Ea.Ju.get(t.Lr).Po.Je(n);
            for (var o = [], s = t.Ae, a = 0; a < s.length; a++) {
                var u = s[a];
                u.qr = pt.lt(u.ai, this.Vt) + pt.lt(u.ai, n);
            }
            o = t.Pe(or.NaviLiftType_Ramp);
            var l = this;
            o.sort(function(t, e) {
                if (t.zone !== e.zone) {
                    if (t.zone === l.Ma) return -1;
                    if (e.zone === l.Ma) return 1;
                }
                return t.qr - e.qr;
            });
            for (var h = 0; h < o.length; h++) {
                var f = o[h];
                if (!(1 === f.Qr && e.Lr < t.Lr || 2 === f.Qr && e.Lr > t.Lr || 3 === f.Qr)) for (var c = 0; c < e.Ae.length; c++) {
                    var p = e.Ae[c];
                    if (f.Ur === p.Ur) {
                        r.push(f), i.push(p);
                        break;
                    }
                }
            }
            return 0 !== r.length;
        },
        Ca: function(t) {
            var e = [], n = null;
            if (n = this.barrierFree ? this.Ta : this.Ea) {
                var r, i = di(t);
                try {
                    for (i.s(); !(r = i.n()).done; ) {
                        var o = r.value, s = n.ta(o), a = null == s ? void 0 : s.jn;
                        a && e.push(a);
                    }
                } catch (t) {
                    i.e(t);
                } finally {
                    i.f();
                }
            }
            return e;
        },
        Ba: function(t, e, n) {
            var r, i = null;
            if (-1 != (r = (-1 != (r = (n = Array.from(new Set(n))).indexOf(t)) && n.splice(r, 1), 
            n.indexOf(e))) && n.splice(r, 1), n.length <= 0) {
                if (i = {
                    rst: a.ROUTE_FAILED_OUTLINE,
                    extentPath: []
                }, t == e) return i.extentPath.push(t), i.rst = a.ROUTE_SUCCESS, i;
                if (i.rst = this.qa(t, e), i.rst != a.ROUTE_SUCCESS) return i;
                this.la.reverse();
                for (var o = 0; o < this.la.length; o++) i.extentPath.push(this.la[o].oe);
            } else i = this.pf(t, e, n);
            return i;
        },
        mf: function(t) {
            var e = 0;
            if (!(null == t || t.length <= 0)) for (var n = this.oa.Po.Ue, r = 1; r < t.length; r++) for (var i = t[r].jn, o = t[r - 1].jn, s = n.get(o), a = 0; a < s.length; a++) if (s[a].vo == i) {
                e += s[a].Dr;
                break;
            }
            return e;
        },
        pf: function(t, e, n) {
            for (var r = {
                rst: null,
                extentPath: []
            }, i = [], o = t; 0 < n.length; ) {
                for (var s = Number.MAX_VALUE, u = null, l = null, h = 0; h < n.length; h++) {
                    var f, c = n[h];
                    this.oa.zo(o, c) == a.ROUTE_SUCCESS && ((c = this.oa.Xo()).reverse(), (f = this.mf(c)) < s) && (s = f, 
                    u = h, l = c);
                }
                if (null == u) return r;
                o = n[u], l.splice(l.length - 1, 1), i.push.apply(i, yi(l)), n.splice(u, 1);
            }
            if (r.rst = this.oa.zo(o, e), r.rst == a.ROUTE_SUCCESS) {
                (t = this.oa.Xo()).reverse(), i.push.apply(i, yi(t));
                for (var p = 0; p < i.length; p++) r.extentPath.push(i[p].oe);
            }
            return r;
        },
        Ua: function(t, e, n, r) {
            this.ir();
            for (var i = [], o = t, s = 0; s < r.length; s++) {
                var u = r[s], l = ((this.barrierFree ? this.Ta : this.Ea).ia(u), []), h = n.get(r[s]);
                if (null != h) for (;0 < h.length; ) {
                    for (var f = null, c = null, p = (this.wf(o, h), 3 <= h.length ? 3 : h.length), y = [], d = 0; d < p; d++) {
                        var v = this.gf(o, h[d]);
                        v.rst == a.ROUTE_SUCCESS && y.push({
                            result: v,
                            index: d
                        });
                    }
                    y.sort(function(t, e) {
                        return t.result.dist - e.result.dist;
                    });
                    var b = this._f(h, y);
                    if (b && (f = b.result.nodePath, c = b.index, b.result.dist), null == c) return {
                        rst: a.ROUTE_FAILED_WAYPOINT_CALCULATE_ERROR,
                        nodePath: i
                    };
                    (o = f[f.length - 1].ai).level = h[c].level, h.splice(c, 1), f.splice(f.length - 1, 1), 
                    l.push.apply(l, yi(f));
                    for (var g = 0; g < b.result.naviResult.length; g++) i.push({
                        level: b.result.naviResult[g].Lr,
                        path: b.result.naviResult[g].Gr
                    });
                }
                if (s == r.length - 1) {
                    this.Na && (u = (this.Ia && this.barrierFree ? this.Ta : this.Ea).ta(e).hu(e)) && (this.ss = u.ts);
                    var m = this.gf(o, e);
                    if (m.rst != a.ROUTE_SUCCESS) return {
                        rst: a.ROUTE_FAILED_WAYPOINT_CALCULATE_ERROR,
                        nodePath: i
                    };
                    l.push.apply(l, yi(m.nodePath));
                    for (var O = 0; O < m.naviResult.length; O++) i.push({
                        level: m.naviResult[O].Lr,
                        path: m.naviResult[O].Gr
                    });
                    for (var x, E = [ i[0] ], _ = 1; _ < i.length; _++) i[_].level == E[E.length - 1].level ? (x = E[E.length - 1].path).push.apply(x, yi(i[_].path)) : E.push(i[_]);
                    return {
                        rst: a.ROUTE_SUCCESS,
                        nodePath: E
                    };
                }
            }
            return {
                rst: a.ROUTE_SUCCESS,
                nodePath: i
            };
        },
        Za: function(t) {
            for (var e = [], n = 0; n < t.length; n++) e.push({
                Lr: t[n].level,
                En: t[n].path
            });
            this.En = e;
        },
        gf: function(t, e) {
            this.ir(), this.En = [];
            var n = null, r = Number.MAX_VALUE, i = [], o = (n = this.Ia && this.barrierFree ? this.Ta : this.Ea).ta(t);
            if (!o) return a.ROUTE_FAILED_NO_DATA_START;
            if (!(l = n.ta(e))) return a.ROUTE_FAILED_NO_DATA_DEST;
            if (o.ir(), l.ir(), (h = o.hu(t)) && h.ts && h.ts.pass == or.NaviModelPassType_NOT_PASS) return {
                rst: a.ROUTE_FAILED_NO_START_ARRIVAL,
                dist: r,
                nodePath: i
            };
            if ((f = l.hu(e)) && f.ts && f.ts.pass == or.NaviModelPassType_NOT_PASS) return {
                rst: a.ROUTE_FAILED_NO_DEST_ARRIVAL,
                dist: r,
                nodePath: i
            };
            this.Wt = t, this.es = h.ts, this.Vt = e, this.ss = f.ts;
            var s = o.jn, u = l.jn, l = h.ts, h = f.ts, f = a.ROUTE_FAILED_CANNOT_ARRIVE;
            if (this.En = [], s === u) {
                var c = t.level;
                o.es = l, o.ss = h, (f = o.Vo(t, e, this.Go)) === a.ROUTE_SUCCESS && (l = o.Xo(), 
                this.En.push({
                    Lr: c,
                    En: l
                }));
            } else {
                if (this.qa(s, u, t, e) != a.ROUTE_SUCCESS && (f = a.ROUTE_FAILED_OUTLINE), this.la.reverse(), 
                (h = this.Ya(n, t, e)) == a.ROUTE_SUCCESS) {
                    i = this.$a();
                    for (var p = [], y = 0; y < i.length; y++) p.push.apply(p, yi(i[y].Gr));
                    return {
                        rst: h,
                        dist: r = this.jf(p),
                        nodePath: p,
                        naviResult: i
                    };
                }
                f = h;
            }
            if (f != a.ROUTE_SUCCESS) for (;2 < this.za(s, u, t, e).length; ) {
                if (this.Ya(n, t, e) === a.ROUTE_SUCCESS) {
                    i = this.$a();
                    for (var d = [], v = 0; v < i.length; v++) d.push.apply(d, yi(i[v].Gr));
                    return r = this.jf(d), this.Xa(), {
                        rst: a.ROUTE_SUCCESS,
                        dist: r,
                        nodePath: d,
                        naviResult: i
                    };
                }
                s === u && 0 < this.la.length && (u = this.la[this.la.length - 1].oe);
            }
            i = this.$a();
            for (var b = [], g = 0; g < i.length; g++) b.push.apply(b, yi(i[g].Gr));
            return r = this.jf(b), this.Xa(), {
                rst: f,
                dist: r,
                nodePath: b,
                naviResult: i
            };
        },
        jf: function(t) {
            var e = 0;
            if (!(null == t || t.length <= 1)) for (var n = 1; n < t.length; n++) e += pt.lt(t[n].ai, t[n - 1].ai);
            return e;
        },
        Sf: function(t, e, n, r, i) {
            var o = Math.abs(t.Lr - e.Lr), a = [];
            function u(e, n) {
                e = t.Pe(e, n, l), a.push.apply(a, yi(e));
            }
            var l = [];
            if (0 == this.Ia && 1 == this.barrierFree) for (var h = 0; h < t.Ae.length; h++) 1 == t.Ae[h].cf && l.push(t.Ae[h]); else l = t.Ae;
            for (var f = 0; f < l.length; f++) {
                var c = l[f];
                c.qr = pt.lt(n, c.ai);
            }
            var p, y = (y = t.Wo.Jt.size).x + y.y, d = (s.PRIORITY_LIFTONLY !== this.na && s.PRIORITY_ESCALATORONLY !== this.na && s.PRIORITY_STAIRONLY !== this.na && s.PRIORITY_ACCESSIBLEONLY !== this.na || (p = null, 
            s.PRIORITY_LIFTONLY === this.na && (p = or.NaviLiftType_Lift), s.PRIORITY_ESCALATORONLY === this.na && (p = or.NaviLiftType_Escalator), 
            s.PRIORITY_STAIRONLY === this.na && (p = or.NaviLiftType_Stair), s.PRIORITY_ACCESSIBLEONLY === this.na && (p = or.NaviLiftType_Accessible), 
            a = t.Pe(p, null, l)), s.PRIORITY_LIFTFIRST !== this.na && s.PRIORITY_ESCALATORFIRST !== this.na && s.PRIORITY_STAIRFIRST !== this.na && s.PRIORITY_DEFAULT !== this.na || (s.PRIORITY_LIFTFIRST !== this.na && s.PRIORITY_DEFAULT !== this.na || (u(or.NaviLiftType_Lift, -15 * o), 
            u(or.NaviLiftType_Escalator, -8 * o), u(or.NaviLiftType_Stair, 0)), s.PRIORITY_ESCALATORFIRST === this.na && (u(or.NaviLiftType_Lift, -8 * o), 
            u(or.NaviLiftType_Escalator, -15 * o), u(or.NaviLiftType_Stair, 0)), s.PRIORITY_STAIRFIRST === this.na && (u(or.NaviLiftType_Lift, -8 * o), 
            u(or.NaviLiftType_Escalator, 0), u(or.NaviLiftType_Stair, -15 * o))), s.PRIORITY_LIFTFIRST1 !== this.na && s.PRIORITY_ESCALATORFIRST1 !== this.na && s.PRIORITY_STAIRFIRST1 !== this.na || (s.PRIORITY_LIFTFIRST1 === this.na && (u(or.NaviLiftType_Lift, -y), 
            u(or.NaviLiftType_Escalator, 0), u(or.NaviLiftType_Stair, 0)), s.PRIORITY_ESCALATORFIRST1 === this.na && (u(or.NaviLiftType_Lift, 0), 
            u(or.NaviLiftType_Escalator, -y), u(or.NaviLiftType_Stair, 0)), s.PRIORITY_STAIRFIRST1 === this.na && (u(or.NaviLiftType_Lift, 0), 
            u(or.NaviLiftType_Escalator, 0), u(or.NaviLiftType_Stair, -y))), this);
            a.sort(function(t, e) {
                if (t.zone !== e.zone) {
                    if (t.zone === d.Ma) return -1;
                    if (e.zone === d.Ma) return 1;
                }
                return t.qr - e.qr;
            });
            for (var v = 0; v < a.length; v++) {
                var b = a[v];
                if (!(1 === b.Qr && e.Lr < t.Lr || 2 === b.Qr && e.Lr > t.Lr)) for (var g = 0; g < e.Ae.length; g++) {
                    var m = e.Ae[g];
                    if (b.Ur === m.Ur) {
                        r.push(b), i.push(m);
                        break;
                    }
                }
            }
            return 0 !== r.length;
        },
        wf: function(t, e) {
            e.sort(function(e, n) {
                return pt.ct(t, e) - pt.ct(t, n);
            });
        },
        _f: function(t, e) {
            var n = null;
            if (!(e.length < 1)) {
                var r = (n = e[0]).index;
                if (!(e.length < 2) && 3 <= e.length) {
                    for (var i, o = Number.MAX_VALUE, s = -1, a = 0; a < t.length; a++) a != r && (i = pt.lt(t[r], t[a])) < o && (o = i, 
                    s = a);
                    s != e[1].index && (n = e[1]);
                }
            }
            return n;
        },
        eu: function(t) {
            for (var e = new Map(), n = 0; n < t.length; n++) {
                var r = t[n], i = e.get(r.Lr);
                i || e.set(r.Lr, i = []), i.push(r);
            }
            var o, s = this.Ea.Ju, a = this.Ea.Ju, u = di(e.keys());
            try {
                for (u.s(); !(o = u.n()).done; ) {
                    var l = o.value, h = this.Ls.get(l);
                    if (!h || this.Of(e.get(l), h)) {
                        var f, c = di(s.keys());
                        try {
                            for (c.s(); !(f = c.n()).done; ) {
                                var p = f.value, y = s.get(p);
                                y.level === l && (y.eu(e.get(l)), this.Ls.set(l, e.get(l)));
                            }
                        } catch (t) {
                            c.e(t);
                        } finally {
                            c.f();
                        }
                        var d, v = di(a.keys());
                        try {
                            for (v.s(); !(d = v.n()).done; ) {
                                var b = d.value, g = a.get(b);
                                g.level === l && (g.eu(e.get(l)), this.Ls.set(l, e.get(l)));
                            }
                        } catch (t) {
                            v.e(t);
                        } finally {
                            v.f();
                        }
                    }
                }
            } catch (t) {
                u.e(t);
            } finally {
                u.f();
            }
        },
        Ef: function() {
            var t, e = this.Ea.Ju, n = di(this.Ls.keys());
            try {
                for (n.s(); !(t = n.n()).done; ) {
                    var r, i = t.value, o = di(e.keys());
                    try {
                        for (o.s(); !(r = o.n()).done; ) {
                            var s = r.value, a = e.get(s);
                            a.level === i && a.Ef();
                        }
                    } catch (t) {
                        o.e(t);
                    } finally {
                        o.f();
                    }
                }
            } catch (t) {
                n.e(t);
            } finally {
                n.f();
            }
            this.Ls.clear();
        },
        Of: function(t, e) {
            if (t.length != e.length) return !0;
            for (var n = 0; n < t.length; n++) {
                for (var r = !1, i = 0; i < e.length; i++) e[i].Tf(t[n]) && (r = !0);
                if (!r) return !0;
            }
            return !1;
        },
        Js: function() {
            for (var t in this.ka) {
                var e, n = parseInt(t), r = void 0, i = di((r = (this.Ia && this.barrierFree ? this.Ea : this.Ta).Ju).keys());
                try {
                    for (i.s(); !(e = i.n()).done; ) {
                        var o = e.value;
                        r.get(o).Lr === n && (dij.assignedPts = this.ka[n], dij.Js(), this.En.push({
                            Lr: n,
                            En: dij.Xo()
                        }));
                    }
                } catch (t) {
                    i.e(t);
                } finally {
                    i.f();
                }
            }
        }
    }), n), xi = {
        zh: {
            straight: "直行",
            still_go_straight: "继续直行",
            back_to: "往回走",
            turn_right: "右转",
            turn_left: "左转",
            right_front: "右前方 继续直行",
            left_front: "左前方 继续直行",
            turn_right_rear: "右后方转",
            turn_left_rear: "左后方转",
            up: "上",
            down: "下",
            up_to: "上行到达",
            down_to: "下行到达",
            drive_up: "上坡到达",
            drive_down: "下坡到达",
            meter: "米",
            pass: "经过",
            arrived: "到达目的地",
            front: "前方",
            stair: "楼梯",
            stair_pure: "楼梯",
            escalator_pure: "扶梯",
            lift_pure: "直梯",
            ramp_pure: "坡道",
            take: "乘",
            along: "沿",
            take_stair: "乘梯",
            along_ramp: "沿坡道",
            front_pure: "前",
            right_front_pure: "右前",
            right_pure: "右",
            right_back_pure: "右后",
            back_pure: "后",
            left_back_pure: "左后",
            left_pure: "左",
            left_front_pure: "左前",
            east: "东",
            west: "西",
            south: "南",
            north: "北",
            southeast: "东南",
            northeast: "东北",
            southwest: "西南",
            northwest: "西北",
            face_to: "向",
            start: "起",
            dest: "终",
            enter: "前往",
            outdoor: "室外",
            entrance: "入口",
            exit: "出口",
            reach: "到达"
        },
        en: {
            straight: "go straight",
            still_go_straight: "go straight",
            back_to: "turn back",
            turn_right: "turn right",
            turn_left: "turn left",
            right_front: "go straight right front ",
            left_front: "go straight left front ",
            turn_right_rear: "turn right rear",
            turn_left_rear: "turn left rear",
            up: "up",
            down: "up",
            up_to: "up to",
            down_to: "down to",
            drive_up: "drive up",
            drive_down: "drive down",
            meter: "meter",
            pass: "pass",
            arrived: "arrived",
            front: "front",
            stair: "stair",
            stair_pure: "stair",
            escalator_pure: "escalator",
            lift_pure: "lift",
            ramp_pure: "ramp",
            take: "take",
            along: "along",
            take_stair: "take stair",
            along_ramp: "along ramp",
            front_pure: "front",
            right_front_pure: "right front",
            right_pure: "right",
            right_back_pure: "right back",
            back_pure: "back",
            left_back_pure: "left back",
            left_pure: "left",
            left_front_pure: "left front",
            east: "east",
            west: "west",
            south: "south",
            north: "north",
            southeast: "southeast",
            northeast: "northeast",
            southwest: "southwest",
            northwest: "northwest",
            face_to: "face to",
            start: "start",
            dest: "dest",
            enter: "enter",
            outdoor: "outdoor",
            entrance: "entrance",
            exit: "exit",
            reach: "reach"
        }
    };
    function Ei(t) {
        return (Ei = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function _i(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== Ei(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== Ei(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === Ei(t) ? t : String(t);
            }(r.key), r);
        }
    }
    n = function(t, e, n) {
        return e && _i(t.prototype, e), n && _i(t, n), Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }(function t(e) {
        if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
        this.Rf = e.data || null, this.Nf = e.directionAssert || 10, this.kf = e.combineAsset || 5, 
        this.Mf = e.combineDistance || .1, this.If = e.language || u.ZH, this.li = e.type || ar, 
        this.Af = [ "north", "northeast", "east", "southeast", "south", "southwest", "west", "northwest", "north" ], 
        this.Pf = [ "front_pure", "right_front_pure", "right_pure", "right_back_pure", "back_pure", "left_back_pure", "left_pure", "left_front_pure", "front_pure" ], 
        this.xf = [ "still_go_straight", "right_front", "turn_right", "turn_right_rear", "back_to", "turn_left_rear", "turn_left", "left_front", "still_go_straight" ], 
        this.Lf = 0, this.Df = [], this.Ff = !1, this.Gf = 0, Object.assign(this, e);
    });
    var Ti = (Object.assign(n.prototype, {
        Cf: function(t) {
            for (var e = [], n = 0; n < t.length; n++) e = e.concat(t[n].Gr);
            return e;
        },
        Bf: function(t, e) {
            var n = Math.PI / 4, r = (t = t / n, parseInt(t));
            t = t % 1 * n;
            return r % 2 == 0 ? e < t && (r += 1) : n - e <= t && (r += 1), r;
        },
        Uf: function(t, e) {
            var n = e.angleTo(t);
            return new vr(e.x, e.z, e.y).cross(new vr(t.x, t.z, t.y)).z < 0 ? 2 * Math.PI - n : n;
        },
        nr: function() {
            var t = {
                center: {
                    x: 0,
                    y: 0,
                    z: 0
                }
            };
            return this.Rf && (t.center.x = this.Rf.scene.defCenX, t.center.y = this.Rf.scene.defCenY, 
            t.center.z = this.Rf.scene.defCenZ), t;
        },
        Zf: function(t, e) {
            var n = 0;
            return e.level && (n = this.cr(e.level).height), new vr(e.x - t.x, t.y + n, -e.y + t.y);
        },
        Wf: function(t) {
            return (t = xi[this.If][t]) || "";
        },
        cr: function(t) {
            var e = null;
            if (!this.Rf) return null;
            for (var n = this.Rf.scene, r = (e = {
                level: t,
                height: 0,
                gname: "",
                desc: ""
            }, 0); r < n.layerGroups.length; r++) {
                var i = n.layerGroups[r];
                if (i.gid === t) {
                    e.height = i.height, e.gname = i.gname, e.desc = i.desc;
                    break;
                }
            }
            return e;
        },
        Vf: function(t) {
            if (-1 != t) switch (t) {
              case 2:
                return " " + this.Wf("stair_pure");

              case 3:
                return " " + this.Wf("escalator_pure");

              case 1:
                return " " + this.Wf("lift_pure");

              case 5:
                return " " + this.Wf("ramp_pure");

              default:
                return "";
            }
            return this.Wf("stair");
        },
        qf: function(t, e) {
            var n, r, i, o;
            return e == t.length - 1 ? {
                index: t[t.length - 1].index
            } : (i = r = new vr(0, 0, 1), 0 != e && ((i = t[e].clone().sub(t[e - 1]).normalize()).y = 0, 
            i.z *= -1), (o = t[e + 1].clone().sub(t[e])).y = 0, n = o.length(), (o = o.normalize()).z *= -1, 
            r = this.Bf(this.Uf(r, o), 22.5 * pt.X()), i = this.Uf(i, o), {
                relField: o = this.Bf(i, this.Nf * pt.X()),
                relDesc: this.Wf(this.Pf[o]),
                relAngle: i * pt.H(),
                absField: r,
                absDesc: this.Wf(this.Af[r]),
                distance: n,
                index: t[e].index
            });
        },
        Yf: function(t, e, n) {
            for (var r = this, i = this.nr().center, o = t.map(function(t, e) {
                return (t = r.Zf(i, t)).index = e, t;
            }), s = [], a = 0; a < o.length; a++) {
                var u = this.qf(o, a);
                u.point = t[a], 0 !== e[a].Hr && (u.isLift = !0), u.level = n, s.push(u);
            }
            for (var l = [ s[0] ], h = 1; h < s.length; h++) s[h].isLift ? l.push(s[h]) : 1 == h && s[0].distance <= this.Mf ? (s[0].distance += s[h].distance, 
            s[0].relDesc = s[h].relDesc, s[0].relAngle = s[h].relAngle, s[0].absField = s[h].absField, 
            s[0].absDesc = s[h].absDesc) : s[h].distance <= this.Mf && (s[h].relAngle <= this.kf || 360 - s[h].relAngle <= this.kf) || s[h].relAngle <= this.kf || 360 - s[h].relAngle <= this.kf ? l[l.length - 1].distance += s[h].distance : l.push(s[h]);
            return l;
        },
        zf: function(t, e) {
            var n = [], r = 0;
            if (e.forEach(function(t) {
                (t.Ws || t.ai.Ws) && n.push(r), r++;
            }), 0 != n.length) for (;0 != n.length; ) {
                for (var i = 0; i < t.length - 1; i++) if (t[i].index <= n[0] && t[i + 1].index >= n[0]) {
                    t[i + 1].Ws = !0;
                    break;
                }
                n.splice(0, 1);
            }
        },
        Xf: function(t) {
            var e = "";
            return null == (t = this.cr(t)) || "" + (e = this.If == u.ZH ? t.desc : t.gname.toUpperCase()) != "null" && "" + e != "" && "" + e != "undefined" ? e : t.gname.toUpperCase();
        },
        Hf: function(t, e, n, r, i, o) {
            var s, a, u = t[e], l = t[e + 1], h = null, f = this.Wf(this.xf[l.relField]);
            this.Ff = e == t.length - 3 && l.distance < this.Lf, f && !this.Ff || (r ? (this.Ff = !1, 
            f || (h = this.Qf(t[e + 1].point, i), i = this.Vf(h), s = null, a = this.Xf(r), 
            f = this.li == sr ? (s = n < r ? this.Wf("drive_up") : this.Wf("drive_down"), this.Wf("along") + i + " " + s + " " + a) : (s = n < r ? this.Wf("up_to") : this.Wf("down_to"), 
            this.Wf("take") + i + " " + s + " " + a))) : (this.Ff && (this.Gf = l.distance), 
            o || (f = this.Wf("arrived")))), n = null, n = 0 == e ? 2 == t.length ? this.Wf("face_to") + " " + u.absDesc + " " + this.Wf("straight") + " " + Math.ceil(u.distance) + " " + this.Wf("meter") + " " + f : this.Wf("face_to") + " " + u.absDesc + " " + this.Wf("straight") + " " + Math.ceil(u.distance) + " " + this.Wf("meter") + " " + this.Wf(this.xf[t[e + 1].relField]) : this.Wf("straight") + " " + Math.ceil(u.distance + (this.Ff && !r ? l.distance : 0)) + " " + this.Wf("meter") + " " + f;
            return [ n = l.Ws ? (n += " ") + this.Wf("pass") : n, h ];
        },
        Kf: function(t, e, n, r, i) {
            var o = t[e], s = t[e + 1];
            return this.Wf(this.xf[t[e + 1].relField]) && !this.Ff || (r ? (t = n < r ? this.Wf("up") : this.Wf("down"), 
            s.relDesc = t) : s.relDesc = i ? this.Wf("front_pure") : this.Wf("dest")), {
                startPoint: o.point,
                startLevel: o.level,
                startIndex: o.index,
                endPoint: s.point,
                endLevel: s.level,
                endIndex: s.index,
                startDirection: o.absDesc,
                endDirection: s.relDesc,
                distance: o.distance + (this.Ff && !r ? s.distance : 0)
            };
        },
        Qf: function(t, e) {
            for (var n, r = Number.MAX_SAFE_INTEGER, i = -1, o = 0; o < e.length; o++) e[o] && (n = Math.pow(e[o].ai.x - t.x, 2) + Math.pow(e[o].ai.y - t.y, 2)) < r && 0 !== e[o].Hr && (r = n, 
            i = e[o].Hr);
            return i;
        },
        Jf: function(t) {
            for (var e, n = t.$f, r = t.th, i = t.result, o = [], s = [], a = [], u = null, l = 0, h = [], f = !(this.Df = []), c = null, p = null, y = (t = t.buildingName || this.Wf("outdoor"), 
            this.Cf(i)), d = 0; d < i.length; d++) {
                if (e = (g = i[d]).level, u = null, d < i.length - 1) for (var v = d; v < i.length; v++) if (i[v].level != e) {
                    u = i[v].level;
                    break;
                }
                var b, g, m = g.pointList, O = this.Yf(m, g.Gr, e);
                if (this.zf(O, g.Gr), 1 < O.length && (this.Df = this.Df.concat(O)), 1 == O.length) (u || f) && (f ? s.length && (d == i.length - 1 && (r ? (o[o.length - 1] += " " + this.Wf("arrived"), 
                s[s.length - 1].endDirection = this.Wf("dest")) : s[s.length - 1].endDirection = this.Wf("front_pure")), 
                s[s.length - 1].endPoint = m[0], s[s.length - 1].endLevel = e) : c != e && null != c || (g = null, 
                b = this.Xf(u), p = this.li === sr ? (g = e < u ? this.Wf("drive_up") : this.Wf("drive_down"), 
                this.Wf("along_ramp") + " " + g + " " + b) : (g = e < u ? this.Wf("up_to") : this.Wf("down_to"), 
                this.Wf("take_stair") + " " + g + " " + b), o.push(p), s.push({
                    startPoint: m[0],
                    startDirection: e < u ? this.Wf("up") : this.Wf("down"),
                    startLevel: e
                })), f = !f); else {
                    c = e;
                    for (var x = 0; x < O.length - 1 && !this.Ff; x++) {
                        var E, _ = (E = this.Hf(O, x, e, u, y, r))[0];
                        (E = E[1]) && a.push(E), o.push(_), s.push(this.Kf(O, x, e, u, r));
                    }
                }
                1 < O.length && (g = O.reduce(function(t, e) {
                    return t + (e.distance || 0);
                }, 0), h.push({
                    level: e,
                    distance: g
                }), l += g);
            }
            return n && 0 < o.length && (o[0] = this.Wf("enter") + " " + t + " " + o[0]), r && 0 < o.length && (t === this.Wf("outdoor") ? o[o.length - 1] = o[o.length - 1] + this.Wf("reach") + " " + r + " " + this.Wf("entrance") : o[o.length - 1] = o[o.length - 1] + this.Wf("reach") + " " + t + " " + this.Wf("exit")), 
            [ o, s, l, h, this.Gf, a ];
        }
    }), n);
    function wi(t) {
        return (wi = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function Si(t, e) {
        var n, r, i, o, s = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"];
        if (s) return r = !(n = !0), {
            s: function() {
                s = s.call(t);
            },
            n: function() {
                var t = s.next();
                return n = t.done, t;
            },
            e: function(t) {
                r = !0, i = t;
            },
            f: function() {
                try {
                    n || null == s.return || s.return();
                } finally {
                    if (r) throw i;
                }
            }
        };
        if (Array.isArray(t) || (s = ji(t)) || e && t && "number" == typeof t.length) return s && (t = s), 
        o = 0, {
            s: e = function() {},
            n: function() {
                return o >= t.length ? {
                    done: !0
                } : {
                    done: !1,
                    value: t[o++]
                };
            },
            e: function(t) {
                throw t;
            },
            f: e
        };
        throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }
    function Ri(t) {
        return function(t) {
            if (Array.isArray(t)) return Ai(t);
        }(t) || function(t) {
            if ("undefined" != typeof Symbol && null != t[Symbol.iterator] || null != t["@@iterator"]) return Array.from(t);
        }(t) || ji(t) || function() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
        }();
    }
    function ji(t, e) {
        var n;
        if (t) return "string" == typeof t ? Ai(t, e) : "Map" === (n = "Object" === (n = Object.prototype.toString.call(t).slice(8, -1)) && t.constructor ? t.constructor.name : n) || "Set" === n ? Array.from(t) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Ai(t, e) : void 0;
    }
    function Ai(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r;
    }
    function Li(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== wi(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== wi(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === wi(t) ? t : String(t);
            }(r.key), r);
        }
    }
    n = function(t, e, n) {
        return e && Li(t.prototype, e), n && Li(t, n), Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }(function t(e) {
        if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
        this.ih = e.gate, this.nh = e.bidToOutline, this.rh = e.bidToOutlineAccess, this.eh = {}, 
        this.oh = {}, this.sh = -1, this.uh = -1, this.ah = [], this.fh = [], this.hh = new Map(), 
        this.lh = new Map(), this.yh = [], this.dh = new Map(), this.bh = [], this.ph = new Map(), 
        this.mh = new Map(), this.wh = new Map(), this.ne = null, this.re = null, this.gh = null, 
        this._h = null, this.li = e.type, this.jh = e.barrierFree, this.Sh = !1, this.Oh = null, 
        this.Eh = 10, this.Th = 2, this.Rh();
    });
    var Ni = (Object.assign(n.prototype, {
        Rh: function() {
            this.ih && (this.Nh(), this.kh(), this.Mh(this.ah, this.mh), this.Mh(this.fh, this.wh));
        },
        Nh: function() {
            for (var t = 0; t < this.ih.length; t++) {
                var e = null, n = null, r = (e = null == this.li || 0 === this.li ? (n = this.ih[t].accessible, 
                this.ih[t].navi) : this.ih[t].drive, "" == this.ih[t].bid ? null : this.ih[t].bid), i = this.ih[t].gid;
                e = this.Ih(e, i, r), n = this.Ih(n, i, r);
                (i = this.yh).push.apply(i, Ri(e)), (i = this.bh).push.apply(i, Ri(n)), null == this.eh[r] && (this.eh[r] = []), 
                (i = this.eh[r]).push.apply(i, Ri(e)), null == this.oh[r] && (this.oh[r] = []), 
                (i = this.oh[r]).push.apply(i, Ri(n));
            }
            for (var o = 0; o < this.yh.length; o++) this.yh[o].jn = o, this.dh.set(o, this.yh[o]);
            for (var s = 0; s < this.bh.length; s++) this.bh[s].jn = s, this.ph.set(s, this.bh[s]);
        },
        Ih: function(t, e, n) {
            if (null == t) return [];
            for (var r = [], i = 0; i < t.length; i++) {
                var o = t[i];
                o.level = e, o.bid = n, r.push(o);
            }
            return r;
        },
        kh: function() {
            this.ah = this.Ah(this.dh), this.fh = this.Ah(this.ph, !0);
            for (var t = 0; t < this.ah.length; t++) this.ah[t].jn = t, this.hh.set(t, this.ah[t]);
            for (var e = 0; e < this.fh.length; e++) this.fh[e].jn = e, this.lh.set(e, this.fh[e]);
        },
        Ah: function(t, e) {
            for (var n = [], r = Array.from(t.keys()), i = 0; i < r.length; i++) for (var o = i + 1; o < r.length; o++) {
                var s, a = r[i], u = r[o], l = t.get(a), h = t.get(u);
                t.get(a).flag == t.get(u).flag && (s = this.Ph(l, h), n.push(s)), t.get(a).bid == t.get(u).bid && this.xh(l, h, e) && (s = this.Ph(l, h), 
                n.push(s));
            }
            return n;
        },
        Ph: function(t, e) {
            var n, r, i, o = 0, s = {};
            return s.startPoint = t.jn, s.endPoint = e.jn, s.jn = null, t.bid == e.bid ? (n = {
                x: t.pts[0],
                y: t.pts[1]
            }, r = {
                x: e.pts[0],
                y: e.pts[1]
            }, i = Math.abs(t.level - e.level) * this.Eh, 0 <= t.jn && 0 <= e.jn ? this.Th = 4 : this.Th = 2, 
            o = 0 != i || t.extentID !== e.extentID ? (pt.distance(n, r) + i) * this.Th : pt.distance(n, r) + i, 
            s.dist = Number(o.toFixed(5))) : s.dist = o, s;
        },
        xh: function(t, e, n) {
            var r = t.bid, i = this.Lh(t), o = this.Lh(e);
            return (t.extentID = i) == (e.extentID = o) || (n ? this.rh : this.nh).get(r).zo(i, o) === a.ROUTE_SUCCESS;
        },
        Lh: function(t) {
            for (var e, n = null == (e = this.nh.get(t.bid).Po) ? void 0 : e.xe, r = 0; r < n.length; r++) {
                var i = n[r].Wo, o = n[r].Lr;
                if (t.level === o && (o = {
                    x: t.pts[0],
                    y: t.pts[1]
                }, i.Oe(o))) return i.oe;
            }
            return 0;
        },
        Dh: function(t) {
            this.ne = this.sh;
            var e, n = t.buildingID || null, r = [], i = {
                type: null,
                pts: [ t.x, t.y ],
                bid: n,
                level: t.level,
                jn: this.ne
            };
            if (null == (e = (this.jh ? this.oh : this.eh)[n]) || 0 == e.length) return !1;
            for (var o, s = 0; s < e.length; s++) this.xh(i, e[s]) && (o = this.Ph(i, e[s])) && (o.jn = this.uh, 
            r.push(o), (this.jh ? (this.fh.push(o), this.lh) : (this.ah.push(o), this.hh)).set(this.uh, o), 
            --this.uh);
            return this.jh ? (this.bh.push(i), this.ph.set(this.ne, i), this.Mh(r, this.wh)) : (this.yh.push(i), 
            this.dh.set(this.ne, i), this.Mh(r, this.mh)), --this.sh, !0;
        },
        Fh: function(t) {
            this.re = this.sh;
            var e, n = t.buildingID || null, r = [], i = {
                type: null,
                pts: [ t.x, t.y ],
                bid: n,
                level: t.level,
                jn: this.re
            };
            if (null == (e = (this.jh ? this.oh : this.eh)[n]) || 0 == e.length) return !1;
            this.yh.push(i), this.dh.set(this.re, i);
            for (var o, s = 0; s < e.length; s++) this.xh(i, e[s]) && (o = this.Ph(i, e[s])) && (o.jn = this.uh, 
            r.push(o), (this.jh ? (this.fh.push(o), this.lh) : (this.ah.push(o), this.hh)).set(this.uh, o), 
            --this.uh);
            return this.jh ? (this.bh.push(i), this.ph.set(this.re, i), this.Mh(r, this.wh)) : (this.yh.push(i), 
            this.dh.set(this.re, i), this.Mh(r, this.mh)), --this.sh, !0;
        },
        Mh: function(t, e) {
            for (var n = 0; n < t.length; n++) {
                var r = t[n], i = r.startPoint, o = r.endPoint;
                e.has(i) || e.set(i, new Map()), e.get(i).set(o, r.dist), e.has(o) || e.set(o, new Map()), 
                e.get(o).set(i, r.dist);
            }
            return e;
        },
        Gh: function(t, e, n) {
            var r = null, i = null;
            if (this.jh) {
                if (!this.wh.has(t)) return !1;
                for (var o = 0; o < e.length; o++) if (!this.wh.has(e[o])) return !1;
                r = this.ph, i = this.wh;
            } else {
                if (!this.mh.has(t)) return !1;
                for (var s = 0; s < e.length; s++) if (!this.mh.has(e[s])) return !1;
                r = this.dh, i = this.mh;
            }
            this.Qo(e, t);
            var a, u = e.length, l = 0, h = Si(r.keys());
            try {
                for (h.s(); !(a = h.n()).done; ) {
                    var f = a.value;
                    if (r.get(f).qr = f == t ? 0 : Number.MAX_VALUE, r.get(f).Yr = !1, r.get(f).zr = [], 
                    n instanceof Array) for (var c = 0; c < n.length; c++) {
                        if (f != n[c] && r.get(f).flag === r.get(n[c]).flag) {
                            -1 == n.indexOf(f) && n.push(f);
                            break;
                        }
                        if (n.length >= r.size) return !1;
                    }
                }
            } catch (t) {
                h.e(t);
            } finally {
                h.f();
            }
            var p = [];
            for (p.push(t); 0 < p.length; ) {
                var y = p[0], d = (p.splice(0, 1), r.get(y));
                if (!d.Yr) {
                    if (d.Yr = !0, -1 != e.indexOf(y) && ++l == u) return !0;
                    var v = i.get(y);
                    if (v) {
                        var b, g = Si(v.keys());
                        try {
                            for (g.s(); !(b = g.n()).done; ) {
                                var m = b.value, O = d.qr + v.get(m), x = r.get(m);
                                n instanceof Array && n.includes(m) || x.Yr || x.qr > O && (x.qr = O, x.zr = [], 
                                x.zr.push(y), p.push(m));
                            }
                        } catch (t) {
                            g.e(t);
                        } finally {
                            g.f();
                        }
                        p.sort(function(t, e) {
                            return r.get(t).qr - r.get(e).qr;
                        });
                    }
                }
            }
            return !(l < u);
        },
        Qo: function(t, e) {
            for (var n = t.indexOf(e); -1 != n; ) t.splice(n, 1), n = t.indexOf(e);
        },
        Vo: function() {
            if (this.jh) {
                if (!this.wh.has(this.ne)) return a.ROUTE_FAILED_CANNOT_CALCULATE;
                if (!this.wh.has(this.re)) return a.ROUTE_FAILED_CANNOT_CALCULATE;
            } else {
                if (!this.mh.has(this.ne)) return a.ROUTE_FAILED_CANNOT_CALCULATE;
                if (!this.mh.has(this.re)) return a.ROUTE_FAILED_CANNOT_CALCULATE;
            }
            var t = [];
            return t.push(this.re), this.Gh(this.ne, t) ? a.ROUTE_SUCCESS : a.ROUTE_FAILED_CANNOT_ARRIVE;
        },
        Xo: function() {
            var t = [], e = [];
            e.push(this.re), this.Ho(e, t);
            for (var n = 0; n < t.length; n++) t[n].paths.reverse();
            return t;
        },
        Ho: function(t, e) {
            for (var n = 0; n < t.length; n++) {
                var r = {
                    paths: [],
                    distance: 0
                };
                r.paths.push(t[n]), this.Jo(t[n], r), e.push(r);
            }
        },
        Jo: function(t, e) {
            var n = null, r = null;
            if (this.jh) {
                if (0 == this.ph.get(t).zr.length) return;
                n = this.ph.get(t).zr[0], r = this.ph.get(t).qr;
            } else {
                if (0 == this.dh.get(t).zr.length) return;
                n = this.dh.get(t).zr[0], r = this.dh.get(t).qr;
            }
            null != n && (e.paths.push(n), e.distance += r), this.Jo(n, e);
        },
        Ch: function(t) {
            var e, n = new Map(), r = Si(t.keys());
            try {
                for (r.s(); !(e = r.n()).done; ) {
                    for (var i = e.value, o = pt.Pt(t.get(i)), s = (o.bid = i, 0), a = 0; a < t.get(i).length; a++) s += t.get(i)[a].level;
                    s = Math.floor(s / t.get(i).length), o.level = s, n.set(i, o);
                }
            } catch (t) {
                r.e(t);
            } finally {
                r.f();
            }
            return n;
        },
        Bh: function(t) {
            var e, n = null, r = null, i = [], o = Si(t.keys());
            try {
                for (o.s(); !(e = o.n()).done; ) {
                    var s = e.value, a = this.Uh(t.get(s));
                    if (!a) return null;
                    a.bid == this.gh ? n = a : a.bid == this._h ? r = a : i.push(a);
                }
            } catch (t) {
                o.e(t);
            } finally {
                o.f();
            }
            return null != n && i.unshift(n), null != r && i.push(r), i;
        },
        Uh: function(t) {
            var e, n = t.bid || null, r = [], i = {
                type: null,
                pts: [ t.x, t.y ],
                bid: t.bid,
                level: t.level,
                jn: this.sh
            };
            if (!(e = (this.jh ? this.oh : this.eh)[n]) || 0 == e.length) return null;
            for (var o, s = 0; s < e.length; s++) this.xh(i, e[s]) && (o = this.Ph(i, e[s])) && (o.jn = this.uh, 
            r.push(o), (this.jh ? (this.fh.push(o), this.lh) : (this.ah.push(o), this.hh)).set(this.uh, o), 
            --this.uh);
            return this.jh ? (this.bh.push(i), this.ph.set(this.sh, i), this.Mh(r, this.wh)) : (this.yh.push(i), 
            this.dh.set(this.sh, i), this.Mh(r, this.mh)), --this.sh, i;
        },
        Zh: function() {
            if (!this.ih || 0 === this.ih.length) return null;
            var t = null;
            if (this.Sh) {
                var e = this.Ch(this.Oh), n = this.Bh(e);
                if (!n || 0 === n.length) return null;
                for (var r = [], i = 1; i < n.length - 1; i++) r.push(n[i].jn);
                var o = [ e = n[0].jn ], s = [], a = n[n.length - 1].jn;
                if (this.Wh(e, r, o, s), this.Wh(o[o.length - 1], [ a ], o, s), o.length == n.length) return this.Vh(s);
            }
            return t;
        },
        Vh: function(t) {
            for (var e = [], n = -1, r = [], i = 0; i < t.length; i++) for (var o, s = t[i].paths, a = null, u = 0; u < s.length; u++) 0 < s[u] && (o = s[u], 
            a = this.dh.get(o), -1 == n && (n = a.bid), a.bid == n ? r.push(a) : (e.push({
                bid: n,
                entrances: r
            }), r = [ a ]), n = a.bid), i == t.length - 1 && u == s.length - 1 && a && e.push({
                bid: a.bid,
                entrances: r
            });
            return e;
        },
        Wh: function(t, e, n, r) {
            if (0 != e.length) {
                for (var i, o = null, s = Number.MAX_VALUE, a = null, u = 0, l = 0; l < e.length; l++) this.Gh(t, [ e[l] ]) && (this.Jo(e[l], i = {
                    paths: [],
                    distance: 0
                }), i.distance < s) && (s = i.distance, o = e[l], a = i, u = l);
                o && (n.push(o), a.paths.reverse(), r.push(a), e.splice(u, 1), this.Wh(o, e, n, r));
            }
        },
        ir: function() {
            this.yh = this.yh.filter(function(t) {
                return 0 <= t.jn;
            }), this.bh = this.bh.filter(function(t) {
                return 0 <= t.jn;
            }), this.ah = this.ah.filter(function(t) {
                return 0 <= t.jn;
            }), this.fh = this.fh.filter(function(t) {
                return 0 <= t.jn;
            });
            var t, e = Si(this.dh.keys());
            try {
                for (e.s(); !(t = e.n()).done; ) {
                    var n = t.value;
                    n < 0 && this.dh.delete(n);
                }
            } catch (t) {
                e.e(t);
            } finally {
                e.f();
            }
            var r, i = Si(this.ph.keys());
            try {
                for (i.s(); !(r = i.n()).done; ) {
                    var o = r.value;
                    o < 0 && this.ph.delete(o);
                }
            } catch (t) {
                i.e(t);
            } finally {
                i.f();
            }
            var s, a = Si(this.hh.keys());
            try {
                for (a.s(); !(s = a.n()).done; ) {
                    var u = s.value;
                    u < 0 && this.hh.delete(u);
                }
            } catch (t) {
                a.e(t);
            } finally {
                a.f();
            }
            var l, h = Si(this.lh.keys());
            try {
                for (h.s(); !(l = h.n()).done; ) {
                    var f = l.value;
                    f < 0 && this.lh.delete(f);
                }
            } catch (t) {
                h.e(t);
            } finally {
                h.f();
            }
            var c, p = Si(this.mh.keys());
            try {
                for (p.s(); !(c = p.n()).done; ) {
                    var y = c.value;
                    if (y < 0) this.mh.delete(y); else {
                        var d, v = Si(this.mh.get(y).keys());
                        try {
                            for (v.s(); !(d = v.n()).done; ) {
                                var b = d.value;
                                b < 0 && this.mh.get(y).delete(b);
                            }
                        } catch (t) {
                            v.e(t);
                        } finally {
                            v.f();
                        }
                    }
                }
            } catch (t) {
                p.e(t);
            } finally {
                p.f();
            }
            var g, m = Si(this.wh.keys());
            try {
                for (m.s(); !(g = m.n()).done; ) {
                    var O = g.value;
                    if (O < 0) this.wh.delete(O); else {
                        var x, E = Si(this.wh.get(O).keys());
                        try {
                            for (E.s(); !(x = E.n()).done; ) {
                                var _ = x.value;
                                _ < 0 && this.wh.get(O).delete(_);
                            }
                        } catch (t) {
                            E.e(t);
                        } finally {
                            E.f();
                        }
                    }
                }
            } catch (t) {
                m.e(t);
            } finally {
                m.f();
            }
            this.sh = -1, this.uh = -1;
        }
    }), n);
    function Ii(t) {
        return (Ii = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function Pi(t) {
        return function(t) {
            if (Array.isArray(t)) return Mi(t);
        }(t) || function(t) {
            if ("undefined" != typeof Symbol && null != t[Symbol.iterator] || null != t["@@iterator"]) return Array.from(t);
        }(t) || ki(t) || function() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
        }();
    }
    function Di(t, e) {
        var n, r, i, o, s = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"];
        if (s) return r = !(n = !0), {
            s: function() {
                s = s.call(t);
            },
            n: function() {
                var t = s.next();
                return n = t.done, t;
            },
            e: function(t) {
                r = !0, i = t;
            },
            f: function() {
                try {
                    n || null == s.return || s.return();
                } finally {
                    if (r) throw i;
                }
            }
        };
        if (Array.isArray(t) || (s = ki(t)) || e && t && "number" == typeof t.length) return s && (t = s), 
        o = 0, {
            s: e = function() {},
            n: function() {
                return o >= t.length ? {
                    done: !0
                } : {
                    done: !1,
                    value: t[o++]
                };
            },
            e: function(t) {
                throw t;
            },
            f: e
        };
        throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }
    function ki(t, e) {
        var n;
        if (t) return "string" == typeof t ? Mi(t, e) : "Map" === (n = "Object" === (n = Object.prototype.toString.call(t).slice(8, -1)) && t.constructor ? t.constructor.name : n) || "Set" === n ? Array.from(t) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Mi(t, e) : void 0;
    }
    function Mi(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r;
    }
    function Wi(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== Ii(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== Ii(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === Ii(t) ? t : String(t);
            }(r.key), r);
        }
    }
    n = function(t, e, n) {
        return e && Wi(t.prototype, e), n && Wi(t, n), Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }(function t() {
        if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
        this.pi = null, this.Wt = null, this.Vt = null, this.Go = null, this.na = null, 
        this.li = null, this.ra = new Map(), this.qh = new Map(), this.En = a.ROUTE_FAILED_CANNOT_ARRIVE, 
        this.Yh = [], this.Xh = null, this.Hh = [], this.Ra = null, this.ka = [], this.Na = !1, 
        this.barrierFree = !1, this.La = [], this.Qh = null;
    });
    var Ui = (Object.assign(n.prototype, {
        Sr: function(t) {
            this.pi = t, this.li = t.type, this.Qh = t.bid || null;
            var e, n = new Map(), r = Di(this.qh.keys());
            try {
                for (r.s(); !(e = r.n()).done; ) {
                    var i = e.value;
                    n.set(i, this.qh.get(i).oa);
                }
            } catch (t) {
                r.e(t);
            } finally {
                r.f();
            }
            var o, s = new Map(), a = Di(this.qh.keys());
            try {
                for (a.s(); !(o = a.n()).done; ) {
                    var u = o.value;
                    s.set(u, this.qh.get(u).sa);
                }
            } catch (t) {
                a.e(t);
            } finally {
                a.f();
            }
            t = {
                gate: this.pi.gate,
                bidToOutline: n,
                bidToOutlineAccess: s,
                type: this.li,
                barrierFree: this.barrierFree
            }, this.Kh = new Ni(t);
        },
        Wa: function(t, e, n, r) {
            this.ir(), t.buildingID = void 0 !== t.buildingID ? t.buildingID : this.Qh, e.buildingID = void 0 !== e.buildingID ? e.buildingID : this.Qh, 
            this.Wt = t, this.Vt = e, this.Go = n, this.na = r;
            var i = [];
            if (this.Wt.buildingID == this.Vt.buildingID) {
                var o = [ [ {
                    pts: [ t.x, t.y ],
                    bid: t.buildingID || null,
                    level: t.level
                }, {
                    pts: [ e.x, e.y ],
                    bid: e.buildingID || null,
                    level: e.level
                } ] ];
                if (this.En = this.Jh(o), this.En == a.ROUTE_SUCCESS || this.En == a.ROUTE_FAILED_NO_START_ARRIVAL || this.En == a.ROUTE_FAILED_NO_DEST_ARRIVAL) return this.En;
                if (null == this.Kh) return this.En;
            }
            if (0 == (o = this.$h(t, e)).length) this.En = a.ROUTE_FAILED_ENTRANCE; else {
                for (var s = 0; s < o.length; s++) i.push(o[s][0].bid);
                n = this.Jh(o), this.En = n;
            }
            return this.En;
        },
        ir: function() {
            this.En = a.ROUTE_FAILED_CANNOT_ARRIVE, this.Yh = [], this.Xh = null, this.Hh = [];
        },
        $h: function(t, e) {
            var n = [];
            if (this.tl(t, e) === a.ROUTE_SUCCESS) for (var r = this.il()[0], i = [], o = 0; o < r.length - 1; o++) {
                var s = r[o], u = r[o + 1];
                0 === i.length && i.push(s), s.bid === u.bid ? (i.push(u), o == r.length - 2 && n.push(i)) : (n.push(i), 
                i = []);
            }
            return n;
        },
        Jh: function(t) {
            var e, n = new Map(), r = new Map();
            null != (e = this.Kh) && e.eh && (r = this.Kh.eh);
            for (var i = 0; i < t.length; ) {
                if (t[i].length <= 1) return a.ROUTE_FAILED_CANNOT_ARRIVE;
                for (var o = 0; o < t[i].length - 1; o++) {
                    var s, u = ((s = {}).x = t[i][o].pts[0], s.y = t[i][o].pts[1], s.level = t[i][o].level, 
                    t[i][o].jn), l = {}, h = (l.x = t[i][o + 1].pts[0], l.y = t[i][o + 1].pts[1], l.level = t[i][o + 1].level, 
                    t[i][o + 1].jn), f = t[i][o].bid;
                    if ((s = (this.qh.get(f), this.nl(s, l, f))) === a.ROUTE_SUCCESS) {
                        if (l = this.rl(f), this.Hh.push({
                            bid: f,
                            result: l
                        }), o === t[i].length - 2) {
                            i += 1;
                            break;
                        }
                    } else {
                        if (l = r[f], 1 == t.length) return s;
                        if (i == t.length - 1) {
                            var c = t[i - 1][o].jn, p = h, y = (n[f] = n[f] || [], n[f].push(u), n[f]);
                            if (y.length === l.length) return s;
                            if ((c = this.el(c, [ p ], y)).length <= 1) return s;
                            t.splice(i, 1), t.splice(i - 1, 1), t.splice.apply(t, [ i - 1, 0 ].concat(Pi(c))), 
                            i -= 1, this.Hh.pop();
                            break;
                        }
                        if (p = u, y = t[i + 1][o + 1].jn, n[f] = n[f] || [], n[f].push(h), (c = n[f]).length === l.length) return s;
                        var d = this.el(p, [ y ], c);
                        if (!(1 < d.length)) {
                            if (n[f].pop(), i < 1) return s;
                            var v = t[i - 1][o].jn;
                            if ((u = (n[f] = n[f] || [], n[f].push(u), n[f])).length === l.length) return s;
                            if ((f = this.el(v, [ h ], u)).length <= 1) return s;
                            t.splice(i, 1), t.splice(i - 1, 1), t.splice.apply(t, [ i - 1, 0 ].concat(Pi(f))), 
                            i -= 1, this.Hh.pop();
                            break;
                        }
                        t.splice(i + 1, 1), t.splice(i, 1), t.splice.apply(t, [ i, 0 ].concat(Pi(d)));
                    }
                }
            }
            return a.ROUTE_SUCCESS;
        },
        el: function(t, e, n) {
            var r = [], i = [], o = [], s = [];
            if (this.Kh.Gh(t, e, n)) {
                this.Kh.Ho(e, r);
                for (var a = 0; a < r.length; a++) r[a].paths.reverse();
                for (var u = 0; u < r.length; u++) {
                    for (var l = [], h = 0; h < r[u].paths.length; h++) this.barrierFree ? l.push(this.Kh.ph.get(r[u].paths[h])) : l.push(this.Kh.dh.get(r[u].paths[h]));
                    i.push(l);
                }
                for (var f = i[0], c = 0; c < f.length - 1; c++) {
                    var p = f[c], y = f[c + 1];
                    0 === o.length && o.push(p), p.bid === y.bid ? (o.push(y), c == f.length - 2 && s.push(o)) : (s.push(o), 
                    o = []);
                }
            }
            return s;
        },
        nl: function(t, e, n) {
            return (n = this.qh.get(n = void 0 === n ? null : n)).barrierFree = this.barrierFree, 
            n.Na = this.toDoors, n.Wa(t, e, this.Go, this.na);
        },
        ol: function() {
            return this.Hh;
        },
        sl: function(t) {
            for (var e = [], n = 0; n < t.length; n++) {
                var r = this.rl(t[n]);
                e.push({
                    bid: t[n],
                    result: r
                });
            }
            return e;
        },
        rl: function(t) {
            var e = (t = this.qh.get(t = void 0 === t ? null : t)).$a();
            return this.Ra = t.Ra, e;
        },
        tl: function(t, e) {
            var n = a.ROUTE_FAILED_CANNOT_ARRIVE;
            return this.Kh.ir(), this.Kh.jh = this.barrierFree, this.Kh.Dh(t) && this.Kh.Fh(e) ? this.Kh.Vo() : n;
        },
        il: function() {
            for (var t = this.Kh.Xo(), e = [], n = 0; n < t.length; n++) {
                for (var r = [], i = 0; i < t[n].paths.length; i++) this.barrierFree ? r.push(this.Kh.ph.get(t[n].paths[i])) : r.push(this.Kh.dh.get(t[n].paths[i]));
                e.push(r);
            }
            return e;
        },
        rf: function(t, e) {
            var n = void 0 !== t.buildingID ? t.buildingID : this.Qh;
            return (n = this.qh.get(n).rf(t, e)) && void 0 !== t.buildingID && (n.coords.buildingID = t.buildingID), 
            n;
        },
        eu: function(t) {
            for (var e = new Map(), n = 0; n < t.length; n++) {
                var r = t[n], i = e.get(r.Qh);
                i || e.set(r.Qh, i = []), i.push(r);
            }
            var o, s = Di(e.keys());
            try {
                for (s.s(); !(o = s.n()).done; ) {
                    var a = o.value;
                    this.qh.get(a).eu(t);
                }
            } catch (t) {
                s.e(t);
            } finally {
                s.f();
            }
        },
        Js: function() {
            for (var t in this.ka) {
                var e = parseInt(t);
                t = ((e = this.qh.get(e)).ka = this.ka[t], e.Js(), e.$a());
                (e = this.Hh).push.apply(e, Pi(t));
            }
        },
        Ga: function(t, e, n, r) {
            this.Wt = t, this.Vt = e, this.Go = n, this.na = r;
            for (var i = !1, o = 0; o < this.La.length; o++) this.La[o].Ws = !0, this.La[o].order ? i = !0 : i && (this.La[o].order = Number.MAX_VALUE);
            i && this.La.sort(function(t, e) {
                return t.order - e.order;
            }), this.La.unshift(t), this.La.push(e);
            for (var s = 0; s < this.La.length; s++) this.La[s].buildingID = void 0 !== this.La[s].buildingID ? this.La[s].buildingID : this.Qh;
            return i ? this.ul(this.La) : (n = this.al(this.La), r = null, this.Kh && (this.Kh.Oh = n, 
            this.Kh.Sh = !0, this.Kh.gh = t.buildingID, this.Kh._h = e.buildingID, r = this.Kh.Zh()), 
            this.fl(t, e, r, this.La));
        },
        al: function(t) {
            for (var e = new Map(), n = 0; n < t.length; n++) {
                var r = t[n].buildingID || null;
                e.has(r) || e.set(r, []), e.get(r).push(t[n]);
            }
            return e;
        },
        fl: function(t, e, n, r) {
            var i = [], o = null;
            if (r.shift(), r.pop(), n) for (var s = this.al(r), u = 0; u < n.length; u++) {
                var l, h, f, c, p, y = n[u].bid;
                if (0 == u ? (h = {
                    x: n[u].entrances[0].pts[0],
                    y: n[u].entrances[0].pts[1],
                    level: n[u].entrances[0].level
                }, s.has(y) ? (l = s.get(y), o = this.hl(t, h, y, l), s.delete(y)) : o = this.nl(t, h, y)) : u == n.length - 1 ? (l = {
                    x: n[u].entrances[0].pts[0],
                    y: n[u].entrances[0].pts[1],
                    level: n[u].entrances[0].level
                }, s.has(y) ? (h = s.get(y), o = this.hl(l, e, y, h), s.delete(y)) : o = this.nl(l, e, y)) : (f = {
                    x: n[u].entrances[0].pts[0],
                    y: n[u].entrances[0].pts[1],
                    level: n[u].entrances[0].level
                }, c = {
                    x: n[u].entrances[1].pts[0],
                    y: n[u].entrances[1].pts[1],
                    level: n[u].entrances[1].level
                }, s.has(y) ? (p = s.get(y), o = this.hl(f, c, y, p), s.delete(y)) : o = this.nl(f, c, y)), 
                o !== a.ROUTE_SUCCESS) break;
                v = this.rl(y), i.push({
                    bid: y,
                    result: v
                });
            } else {
                var d = t.buildingID || null, v = (o = this.hl(t, e, d, r), this.rl(d));
                i.push({
                    bid: d,
                    result: v
                });
            }
            return this.Hh = i, this.En = o;
        },
        ul: function(t) {
            for (var e, n = [], r = null, i = null, o = 0; o < t.length - 1; o++) if (t[o].buildingID == t[o + 1].buildingID) {
                var s = t[o].buildingID;
                if ((r = this.toDoors && 0 < o ? (p = (i = e).result[i.result.length - 1].Fr, (y = t[o]).x = p[p.length - 1].x, 
                y.y = p[p.length - 1].y, this.nl(y, t[o + 1], s)) : this.nl(t[o], t[o + 1], s)) != a.ROUTE_SUCCESS) return r;
                if (e = {
                    bid: s,
                    result: this.rl(s)
                }, 0 < n.length) {
                    if (e.bid === n[n.length - 1].bid) for (var u, l = n[n.length - 1].result.length, h = n[n.length - 1].result[l - 1], f = !0, c = 0; c < e.result.length; c++) h.Lr == e.result[c].Lr && 1 < e.result[c].Gr.length && f ? (n[n.length - 1].result[l - 1].Dr += e.result[c].Dr, 
                    e.result[c].Gr.shift(), e.result[c].Fr.shift(), (u = n[n.length - 1].result[l - 1].Gr).push.apply(u, Pi(e.result[c].Gr)), 
                    (u = n[n.length - 1].result[l - 1].Fr).push.apply(u, Pi(e.result[c].Fr))) : (f = f && !1, 
                    n[n.length - 1].result.push(e.result[c]));
                } else n.push(e);
            } else {
                var p, y, d = this.toDoors && 0 < o ? (p = (i = e[e.length - 1]).result[i.result.length - 1].Fr, 
                (y = t[o]).x = p[p.length - 1].x, y.y = p[p.length - 1].y, this.$h(y, this.La[o + 1])) : this.$h(this.La[o], this.La[o + 1]);
                if ((r = this.Jh(d)) != a.ROUTE_SUCCESS) return r;
                for (var v = [], b = 0; b < d.length; b++) v.push(d[b][0].bid);
                e = this.sl(v), n.push.apply(n, Pi(e));
            }
            return this.Hh = n, this.En = r;
        },
        hl: function(t, e, n, r) {
            return (n = this.qh.get(n)).La = r, n.barrierFree = this.barrierFree, n.Na = this.toDoors, 
            n.Go = this.Go, n.na = this.na, r = n.Ga(t, e), n.La = null, r;
        },
        gi: function() {
            this.pi = null, this.Hh = null, this.Yh = null, this.Xh = null;
            var t, e = Di(this.qh.keys());
            try {
                for (e.s(); !(t = e.n()).done; ) {
                    var n = t.value;
                    this.qh.get(n).gi();
                }
            } catch (t) {
                e.e(t);
            } finally {
                e.f();
            }
        }
    }), n);
    function Ci(t) {
        return (Ci = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function Vi(t, e) {
        var n, r, i, o, s = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"];
        if (s) return r = !(n = !0), {
            s: function() {
                s = s.call(t);
            },
            n: function() {
                var t = s.next();
                return n = t.done, t;
            },
            e: function(t) {
                r = !0, i = t;
            },
            f: function() {
                try {
                    n || null == s.return || s.return();
                } finally {
                    if (r) throw i;
                }
            }
        };
        if (Array.isArray(t) || (s = Yi(t)) || e && t && "number" == typeof t.length) return s && (t = s), 
        o = 0, {
            s: e = function() {},
            n: function() {
                return o >= t.length ? {
                    done: !0
                } : {
                    done: !1,
                    value: t[o++]
                };
            },
            e: function(t) {
                throw t;
            },
            f: e
        };
        throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }
    function Fi(t) {
        return function(t) {
            if (Array.isArray(t)) return Gi(t);
        }(t) || function(t) {
            if ("undefined" != typeof Symbol && null != t[Symbol.iterator] || null != t["@@iterator"]) return Array.from(t);
        }(t) || Yi(t) || function() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
        }();
    }
    function Yi(t, e) {
        var n;
        if (t) return "string" == typeof t ? Gi(t, e) : "Map" === (n = "Object" === (n = Object.prototype.toString.call(t).slice(8, -1)) && t.constructor ? t.constructor.name : n) || "Set" === n ? Array.from(t) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Gi(t, e) : void 0;
    }
    function Gi(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r;
    }
    function qi(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== Ci(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== Ci(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === Ci(t) ? t : String(t);
            }(r.key), r);
        }
    }
    n = function() {
        function t(e, n, r) {
            if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
            this.pi = Object.assign({
                tile: !0,
                isPreview: !1
            }, e), this.ll = new Map(), this.cl = null, this.vl = [], this.yl = [], this.dl = [], 
            this.isExistAccess = !0, this.isExistNavi = !0, this.isExistDrive = !0, this.load_cnt = 0, 
            this.Kh = null, this.bl = void 0 !== e.mapID ? e.mapID : null, this.pl = null, this.br = !!e.map, 
            this.pr = e.map ? e.map.getDataManager() : new Fn(), this.ml = 1, this.wl = {
                radius: .5,
                dash: {
                    size: 4,
                    gap: 2
                }
            }, this.gr = n, this._r = r, this.li = e.type, this.gl = new Map(), this._l = new Map(), 
            this.jr = tr.generateUUID(), this.jl = null, this.Sr();
        }
        var e, n;
        return e = t, (n = [ {
            key: "setObstructions",
            value: function(t) {
                this.cl && this.cl.eu(t);
            }
        }, {
            key: "route",
            value: function(t, e, n) {
                this.cl.toDoors = void 0 !== t.toDoors && t.toDoors, this.cl.obstruct = void 0 === t.obstruct || t.obstruct, 
                this.cl.barrierFree = void 0 !== t.barrierFree && t.barrierFree;
                var r;
                if ((r = t.viapoints && 0 < t.viapoints.length ? (this.cl.La = t.viapoints, this.cl.Ga(t.start, t.dest, t.mode || o.MODULE_SHORTEST, t.priority || s.PRIORITY_DEFAULT)) : this.cl.Wa(t.start, t.dest, t.mode || o.MODULE_SHORTEST, t.priority || s.PRIORITY_DEFAULT)) === a.ROUTE_SUCCESS) {
                    this.vl = this.cl.ol();
                    var i = null, l = null;
                    this.yl = [];
                    for (var h = 0; h < this.vl.length; h++) 0 < h && (i = this.pi.bidToName.get(this.vl[h - 1].bid) ? this.pi.bidToName.get(this.vl[h - 1].bid) : "outdoor"), 
                    h < this.vl.length - 1 && (l = this.pi.bidToName.get(this.vl[h + 1].bid) ? this.pi.bidToName.get(this.vl[h + 1].bid) : "outdoor"), 
                    this.vl[h].$f = i, this.vl[h].th = l, l = i = null, this.vl[h].buildingName = this.pi.bidToName.get(this.vl[h].bid), 
                    this.yl.push([ this.Sl(this.vl[h], {
                        language: u.ZH
                    }), this.Sl(this.vl[h], {
                        language: u.EN
                    }) ]);
                    this.pl = this.cl.Ra, e && e(this.Ar());
                } else n && n(r);
            }
        }, {
            key: "dispose",
            value: function() {
                this.Ol = null, this.vl = [], this.yl = [], this.cl && (this.cl.gi(), this.cl = null);
            }
        }, {
            key: "pathConstraint",
            value: function(t, e) {
                return this.cl ? this.cl.rf(t, e) : null;
            }
        }, {
            key: "getNaviGraph",
            value: function(t) {
                var e = t.buildingID;
                t = t.level;
                return null != e ? null != t ? this.cl.ra.get(e).get(t) : this.cl.ra.get(e) : null != t ? this.cl.ra.get(null).get(t) : Fi(this.cl.ra.values());
            }
        }, {
            key: "query",
            value: function(t, e, n, r) {
                var i = [], o = n ? this.cl.qh.get(n) : this.cl.qh.get(null), s = r ? o.ea : o.ra;
                if (s) {
                    if (null == t) {
                        var a, u = Vi(s.keys());
                        try {
                            for (u.s(); !(a = u.n()).done; ) {
                                var l = a.value;
                                i.push({
                                    level: l,
                                    roadRanks: e,
                                    roadVector: s.get(l).Le.slice(0)
                                });
                            }
                        } catch (t) {
                            u.e(t);
                        } finally {
                            u.f();
                        }
                    } else if (null == e) i.push({
                        level: t,
                        roadRanks: e,
                        roadVector: s.get(t).Le.slice(0)
                    }); else {
                        for (var h = [], f = s.get(t).Le, c = 0; c < e.length; c++) for (var p = 0; p < f.length; p++) f[p].ae === e[c] && h.push(f[p]);
                        i.push({
                            level: t,
                            roadRanks: e,
                            roadVector: h
                        });
                    }
                    for (var y = 0; y < i.length; y++) for (var d = 0; d < i[y].roadVector.length; d++) i[y].roadVector[d] = Object.assign({}, this.El(i[y].roadVector[d])), 
                    n && (i[y].roadVector[d].buildingID = n);
                }
                return i;
            }
        }, {
            key: "intersectionRoadsByCircle",
            value: function(t, e, n) {
                var r;
                if (!n || !n.roadVector || n.roadVector.length <= 0) return null;
                var i, o = null == n.roadVector[0].buildingID ? null : n.roadVector[0].buildingID, s = {
                    center: t,
                    radius: e,
                    points: []
                }, a = t.x - e, u = t.x + e, l = t.y - e, h = t.y + e, f = [], c = new Map(), p = Vi(n.roadVector);
                try {
                    for (p.s(); !(i = p.n()).done; ) {
                        var y, d = i.value, v = pt.xt(t, e, d.startPoint, d.endPoint);
                        if (!(v.length < 1)) {
                            var b = d.roadEntry, g = d.endId;
                            if (pt.distance(d.endPoint, t) > e && ((b = b === or.Entry_FORWARD ? hr : b) === or.Entry_BACK && (b = lr), 
                            g = d.startId), b === lr || b === ur) {
                                var m, O = Vi(v);
                                try {
                                    for (O.s(); !(m = O.n()).done; ) {
                                        var x = m.value;
                                        x.direction = b, x.Tl = g;
                                    }
                                } catch (t) {
                                    O.e(t);
                                } finally {
                                    O.f();
                                }
                                (y = s.points).push.apply(y, Fi(v)), d.startPoint.x >= a && d.startPoint.x <= u && d.startPoint.y >= l && d.startPoint.y <= h && f.push(d.startId), 
                                d.endPoint.x >= a && d.endPoint.x <= u && d.endPoint.y >= l && d.endPoint.y <= h && f.push(d.endId);
                            }
                        }
                    }
                } catch (t) {
                    p.e(t);
                } finally {
                    p.f();
                }
                n = n.level;
                for (var E = (null == (r = this.cl.qh) ? void 0 : r.get(o)).ra.get(n).Ue, _ = 0, T = f; _ < T.length; _++) {
                    var w = T[_];
                    c.set(w, E.get(w));
                }
                var S, R = Vi(s.points);
                try {
                    for (R.s(); !(S = R.n()).done; ) {
                        var j = S.value;
                        j.branch = this.Rl(c, j.Tl, t.nodeID);
                    }
                } catch (t) {
                    R.e(t);
                } finally {
                    R.f();
                }
                return s;
            }
        }, {
            key: "queryNode",
            value: function(t) {
                var e = t.buildingID ? this.cl.qh.get(buildingID) : this.cl.qh.get(null);
                if (null != e) {
                    var n = (e = (t.barrierFree ? e.ea : e.ra).get(t.level)).Xe(t.point);
                    if (!(n <= 0)) for (var r = e.Le, i = new Set(), o = 0; o < r.length; o++) if (n === r[o].oe) {
                        if (!i.has(r[o].ne) && pt._compare(t.point, r[o].Wt)) return t.nodeID = r[o].ne, 
                        t;
                        if (!i.has(r[o].re) && pt._compare(t.point, r[o].Vt)) return t.nodeID = r[o].re, 
                        t;
                        i.add(r[o].ne), i.add(r[o].re);
                    }
                }
                return null;
            }
        }, {
            key: "constraintTrack",
            value: function(t) {
                var e = [];
                if (!(null == t || t.length <= 0)) {
                    for (var n = new Map(), r = 0; r < t.length; r++) {
                        var i = void 0 === t[r].coords.buildingID ? null : t[r].coords.buildingID;
                        n.has(i) ? n.get(i).push(t[r]) : n.set(i, [ t[r] ]);
                    }
                    if (!(n.size <= 0)) {
                        var o, s = Vi(n.keys());
                        try {
                            for (s.s(); !(o = s.n()).done; ) {
                                for (var a = o.value, u = n.get(a), l = new Set(), h = new Set(), f = 0; f < u.length; f++) l.add(u[f].coords.level), 
                                h.add(u[f].road.roadRank);
                                if (l.size <= 0) return e;
                                var c = Array.from(l), p = Array.from(h);
                                this.Nl(c, p, a);
                            }
                        } catch (t) {
                            s.e(t);
                        } finally {
                            s.f();
                        }
                        for (var y = t.length - 1, d = 0; d < y; d++) {
                            var v = this.kl(t[d], t[d + 1]);
                            e.push(t[d].coords), e.push.apply(e, Fi(v)), d + 1 == y && e.push(t[d + 1].coords);
                        }
                    }
                }
                return e;
            }
        } ]) && qi(e.prototype, n), Object.defineProperty(e, "prototype", {
            writable: !1
        }), t;
    }();
    var Bi = (Object.assign(n.prototype, {
        Sr: function() {
            this.br && (t = this.pi.map.getMapOptions(), this.pi.mapID = t.mapID, this.pi.appName = t.appName, 
            this.pi.key = t.key, this.pi.license = t.license, this.pi.mapURL = t.mapURL, this.pi.mapURLAbsolute = t.mapURLAbsolute, 
            this.pi.navigationData = t.navigationData, this.pi.buildingOptions = t.buildingOptions, 
            this.pi.type = this.li);
            var t = {
                buildingID: this.pi.mapID,
                appName: this.pi.appName,
                key: this.pi.key,
                license: this.pi.license,
                mapURL: this.pi.mapURL,
                mapURLAbsolute: this.pi.mapURLAbsolute,
                buildingOptions: this.pi.buildingOptions,
                navigationData: this.pi.navigationData,
                merge: this.pi.merge,
                loadNavi: !0,
                justDecode: !0,
                preLoad: !0,
                isPreview: "undefined" != typeof KjWzhWlSj && !!KjWzhWlSj.ProtoDef,
                tile: this.pi.tile,
                type: this.pi.type,
                bid: this.pi.buildingID || null,
                gate: null,
                isOutdoor: !0,
                uuid: this.jr
            };
            this.bl || (this.bl = this.pi.mapID), this.ll.set(t.bid, t), this.pi.bidToMid = new Map(), 
            this.pi.bidToName = new Map(), this.pi.bidToMid.set(t.bid, this.bl), this.cl = new Ui(), 
            this.Rr(t);
        },
        Rr: function(t) {
            var e = this;
            setTimeout(function() {
                t.tile ? e.pr.load(t, function(n, r) {
                    e.Nr(n, r, t);
                }) : e.pr.loadWhole(t, function(n, r) {
                    e.Nr(n, r, t);
                });
            }, 0);
        },
        Nr: function(t, e, n) {
            if ("error" === t) this.isExistAccess = !1, this.isExistNavi = !1, this.isExistDrive = !1; else if ("scene" === t && e.naviType && "undefined" != e.naviType && 0 != e.naviType) {
                this.isExistAccess = !0, this.isExistNavi = !0, this.isExistDrive = !0;
                var r = e.naviType;
                1 === r ? (this.isExistAccess = !1, this.isExistNavi = !1, this.isExistDrive = !1) : (8 <= r && (r -= 8), 
                this.isExistAccess = !1, 4 <= r ? r -= 4 : this.li === sr && (this.isExistDrive = !1), 
                r <= 0 && !this.isExistAccess && this.li === ar && (this.isExistNavi = !1)), this.load_cnt++, 
                this.isExistAccess || this.isExistNavi || this.li !== ar ? this.isExistDrive || this.li !== sr || this.dl.push({
                    buildingID: n.buildingID,
                    error: "NONE_DRIVE_RODE_NETWORK",
                    data: h.NONE_DRIVE_RODE_NETWORK
                }) : this.dl.push({
                    buildingID: n.buildingID,
                    error: "NONE_WALK_RODE_NETWORK",
                    data: h.NONE_WALK_RODE_NETWORK
                });
            } else if ("decode" === t) {
                (r = new Oi(n)).Sr(e), this.cl.qh.set(n.bid, r), this.cl.ra.set(n.bid, r.ra), e.gate && (this.jl = e.gate.floors);
                for (var i = 0; i < (null == (o = e.scene.buildings) ? void 0 : o.length); i++) {
                    var o = e.scene.buildings[i], s = ((s = {
                        mapID: this.pi.mapID,
                        buildingID: null,
                        appName: this.pi.appName,
                        key: this.pi.key,
                        license: this.pi.license,
                        mapURL: this.pi.mapURL,
                        mapURLAbsolute: this.pi.mapURLAbsolute,
                        merge: this.pi.merge,
                        loadNavi: !0,
                        justDecode: !0,
                        preLoad: !0,
                        isPreview: "undefined" != typeof KjWzhWlSj,
                        tile: this.pi.tile,
                        type: this.pi.type,
                        bid: null,
                        isOutdoor: !1,
                        uuid: this.jr
                    }).buildingID = o.mid, s.bid = o.bid, Object.assign({}, s));
                    this.ll.set(o.bid, s), this.pi.bidToMid.set(o.bid, o.mid), this.pi.bidToName.set(o.bid, o.name), 
                    this.Rr(s);
                }
                this.cl.qh.size === this.pi.bidToMid.size && (null != this.jl && this.cl.Sr(Object.assign(this.pi, {
                    gate: this.jl
                })), 0 !== this.load_cnt && this.dl.length >= this.load_cnt ? this._r && this._r({
                    result: this.dl
                }) : (this.dl = {
                    state: t,
                    error: "0",
                    data: null
                }, this.gr && this.gr()));
            }
        },
        Ar: function() {
            for (var t = {
                buildings: [],
                distance: 0,
                subs: [],
                viapoints: []
            }, e = 0; e < this.vl.length; e++) {
                var n, r = {
                    buildingID: null,
                    buildingName: null,
                    levels: [],
                    distance: 0
                }, i = this.vl[e].bid, o = this.vl[e].buildingName, s = this.Ml(this.vl[e], this.yl[e], i), a = (r.levels = s.levels, 
                r.distance = s.distance, t.distance += r.distance, e !== this.vl.length - 1 && s.subs[s.subs.length - 1] && (s.subs[s.subs.length - 1].transfer = l.TRANSFER_ENTRANCE), 
                r.buildingID = i == this.bl ? null : i, r.buildingName = o || null, Vi(s.subs));
                try {
                    for (a.s(); !(n = a.n()).done; ) {
                        var u = n.value;
                        u.buildingID = r.buildingID, u.buildingName = r.buildingName;
                    }
                } catch (t) {
                    a.e(t);
                } finally {
                    a.f();
                }
                t.buildings.push(r), (i = t.subs).push.apply(i, Fi(s.subs)), (o = t.viapoints).push.apply(o, Fi(s.viapoints));
            }
            return t;
        },
        Ml: function(t, e, n) {
            if (0 == t.length || 0 == e.length) return null;
            for (var r = {
                viapoints: [],
                subs: [],
                levels: [],
                distance: 0
            }, i = e[0].descriptions, o = e[0].descriptionsData, s = e[1].descriptions, a = e[1].descriptionsData, u = e[0].ladderList, l = 0, h = [], f = !1, c = [], p = 0; p < o.length; p++) {
                var y = {
                    instruction: {
                        zh: null,
                        en: null
                    },
                    waypoint: {
                        points: null,
                        direction: {
                            zh: null,
                            en: null
                        }
                    },
                    viapoint: null,
                    levels: null,
                    distance: Number.NaN,
                    buildingID: null
                }, d = i[p], v = o[p], b = s[p], g = a[p];
                d = (y.instruction.zh = d, y.instruction.en = b, y.levels = [ v.startLevel, v.endLevel ], 
                y.distance = void 0 !== v.distance ? v.distance : 0, y.waypoint.direction.zh = [ v.startDirection, v.endDirection || v.startDirection ], 
                y.waypoint.direction.en = [ g.startDirection, g.endDirection || g.startDirection ], 
                y.levels[0] != y.levels[1] ? (f = !0, h.push.apply(h, Fi(y.levels)), y.transfer = u[l], 
                l += 1) : 0 != h.length && h.slice(-1)[0] == y.levels[0] && !f || (h.push(y.levels[0]), 
                f = !1), this.Il([ v.startIndex, v.endIndex ], h, t.result));
                y.waypoint.points = d.points, d.via && -1 == c.indexOf(d.via) && (y.viapoint = Object.assign({}, d.via.ai), 
                r.viapoints.push(Object.assign({}, d.via.ai)), c.push(d.via)), r.distance += y.distance, 
                y.buildingID = n, r.subs.push(y);
            }
            for (var m = 0; m < h.length; m++) 0 != r.levels.length && r.levels.slice(-1)[0] == h[m] || r.levels.push(h[m]);
            return r.door = this.pl, r;
        },
        Il: function(t, e, n) {
            for (var r = [], i = [], o = null, s = [], a = 0; a < n.length; a++) {
                var u = n[a];
                if (s.push(u.Lr), e.toString() == s.toString()) {
                    var l = e[e.length - 1], h = u.Fr, f = u.Gr;
                    if (void 0 === t[0] || void 0 === t[1]) r.push(Object.assign({
                        level: u.Lr
                    }, u.Fr[0])), i.push(u.Gr[0]), u = n[a - 1], r.unshift(Object.assign({
                        level: u.Lr
                    }, u.Fr[0])), i.unshift(u.Gr[0]); else for (var c = t[0]; c <= t[1]; c++) r.push({
                        x: h[c].x,
                        y: h[c].y,
                        level: l
                    }), i.push(f[c]);
                    break;
                }
            }
            return i.forEach(function(t) {
                t.Ws && (o = t);
            }), {
                points: r,
                via: o
            };
        },
        Sl: function(t, e) {
            var n = t.bid, r = t.result;
            return this.Al(r) ? (r = new Ti(Object.assign({
                data: this.pr.getDecode(this.ll.get(n)),
                directionAssert: 10,
                combineAsset: 10,
                language: u.ZH
            }, e)).Jf(t), n = this.Pl(r[5]), {
                descriptions: r[0],
                descriptionsData: r[1],
                distance: r[2],
                distances: r[3],
                ladderList: n
            }) : {};
        },
        Pl: function(t) {
            for (var e = 0; e < t.length; e++) switch (t[e]) {
              case 1:
                t[e] = l.TRANSFER_LIFT;
                break;

              case 2:
                t[e] = l.TRANSFER_STAIR;
                break;

              case 3:
                t[e] = l.TRANSFER_ESCALATOR;
                break;

              case 4:
                t[e] = l.TRANSFER_ACCESSIBLE;
                break;

              case 5:
                t[e] = l.TRANSFER_RAMP;
                break;

              default:
                return;
            }
            return t;
        },
        xl: function(t) {
            this.cl.ka = t, this.cl.Js(), this.vl = this._navi.$a();
        },
        Ll: function() {
            return this.vl;
        },
        Dl: function(t) {
            var e = t || this.vl;
            if (!this.Al(e)) return [];
            var n, r = [];
            for (n in e) e[n].getPointList && r.push.apply(r, Fi(e[n].pointList));
            return r;
        },
        Fl: function(t) {
            var e = t || this.vl;
            if (!this.Al(e)) return [];
            for (var n = [], r = 0; r < e.length; r++) {
                for (var i = e[r], o = i.level, s = i.pointList, a = {
                    level: o,
                    points: []
                }, u = 0; u < s.length; u++) a.points.push(Object.assign({}, s[u]));
                n.push(a);
            }
            return n;
        },
        Gl: function(t) {
            if (t = t || this.vl, !this.Al(t)) return 0;
            var e = this.Dl(t);
            if (0 == e.length) return 0;
            for (var n = 0, r = 0; r < e.length - 1; r++) n += pt.lt(e[r], e[r + 1]);
            return n;
        },
        Cl: function(t) {
            var e = t || this.vl;
            if (!this.Al(e)) return [];
            var n, r = [];
            for (n in e) !e[n].level || 0 != n && r[r.length - 1] == e[n].level || r.push(e[n].level);
            return r;
        },
        Bl: function(t, e) {
            var n = e || this.vl;
            if (!this.Al(n)) return [];
            var r, i = [];
            for (r in n) n[r].level && n[r].level == t && (i = i.concat(n[r].pointList));
            return i;
        },
        Al: function(t) {
            if (!Array.isArray(t)) return !1;
            if (0 == t.length) return !1;
            for (var e = 0; e < t.length; e++) if (!(t[e] instanceof pr)) return !1;
            return !0;
        },
        Ul: function(t, e) {
            if (0 === t.length) return null;
            null == e && (e = {});
            for (var n = Object.assign({}, this.wl), r = (e && e.style && Object.assign(n, e.style), 
            1 === this.li && (n.color = "#002FA7"), e && e.height ? e.height : this.ml), i = [], o = 0; o < t.length; o++) !function() {
                var e = (n = t[o]).pointList;
                if (0 !== e.length) {
                    var n = n.level, s = [], a = (e.forEach(function(t) {
                        var e = parseFloat("" + t.x);
                        t = parseFloat("" + t.y);
                        s.push({
                            x: e,
                            y: t,
                            z: r
                        });
                    }), e.length < 2 && (a = parseFloat("" + e[0].x), e = parseFloat("" + e[0].y), s.push({
                        x: a,
                        y: e,
                        z: r
                    })), new fengmap.FMSegment());
                    a.level = n, a.points = s, i.push(a);
                }
            }();
            return (n = new fengmap.FMLineMarker(Object.assign({
                segments: i
            }, n))).passed = e && e.passed ? e.passed : this._linePassed, n;
        },
        El: function(t) {
            return {
                id: t.jn,
                startPoint: {
                    x: t.Wt.x,
                    y: t.Wt.y
                },
                endPoint: {
                    x: t.Vt.x,
                    y: t.Vt.y
                },
                startId: t.ne,
                endId: t.re,
                roadRank: t.ae,
                roadEntry: t.fe
            };
        },
        Rl: function(t, e, n) {
            if (0 != t.length && null != t.get(e) && null != t.get(n)) {
                var r, i = new Map(), o = Vi(t.keys());
                try {
                    for (o.s(); !(r = o.n()).done; ) {
                        var s = r.value;
                        i.set(s, !1);
                    }
                } catch (t) {
                    o.e(t);
                } finally {
                    o.f();
                }
                for (var a = [ e ]; 0 < a.length; ) {
                    var u = a[0];
                    if (i.get(u)) a.splice(0, 1); else {
                        if (i.set(u, !0), a.splice(0, 1), u == n) return !1;
                        var l = t.get(u);
                        if (!l || 2 < l.length) return !0;
                        for (var h = 0; h < l.length; h++) a.push(l[h].vo);
                    }
                }
                return !0;
            }
        },
        kl: function(t, e) {
            var n = [];
            if (t.coords.buildingID == e.coords.buildingID && t.coords.level == e.coords.level) {
                var r = null == t.buildingID ? null : t.buildingID, i = t.coords.level, o = this.gl.get(r).get(i), s = t.road.id, a = e.road.id, u = o.get(s), l = (o = o.get(a), 
                t.coords.buildingID), h = null == this._l.get(l) ? [] : this._l.get(l);
                r = l ? this.cl.qh.get(r) : this.cl.qh.get(null);
                if (u != o) {
                    for (var f = null, c = 0; c < h.length; c++) if (h[c].level == i && null != h[c].ptsBwteenRoad) {
                        f = h[c].ptsBwteenRoad;
                        break;
                    }
                    if (null != f && null != f.get(s) && null != f.get(s).get(a)) n = f.get(s).get(a); else {
                        var p, y = r.Ea.Ju, d = Vi(y.keys());
                        try {
                            for (d.s(); !(p = d.n()).done; ) {
                                var v = p.value, b = y.get(v);
                                if (b.level === i && null != (n = this.Zl(t, e, b)) && 0 < n.length) break;
                            }
                        } catch (t) {
                            d.e(t);
                        } finally {
                            d.f();
                        }
                        null == f ? ((f = new Map()).set(s, new Map()), f.get(s).set(a, n), h.push({
                            level: i,
                            ptsBwteenRoad: f
                        }), this._l.set(l, h)) : (null == f.get(s) && f.set(s, new Map()), f.get(s).set(a, n));
                    }
                }
            }
            return n;
        },
        Nl: function(t, e, n, r) {
            var i, o = new Map();
            if (null == (i = (n = null == n ? null : n) ? this.cl.qh.get(n) : this.cl.qh.get(null))) return null;
            for (var s = r ? i.ea : i.ra, a = 0; a < t.length; a++) {
                var u = t[a], l = s.get(u).Le, h = [], f = void 0;
                if (null != e && 0 < e.length) {
                    for (var c = 0; c < e.length; c++) for (var p = 0; p < l.length; p++) l[p].ae === e[c] && h.push(l[p]);
                    f = this.Wl(h);
                } else f = this.Wl(l);
                o.set(u, f);
            }
            this.gl.set(n, o);
        },
        Wl: function(t) {
            for (var e = new Map(), n = new Map(), r = 0, i = 0; i < t.length; i++) n.set(t[i].jn, [ 0, 0 ]), 
            e.set(t[i].jn, -1);
            for (var o = 0; o < t.length; o++) {
                var s = t[o];
                if (1 != n.get(s.jn)[0] || 1 != n.get(s.jn)[1]) {
                    for (var a = s.ne, u = s.re, l = new vr(s.Vt.x - s.Wt.x, s.Vt.y - s.Wt.y), h = o + 1; h < t.length; h++) {
                        var f = t[h];
                        if (s.ae == f.ae) {
                            var c = f.ne, p = f.re, y = e.get(s.jn), d = e.get(f.jn), v = void 0, b = (v = -1 == y && -1 == d ? -1 : -1 != y && (-1 == d || y <= d) ? y : d, 
                            new vr(f.Vt.x - f.Wt.x, f.Vt.y - f.Wt.y));
                            if (0 == n.get(s.jn)[0]) {
                                if (a == c) {
                                    if (l.multiplyScalar(-1).angleTo(b) * pt.H() <= 5) {
                                        if (v = -1 == v ? ++r : v, e.set(s.jn, v), e.set(f.jn, v), n.get(s.jn)[0] = 1, -(n.get(f.jn)[0] = 1) != d && d != v) {
                                            var g, m = Vi(e.keys());
                                            try {
                                                for (m.s(); !(g = m.n()).done; ) {
                                                    var O = g.value;
                                                    e.get(O) == d && e.set(O, v);
                                                }
                                            } catch (t) {
                                                m.e(t);
                                            } finally {
                                                m.f();
                                            }
                                        }
                                        if (-1 != y && y != v) {
                                            var x, E = Vi(e.keys());
                                            try {
                                                for (E.s(); !(x = E.n()).done; ) {
                                                    var _ = x.value;
                                                    e.get(_) == y && e.set(_, v);
                                                }
                                            } catch (t) {
                                                E.e(t);
                                            } finally {
                                                E.f();
                                            }
                                        }
                                    }
                                    continue;
                                }
                                if (a == p) {
                                    if (l.multiplyScalar(-1).angleTo(b.multiplyScalar(-1)) * pt.H() <= 5) {
                                        if (v = -1 == v ? ++r : v, e.set(s.jn, v), e.set(f.jn, v), n.get(s.jn)[0] = 1, -(n.get(f.jn)[1] = 1) != d && d != v) {
                                            var T, w = Vi(e.keys());
                                            try {
                                                for (w.s(); !(T = w.n()).done; ) {
                                                    var S = T.value;
                                                    e.get(S) == d && e.set(S, v);
                                                }
                                            } catch (t) {
                                                w.e(t);
                                            } finally {
                                                w.f();
                                            }
                                        }
                                        if (-1 != y && y != v) {
                                            var R, j = Vi(e.keys());
                                            try {
                                                for (j.s(); !(R = j.n()).done; ) {
                                                    var A = R.value;
                                                    e.get(A) == y && e.set(A, v);
                                                }
                                            } catch (t) {
                                                j.e(t);
                                            } finally {
                                                j.f();
                                            }
                                        }
                                    }
                                    continue;
                                }
                            }
                            if (0 == n.get(s.jn)[1]) if (u == c) {
                                if (l.angleTo(b) * pt.H() <= 5) {
                                    if (v = -1 == v ? ++r : v, e.set(s.jn, v), e.set(f.jn, v), n.get(s.jn)[1] = 1, -(n.get(f.jn)[0] = 1) != d && d != v) {
                                        var L, N = Vi(e.keys());
                                        try {
                                            for (N.s(); !(L = N.n()).done; ) {
                                                var I = L.value;
                                                e.get(I) == d && e.set(I, v);
                                            }
                                        } catch (t) {
                                            N.e(t);
                                        } finally {
                                            N.f();
                                        }
                                    }
                                    if (-1 != y && y != v) {
                                        var P, D = Vi(e.keys());
                                        try {
                                            for (D.s(); !(P = D.n()).done; ) {
                                                var k = P.value;
                                                e.get(k) == y && e.set(k, v);
                                            }
                                        } catch (t) {
                                            D.e(t);
                                        } finally {
                                            D.f();
                                        }
                                    }
                                }
                            } else if (u == p && l.angleTo(b.multiplyScalar(-1)) * pt.H() <= 5) {
                                if (v = -1 == v ? ++r : v, e.set(s.jn, v), e.set(f.jn, v), n.get(s.jn)[1] = 1, -(n.get(f.jn)[1] = 1) != d && d != v) {
                                    var M, W = Vi(e.keys());
                                    try {
                                        for (W.s(); !(M = W.n()).done; ) {
                                            var U = M.value;
                                            e.get(U) == d && e.set(U, v);
                                        }
                                    } catch (t) {
                                        W.e(t);
                                    } finally {
                                        W.f();
                                    }
                                }
                                if (-1 != y && y != v) {
                                    var C, V = Vi(e.keys());
                                    try {
                                        for (V.s(); !(C = V.n()).done; ) {
                                            var F = C.value;
                                            e.get(F) == y && e.set(F, v);
                                        }
                                    } catch (t) {
                                        V.e(t);
                                    } finally {
                                        V.f();
                                    }
                                }
                            }
                        }
                    }
                    -1 == e.get(s.jn) && e.set(s.jn, ++r);
                }
            }
            return e;
        },
        Zl: function(t, e, n) {
            var r = [], i = t.coords, o = (t = t.road, e.coords), s = (e = e.road, n.zs(i)), a = n.zs(o);
            if (null != t && null != e && i.level == o.level && t.extentID == e.extentID && s == a) {
                a = null;
                var u = i.level, l = pt.ct(o, t.startPoint) <= pt.ct(o, t.endPoint) ? (a = t.startPoint, 
                t.startID) : (a = t.endPoint, t.endID);
                i = null, i = pt.ct(a, e.startPoint) <= pt.ct(a, e.endPoint) ? (e.startPoint, e.startID) : (e.endPoint, 
                e.endID), t = (o = n.Po).yo(l), a = [ o.yo(i) ];
                if (null != (e = n.Nu(s)) && e.Yo(o, t, a)) {
                    e.Fo = i;
                    for (var h = e.Xo(), f = h.length - 1; 0 <= f; f--) r.push(Object.assign({
                        level: u
                    }, h[f].ai));
                }
            }
            return r;
        }
    }), n);
    function zi(t) {
        return (zi = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function Xi(t, e) {
        return (Xi = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t, e) {
            return t.__proto__ = e, t;
        })(t, e);
    }
    function Zi(t) {
        return (Zi = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t);
        })(t);
    }
    function Hi(t) {
        return (Hi = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function Ji(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
        return r;
    }
    function Ki(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== Hi(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== Hi(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === Hi(t) ? t : String(t);
            }(r.key), r);
        }
    }
    n = function() {
        var t = r, e = Bi;
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
        t.prototype = Object.create(e && e.prototype, {
            constructor: {
                value: t,
                writable: !0,
                configurable: !0
            }
        }), Object.defineProperty(t, "prototype", {
            writable: !1
        }), e && Xi(t, e);
        var n = function(t) {
            var e = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                if (Reflect.construct.sham) return !1;
                if ("function" == typeof Proxy) return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), 
                    !0;
                } catch (t) {
                    return !1;
                }
            }();
            return function() {
                var n, r = Zi(t);
                n = e ? (n = Zi(this).constructor, Reflect.construct(r, arguments, n)) : r.apply(this, arguments), 
                r = this;
                if (n && ("object" === zi(n) || "function" == typeof n)) return n;
                if (void 0 !== n) throw new TypeError("Derived constructors may only return object or undefined");
                if (void 0 !== r) return r;
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            };
        }(r);
        function r(t, e, i) {
            if (this instanceof r) return n.call(this, t, e, i);
            throw new TypeError("Cannot call a class as a function");
        }
        return t = r, Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }();
    var Qi = function(t, e, n) {
        return e && Ki(t.prototype, e), n && Ki(t, n), Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }(function t(e) {
        if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
        this.Qh = void 0 !== e.buildingID ? e.buildingID : null, this.Lr = void 0 !== e.level ? e.level : null, 
        this.be = void 0 !== e.points ? e.points : null, this.gu = -1, this.Jt = null, this.Sr();
    });
    function $i(t) {
        return ($i = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function to(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== $i(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== $i(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === $i(t) ? t : String(t);
            }(r.key), r);
        }
    }
    function eo(t, e) {
        return (eo = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t, e) {
            return t.__proto__ = e, t;
        })(t, e);
    }
    function no(t) {
        return (no = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t);
        })(t);
    }
    Object.assign(Qi.prototype, {
        Sr: function() {
            this.be && (this.Jt = new vt(), this.Jt.Qt(this.be), this.gu = this.be.length, this.be[0].x == this.be[this.gu - 1].x && this.be[0].y == this.be[this.gu - 1].y ? this.gu-- : this.be.push(this.be[0]));
        },
        Qu: function(t, e) {
            return pt.rt(t, e, this.Jt.zt, this.Jt.Xt);
        },
        mo: function(t) {
            return !!pt.ot(t, this.Jt.min, this.Jt.max) && pt.ft(t, this.be, this.gu);
        },
        Vl: function(t) {
            var e = 0;
            return this.mo(t[0]) && (e |= 1), this.mo(t[1]) && (e |= 2), e;
        },
        po: function(t, e) {
            if (!pt.rt(t[0], t[1], this.Jt.min, this.Jt.max)) return !1;
            for (var n, r, i = !1, o = 0; o < this.gu; o++) {
                var s = {};
                1 == pt.gt(t[0], t[1], this.be[o], this.be[o + 1], s) && (i = !0, e.push(s));
            }
            return t[0].x != t[1].x ? (n = t[0].x < t[1].x, e.sort(function(t, e) {
                return n ? t.x - e.x : e.x - t.x;
            })) : (r = t[0].y < t[1].y, e.sort(function(t, e) {
                return r ? t.y - e.y : e.y - t.y;
            })), i;
        },
        ql: function(t, e) {
            for (var n = [], r = (n.push(t[0]), n.push.apply(n, function(t) {
                return function(t) {
                    if (Array.isArray(t)) return Ji(t);
                }(t) || function(t) {
                    if ("undefined" != typeof Symbol && null != t[Symbol.iterator] || null != t["@@iterator"]) return Array.from(t);
                }(t) || function(t, e) {
                    var n;
                    if (t) return "string" == typeof t ? Ji(t, e) : "Map" === (n = "Object" === (n = Object.prototype.toString.call(t).slice(8, -1)) && t.constructor ? t.constructor.name : n) || "Set" === n ? Array.from(t) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Ji(t, e) : void 0;
                }(t) || function() {
                    throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
                }();
            }(e)), n.push(t[1]), []), i = 0; i < n.length - 1; i++) r.push([ n[i], n[i + 1] ]);
            return r;
        },
        Tf: function(t) {
            if (this.Qh != t.bid || this.Lr != t.Lr) return !1;
            if (this.be.length != t.be.length) return !1;
            for (var e = 0; e < this.be.length; e++) {
                if (this.be[e].x != t.be[e].x) return !1;
                if (this.be[e].y != t.be[e].y) return !1;
            }
            return !0;
        }
    });
    var ro = function() {
        var t = r, e = Bi;
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
        t.prototype = Object.create(e && e.prototype, {
            constructor: {
                value: t,
                writable: !0,
                configurable: !0
            }
        }), Object.defineProperty(t, "prototype", {
            writable: !1
        }), e && eo(t, e);
        var n = function(t) {
            var e = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                if (Reflect.construct.sham) return !1;
                if ("function" == typeof Proxy) return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), 
                    !0;
                } catch (t) {
                    return !1;
                }
            }();
            return function() {
                var n, r = no(t);
                n = e ? (n = no(this).constructor, Reflect.construct(r, arguments, n)) : r.apply(this, arguments), 
                r = this;
                if (n && ("object" === $i(n) || "function" == typeof n)) return n;
                if (void 0 !== n) throw new TypeError("Derived constructors may only return object or undefined");
                if (void 0 !== r) return r;
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            };
        }(r);
        function r(t, e, i) {
            if (this instanceof r) return t.type = sr, n.call(this, t, e, i);
            throw new TypeError("Cannot call a class as a function");
        }
        return t = r, (e = [ {
            key: "route",
            value: function(t, e, n) {
                this.cl.obstruct = void 0 === t.obstruct || t.obstruct;
                var r;
                if ((r = t.viapoints && 0 < t.viapoints.length ? (this.cl.La = t.viapoints, this.cl.Ga(t.start, t.dest)) : this.cl.Wa(t.start, t.dest, t.mode || o.MODULE_SHORTEST, t.priority || s.PRIORITY_DEFAULT)) === a.ROUTE_SUCCESS) {
                    this.vl = this.cl.ol();
                    var i = null, l = null;
                    this.yl = [];
                    for (var h = 0; h < this.vl.length; h++) 0 < h && (i = this.pi.bidToName.get(this.vl[h - 1].bid) ? this.pi.bidToName.get(this.vl[h - 1].bid) : "outdoor"), 
                    h < this.vl.length - 1 && (l = this.pi.bidToName.get(this.vl[h + 1].bid) ? this.pi.bidToName.get(this.vl[h + 1].bid) : "outdoor"), 
                    this.vl[h].$f = i, this.vl[h].th = l, l = i = null, this.vl[h].buildingName = this.pi.bidToName.get(this.vl[h].bid), 
                    this.yl.push([ this.Sl(this.vl[h], {
                        language: u.ZH,
                        type: sr
                    }), this.Sl(this.vl[h], {
                        language: u.EN,
                        type: sr
                    }) ]);
                    this.pl = this.cl.Ra, e && e(this.Ar());
                } else n && n(r);
            }
        } ]) && to(t.prototype, e), Object.defineProperty(t, "prototype", {
            writable: !1
        }), r;
    }();
    function io(t) {
        return (io = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function oo(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== io(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== io(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === io(t) ? t : String(t);
            }(r.key), r);
        }
    }
    function so(t, e) {
        return (so = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t, e) {
            return t.__proto__ = e, t;
        })(t, e);
    }
    function ao(t) {
        return (ao = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t);
        })(t);
    }
    var uo = function() {
        var t = r, e = Bi;
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
        t.prototype = Object.create(e && e.prototype, {
            constructor: {
                value: t,
                writable: !0,
                configurable: !0
            }
        }), Object.defineProperty(t, "prototype", {
            writable: !1
        }), e && so(t, e);
        var n = function(t) {
            var e = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                if (Reflect.construct.sham) return !1;
                if ("function" == typeof Proxy) return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), 
                    !0;
                } catch (t) {
                    return !1;
                }
            }();
            return function() {
                var n, r = ao(t);
                n = e ? (n = ao(this).constructor, Reflect.construct(r, arguments, n)) : r.apply(this, arguments), 
                r = this;
                if (n && ("object" === io(n) || "function" == typeof n)) return n;
                if (void 0 !== n) throw new TypeError("Derived constructors may only return object or undefined");
                if (void 0 !== r) return r;
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            };
        }(r);
        function r(t, e, i) {
            if (this instanceof r) return t.type = ar, n.call(this, t, e, i);
            throw new TypeError("Cannot call a class as a function");
        }
        return t = r, (e = [ {
            key: "route",
            value: function(t, e, n) {
                this.cl.toDoors = void 0 !== t.toDoors && t.toDoors, this.cl.obstruct = void 0 === t.obstruct || t.obstruct, 
                this.cl.barrierFree = void 0 !== t.barrierFree && t.barrierFree;
                var r;
                if ((r = t.viapoints && 0 < t.viapoints.length ? (this.cl.La = t.viapoints, this.cl.Ga(t.start, t.dest, t.mode || o.MODULE_SHORTEST, t.priority || s.PRIORITY_DEFAULT)) : this.cl.Wa(t.start, t.dest, t.mode || o.MODULE_SHORTEST, t.priority || s.PRIORITY_DEFAULT)) === a.ROUTE_SUCCESS) {
                    this.vl = this.cl.ol();
                    var i = null, l = null;
                    this.yl = [];
                    for (var h = 0; h < this.vl.length; h++) 0 < h && (i = this.pi.bidToName.get(this.vl[h - 1].bid) ? this.pi.bidToName.get(this.vl[h - 1].bid) : "outdoor"), 
                    h < this.vl.length - 1 && (l = this.pi.bidToName.get(this.vl[h + 1].bid) ? this.pi.bidToName.get(this.vl[h + 1].bid) : "outdoor"), 
                    this.vl[h].$f = i, this.vl[h].th = l, l = i = null, this.vl[h].buildingName = this.pi.bidToName.get(this.vl[h].bid), 
                    this.yl.push([ this.Sl(this.vl[h], {
                        language: u.ZH
                    }), this.Sl(this.vl[h], {
                        language: u.EN
                    }) ]);
                    this.pl = this.cl.Ra, e && e(this.Ar());
                } else n && n(r);
            }
        } ]) && oo(t.prototype, e), Object.defineProperty(t, "prototype", {
            writable: !1
        }), r;
    }();
    function lo(t) {
        return (lo = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function ho(t, e) {
        var n, r = Object.keys(t);
        return Object.getOwnPropertySymbols && (n = Object.getOwnPropertySymbols(t), e && (n = n.filter(function(e) {
            return Object.getOwnPropertyDescriptor(t, e).enumerable;
        })), r.push.apply(r, n)), r;
    }
    function fo(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? ho(Object(n), !0).forEach(function(e) {
                var r, i;
                r = t, i = n[e = e], (e = yo(e)) in r ? Object.defineProperty(r, e, {
                    value: i,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : r[e] = i;
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : ho(Object(n)).forEach(function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e));
            });
        }
        return t;
    }
    function co(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, yo(r.key), r);
        }
    }
    function po(t, e, n) {
        return e && co(t.prototype, e), n && co(t, n), Object.defineProperty(t, "prototype", {
            writable: !1
        }), t;
    }
    function yo(t) {
        return t = function(t, e) {
            if ("object" !== lo(t) || null === t) return t;
            var n = t[Symbol.toPrimitive];
            if (void 0 === n) return String(t);
            if ("object" !== lo(n = n.call(t, e))) return n;
            throw new TypeError("@@toPrimitive must return a primitive value.");
        }(t, "string"), "symbol" === lo(t) ? t : String(t);
    }
    function vo(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
    }
    var bo = new WeakMap(), go = po(function t(e) {
        vo(this, t), this.identifier = e.identifier, this.force = void 0 === e.force ? 1 : e.force, 
        this.pageX = e.pageX || e.x, this.pageY = e.pageY || e.y, this.clientX = e.clientX || e.x, 
        this.clientY = e.clientY || e.y, this.screenX = this.pageX, this.screenY = this.pageY;
    }), mo = function() {
        function t() {
            vo(this, t), bo.set(this, {});
        }
        return po(t, [ {
            key: "addEventListener",
            value: function(t, e) {
                var n = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : {}, r = bo.get(this);
                r || bo.set(this, r = {}), r[t] || (r[t] = []), r[t].push(e), n.capture, n.once, 
                n.passive;
            }
        }, {
            key: "removeEventListener",
            value: function(t, e) {
                var n = bo.get(this);
                if (n) {
                    var r = n[t];
                    if (r && 0 < r.length) for (var i = r.length; i--; ) if (r[i] === e) {
                        r.splice(i, 1);
                        break;
                    }
                }
            }
        }, {
            key: "dispatchEvent",
            value: function() {
                var t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {}, e = ("function" != typeof t.preventDefault && (t.preventDefault = function() {}), 
                "function" != typeof t.stopPropagation && (t.stopPropagation = function() {}), bo.get(this)[t.type]);
                if (e) for (var n = 0; n < e.length; n++) e[n](t);
            }
        }, {
            key: "dispatchTouchEvent",
            value: function() {
                var t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {}, e = fo({}, this);
                e = {
                    changedTouches: t.changedTouches.map(function(t) {
                        return new go(t);
                    }),
                    touches: t.touches.map(function(t) {
                        return new go(t);
                    }),
                    targetTouches: Array.prototype.slice.call(t.touches.map(function(t) {
                        return new go(t);
                    })),
                    timeStamp: t.timeStamp,
                    target: e,
                    currentTarget: e,
                    type: t.type,
                    cancelBubble: !1,
                    cancelable: !1
                };
                this.dispatchEvent(e);
            }
        } ]), t;
    }();
    function Oo(t) {
        return (Oo = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
            return _typeof2(t);
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof2(t);
        })(t);
    }
    function xo(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(t, function(t) {
                return t = function(t, e) {
                    if ("object" !== Oo(t) || null === t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 === n) return String(t);
                    if ("object" !== Oo(n = n.call(t, e))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }(t, "string"), "symbol" === Oo(t) ? t : String(t);
            }(r.key), r);
        }
    }
    function Eo(t, e) {
        return (Eo = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t, e) {
            return t.__proto__ = e, t;
        })(t, e);
    }
    function _o(t) {
        if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return t;
    }
    function To(t) {
        return (To = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t);
        })(t);
    }
    var wo = new WeakMap(), So = new WeakMap();
    function Ro(t) {
        var e = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {};
        e.target = e.target || this, "function" == typeof this["on".concat(t)] && this["on".concat(t)].call(this, e);
    }
    function jo(t) {
        var e = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {};
        this.readyState = t, e.readyState = t, Ro.call(this, "readystatechange", e);
    }
    var Ao = ((Ao = function() {
        var t = r, e = mo;
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
        t.prototype = Object.create(e && e.prototype, {
            constructor: {
                value: t,
                writable: !0,
                configurable: !0
            }
        }), Object.defineProperty(t, "prototype", {
            writable: !1
        }), e && Eo(t, e);
        var n = function(t) {
            var e = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                if (Reflect.construct.sham) return !1;
                if ("function" == typeof Proxy) return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), 
                    !0;
                } catch (t) {
                    return !1;
                }
            }();
            return function() {
                var n, r = To(t);
                n = e ? (n = To(this).constructor, Reflect.construct(r, arguments, n)) : r.apply(this, arguments), 
                r = this;
                if (n && ("object" === Oo(n) || "function" == typeof n)) return n;
                if (void 0 !== n) throw new TypeError("Derived constructors may only return object or undefined");
                return _o(r);
            };
        }(r);
        function r() {
            var t;
            if (this instanceof r) return (t = n.call(this)).onabort = null, t.onerror = null, 
            t.onload = null, t.onloadstart = null, t.onprogress = null, t.ontimeout = null, 
            t.onloadend = null, t.onreadystatechange = null, t.readyState = 0, t.response = null, 
            t.responseText = null, t.responseType = "text", t.dataType = "string", t.responseXML = null, 
            t.status = 0, t.statusText = "", t.upload = {}, t.withCredentials = !1, wo.set(_o(t), {
                "content-type": "application/x-www-form-urlencoded"
            }), So.set(_o(t), {}), t;
            throw new TypeError("Cannot call a class as a function");
        }
        return t = r, (e = [ {
            key: "abort",
            value: function() {
                var t;
                this.isAbort = !0, null != (t = this.request) && t.abort();
            }
        }, {
            key: "getAllResponseHeaders",
            value: function() {
                var t = So.get(this);
                return Object.keys(t).map(function(e) {
                    return "".concat(e, ": ").concat(t[e]);
                }).join("\n");
            }
        }, {
            key: "getResponseHeader",
            value: function(t) {
                return So.get(this)[t];
            }
        }, {
            key: "open",
            value: function(t, e) {
                this.Yl = t, this.zl = e, jo.call(this, r.OPENED);
            }
        }, {
            key: "overrideMimeType",
            value: function() {}
        }, {
            key: "send",
            value: function() {
                var t = this, e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : "";
                if (this.readyState !== r.OPENED) throw new Error("Failed to execute 'send' on 'XMLHttpRequest': The object's state must be OPENED.");
                function n(e) {
                    var n = e.data, i = e.statusCode;
                    e = e.header;
                    if (!0 !== t.isAbort) {
                        if (t.status = void 0 === i ? 200 : i, e && So.set(t, e), Ro.call(t, "loadstart"), 
                        jo.call(t, r.HEADERS_RECEIVED), jo.call(t, r.LOADING), "json" == t.responseType) try {
                            t.response = JSON.parse(n);
                        } catch (e) {
                            t.response = n;
                        } else t.response = n;
                        jo.call(t, r.DONE), Ro.call(t, "load"), Ro.call(t, "loadend");
                    }
                }
                function i(e) {
                    e = e.errMsg, !0 !== t.isAbort && (-1 !== e.indexOf("abort") ? Ro.call(t, "abort") : Ro.call(t, "error", {
                        message: e
                    }), Ro.call(t, "loadend"), c) && console.warn(e);
                }
                var o, s, a, u = this.zl, l = wo.get(this), h = this.responseType.toLocaleLowerCase(), f = ("arraybuffer" !== h && (h = "text"), 
                this.dataType), c = !/^(http|https|ftp|wxfile):\/\/.*/i.test(u);
                "arraybuffer" !== h && (o = "utf8"), delete this.response, this.response = null, 
                c ? (s = wx.getFileSystemManager(), a = {
                    filePath: u,
                    success: n,
                    fail: i
                }, o && (a.encoding = o), s.readFile(a)) : this.request = wx.request({
                    data: e,
                    url: u,
                    method: this.Yl,
                    header: l,
                    dataType: f,
                    responseType: h,
                    success: n,
                    fail: i
                });
            }
        }, {
            key: "setRequestHeader",
            value: function(t, e) {
                var n = wo.get(this);
                n[t] = e, wo.set(this, n);
            }
        }, {
            key: "addEventListener",
            value: function(t, e) {
                var n = this;
                "function" == typeof e && (this["on" + t] = function() {
                    var t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {};
                    t.target = t.target || n, e.call(n, t);
                });
            }
        }, {
            key: "removeEventListener",
            value: function(t, e) {
                this["on" + t] === e && (this["on" + t] = null);
            }
        } ]) && xo(t.prototype, e), Object.defineProperty(t, "prototype", {
            writable: !1
        }), r;
    }()).UNSEND = 0, Ao.OPENED = 1, Ao.HEADERS_RECEIVED = 2, Ao.LOADING = 3, Ao.DONE = 4, 
    {
        VERSION: r,
        BUILD: 115,
        XMLHttpRequest: Ao,
        FMType: i,
        FMNaviMode: o,
        FMNaviPriority: s,
        FMRouteResult: a,
        FMLanguageType: u,
        FMNaviTransfer: l,
        FMRoadNetworkResult: h,
        FMSearchRequest: p,
        FMSearchAnalyser: ne,
        FMNaviAnalyser: n,
        FMNaviObstruction: Qi,
        FMNaviDriveAnalyser: ro,
        FMNaviWalkAnalyser: uo
    });
    e.default = Ao;
} ]).default;